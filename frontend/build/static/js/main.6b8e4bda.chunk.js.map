{"version":3,"sources":["assets/n8n.png","assets/dialogflow.png","assets/webhook.png","assets/typebot.jpg","layout/themeContext.js","context/Socket/SocketContext.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/api.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","pages/ToDoList/index.js","hooks/usePlans/index.js","hooks/useVersion/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","context/Tickets/TicketsContext.js","components/ModalImageCors/index.js","components/ConfirmationModal/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageOptionsMenu/index.js","components/LocationPreview/index.js","components/MessagesList/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/TicketMessagesDialog/index.js","helpers/contrastColor.js","components/ContactTag/index.js","components/TicketListItemCustom/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/NotificationsVolume/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/DarkMode/index.js","components/AnnouncementsPopover/index.js","hooks/useDate/index.js","pages/Chat/ChatPopover.js","layout/index.js","components/Dashboard/CardCounter.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","hooks/useContacts/index.js","hooks/useMessages/index.js","pages/Dashboard/ChartsUser.js","pages/Dashboard/ChartsDate.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/TicketsManagerTabs/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/ContactDrawer/index.js","components/MessageInputCustom/RecordingTimer.js","hooks/useQuickMessages/index.js","components/MessageInputCustom/index.js","hooks/useLocalStorage/index.js","hooks/useQueues/index.js","components/TransferTicketModalCustom/index.js","components/OutlinedDiv/index.js","components/MessageVariablesPicker/index.js","components/ScheduleModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtonsCustom/index.js","components/TagsContainer/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","components/SchedulesForm/index.js","hooks/useCompanies/index.js","components/QueueSelectCustom/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","hooks/useHelps/index.js","components/HelpsManager/index.js","hooks/useSettings/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","pages/Users/index.js","pages/Contacts/index.js","components/ColorPicker/index.js","components/QueueOptions/index.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","pages/Kanban/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","pages/Subscription/index.js","components/FileModal/index.js","pages/Files/index.js","components/QueueSelectSingle/index.js","components/PromptModal/index.js","pages/Prompts/index.js","components/QueueIntegrationModal/index.js","pages/QueueIntegration/index.js","pages/ForgetPassWord/index.js","routes/index.js","App.js","index.js","assets/logo.png","assets/planilha.xlsx","assets/wa-background.png","assets/wa-background-dark.png","assets/sound.mp3","assets/chat_notify.mp3"],"names":["module","exports","ColorModeContext","React","createContext","toggleColorMode","ManagedSocket","constructor","socketManager","this","rawSocket","currentSocket","callbacks","joins","on","recovered","refreshJoinsOnReady","j","console","debug","emit","event","params","off","callback","onReady","push","i","findIndex","c","splice","_len","arguments","length","Array","_key","startsWith","substring","log","disconnect","DummySocket","SocketManager","currentCompanyId","currentUserId","socketReady","getSocket","companyId","_this","userId","localStorage","getItem","warn","removeAllListeners","token","JSON","parse","exp","jwt","decode","Date","now","setTimeout","window","location","reload","openSocket","process","transports","pingTimeout","pingInterval","query","reason","connect","_len2","_key2","onAny","_len3","args","_key3","socket","callbackReady","once","SocketContext","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","buttons","submit","login","register","plans","users","connections","campaigns","schedules","enabled","disabled","clear","delete","save","yes","no","money","companies","plan","auth","dashboard","charts","perDay","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","tabs","general","assessments","integrations","sendIdQueue","timeSendQueue","queueRedirection","outOfHoursMessage","queueRedirectionDesc","prompt","expiresTicket","expiresInactiveMessage","greetingMessage","complationMessage","okAdd","okEdit","cancel","qrCode","message","contacts","deletedAll","searchPlaceholder","deleteAllTitle","importTitle","deleteAllMessage","importMessage","import","export","whatsapp","queueIntegrationModal","id","type","projectName","language","jsonContent","urlN8N","typebotSlug","typebotExpires","typebotKeywordFinish","typebotKeywordRestart","typebotRestartMessage","typebotUnknownMessage","typebotDelayMessage","test","testSuccess","addSuccess","editSuccess","sideMenu","note","options","promptModal","voice","max_tokens","temperature","apikey","max_messages","voiceKey","voiceRegion","prompts","queue","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","queueModal","color","ratingMessage","orderQueue","integrationId","userModal","profile","allTicket","allTicketEnabled","allTicketDesabled","scheduleModal","body","contact","sendAt","sentAt","tagModal","chat","noTicketMessage","uploads","titles","titleUploadMsgDragDrop","titleFileList","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","open","closed","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","reopen","newTicketModal","mainDrawer","listItems","quickMessages","queues","tags","administration","settings","helps","messagesAPI","annoucements","chats","financeiro","files","queueIntegration","appBar","notRegister","user","logout","deleteAll","textMessage","mediaMessage","media","notifications","noTickets","noAttachment","attach","dialog","shortcode","geral","visao","mediaName","messageVariablesPicker","label","vars","contactFirstName","contactName","greeting","protocolNumber","date","hour","contactLists","company","contactListItems","lists","importTitlte","contactList","scheduledAt","completedAt","confirmation","new","update","readonly","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","tagList","fileList","okadd","restart","close","announcements","active","inactive","priority","text","mediaPath","campaignsConfig","queueSelect","inputLabel","userCreation","messagesList","header","assignedTo","return","resolve","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","fileModal","fileOptions","ticketOptionsMenu","schedule","transfer","registerAppointment","appointmentsModal","textarea","titleFrom","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","es","i18n","use","LanguageDetector","init","defaultNS","fallbackLng","ns","resources","toastError","err","_err$response","_err$response$data","errorMsg","response","data","error","exists","t","isString","api","axios","create","baseURL","withCredentials","openApi","reducer","state","action","payload","whatsApp","whatsAppIndex","s","updatedAt","retries","whatsAppId","useWhatsApps","whatsApps","dispatch","useReducer","loading","setLoading","useState","useContext","useEffect","async","get","fetchSession","whatsappId","WhatsAppsContext","WhatsAppsProvider","_ref","children","createElement","Provider","value","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","headers","Promise","reject","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","undefined","handleLogin","userData","has","isArray","setting","find","key","moment","locale","dueDate","vencimento","format","diff","before","isBefore","dias","duration","asDays","toast","Math","round","handleLogout","getCurrentUserInfo","AuthContext","AuthProvider","rules","static","admin","Can","role","perform","check","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","defaultProps","useStyles","makeStyles","root","display","flexDirection","alignItems","margin","inputContainer","width","marginBottom","input","flexGrow","marginRight","listContainer","height","marginTop","backgroundColor","borderRadius","list","ToDoList","classes","task","setTask","tasks","setTasks","editIndex","setEditIndex","savedTasks","className","TextField","onChange","target","variant","Button","onClick","handleAddTask","trim","newTasks","createdAt","List","map","index","ListItem","ListItemText","primary","secondary","toLocaleString","ListItemSecondaryAction","IconButton","handleEditTask","EditIcon","handleDeleteTask","DeleteIcon","usePlans","getPlanList","url","method","responseData","finder","remove","getPlanCompany","useVersion","getVersion","theme","ListSubheader","ListItemLink","props","icon","to","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","Object","assign","button","dense","component","ListItemIcon","newChats","forEach","chatIndex","u","chatId","MainListItems","drawerClose","collapsed","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","showCampaigns","setShowCampaigns","showKanban","setShowKanban","showOpenAi","setShowOpenAi","showIntegrations","setShowIntegrations","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","invisible","setInvisible","pageNumber","setPageNumber","searchParam","version","setVersion","_version","fetchVersion","planConfigs","useCampaigns","useKanban","useOpenAi","useIntegrations","useSchedules","useInternalChat","useExternalApi","fetchData","delayDebounceFn","fetchChats","clearTimeout","unreadsCount","chatUser","unreads","filter","whats","records","DashboardOutlinedIcon","WhatsAppIcon","TableChartIcon","FlashOnIcon","BorderColorIcon","ContactPhoneOutlinedIcon","EventIcon","LocalOfferIcon","Badge","ForumIcon","HelpOutlineIcon","Fragment","Divider","hidden","style","position","fontSize","textAlign","paddingLeft","inset","prev","EventAvailableIcon","ExpandLessIcon","ExpandMoreIcon","Collapse","in","unmountOnExit","disablePadding","ListIcon","PeopleIcon","SettingsOutlinedIcon","super","AnnouncementIcon","AllInclusive","DeviceHubOutlined","badgeContent","SyncAltIcon","AttachFile","AccountTreeOutlinedIcon","PeopleAltOutlinedIcon","CodeRoundedIcon","LocalAtmIcon","Typography","padding","fontWeight","buttonProgress","green","top","left","marginLeft","ButtonWithSpinner","rest","CircularProgress","size","elements","allowedElements","CustomLink","rel","MarkdownWrapper","_ref2","boldRegex","tildaRegex","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","Markdown","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","code","uuid","messageMedia","objectFit","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","medium","large","alt","ConfirmationModal","onClose","onConfirm","Dialog","aria-labelledby","DialogTitle","DialogContent","dividers","DialogActions","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","MessageOptionsMenu","menuOpen","handleClose","anchorEl","confirmationOpen","setConfirmationOpen","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","fromMe","MenuItem","e","hanldeReplyMessage","LocationPreview","image","link","description","handleLocation","minWidth","float","src","flexWrap","gutterBottom","dangerouslySetInnerHTML","__html","fullWidth","messagesListWrapper","overflow","minHeight","backgroundImage","mode","whatsBackground","whatsBackgroundDark","overflowY","scrollbarStyles","circleLoading","opacity","messageLeft","maxWidth","right","whiteSpace","alignSelf","paddingRight","paddingTop","paddingBottom","boxShadow","quotedContainerLeft","quotedMsg","quotedSideColorLeft","flex","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","zIndex","messageContactName","textContentItem","overflowWrap","textContentItemEdited","textContentItemDeleted","fontStyle","timestamp","bottom","dailyTimestamp","dailyTimestampText","ackIcons","verticalAlign","deletedIcon","ackDoneAllIcon","downloadMedia","justifyContent","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","ticket","ticketId","isGroup","hasMore","setHasMore","lastMessageRef","useRef","selectedMessage","setSelectedMessage","setAnchorEl","messageOptionsMenuOpen","Boolean","currentTicketId","current","scrollToBottom","fetchMessages","scrollIntoView","handleOpenMessageOptionsMenu","currentTarget","checkMessageMedia","mediaType","split","locationParts","imageLocation","linkLocation","descriptionLocation","mediaUrl","controls","startIcon","GetApp","href","renderDailyTimestamps","parseISO","messageDay","previousMessageDay","isSameDay","renderNumberTicket","_message$ticket","_message$ticket$whats","messageTicket","ticketNunberClosed","ticketNunberOpen","renderMessageDivider","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","clsx","onScroll","scrollTop","document","getElementById","prevPageNumber","renderMessages","_message$contact","_message$contact2","messageCenter","isDeleted","ExpandMore","xmlns","viewBox","fill","d","isEdited","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketHeader","borderBottom","TicketHeaderSkeleton","Card","square","CardHeader","titleTypographyProps","noWrap","subheaderTypographyProps","avatar","Skeleton","animation","Avatar","subheader","palette","tabHeaderBackground","breakpoints","down","TicketHeader","TicketInfo","userName","setUserName","setContactName","offsetWidth","truncadName","cursor","profilePicUrl","mainWrapper","borderLeft","transition","transitions","easing","sharp","leavingScreen","mainWrapperShift","easeOut","enteringScreen","TicketMessagesDialog","setDrawerOpen","setContact","setTicket","queueId","q","fetchTicket","prevState","_data$contact","handleDrawerOpen","renderTicketInfo","Box","contrastColor","tag","ContactTag","toUpperCase","pendingTicket","queueTag","background","noTicketsDiv","newMessagesCount","noTicketsText","lineHeight","connectionTag","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","contactLastMessage","badgeStyle","acceptButton","ticketQueueColor","ticketInfo","secondaryContentSecond","alignContent","ticketInfo1","Radiusdot","transform","TicketListItemCustom","_ticket$queue5","_ticket$queue5$name","_ticket$queue6","_ticket$contact","_ticket$contact2","_ticket$whatsapp","_ticket$whatsapp2","_ticket$whatsapp2$nam","_ticket$queue7","_ticket$queue8","_ticket$queue8$name","ticketUser","setTicketUser","ticketQueueName","setTicketQueueName","setTicketQueueColor","setTag","whatsAppName","setWhatsAppName","openTicketMessageDialog","setOpenTicketMessageDialog","useParams","isMounted","_ticket$queue","_ticket$queue$name","_ticket$queue2","_ticket$user","_ticket$user$name","_ticket$whatsapp$name","handleSendMessage","read","uuidv4","handleSelectTicket","selected","Tooltip","arrow","placement","ListItemAvatar","disableTypography","VisibilityIcon","blue","chatbot","AndroidIcon","grey","lastMessage","unreadMessages","badge","settingIndex","put","handleAcepptTicket","_ticket$queue3","useIntegration","promptId","handleCloseTicket","_ticket$queue4","handleReopenTicket","useTickets","queueIds","withUnreadMessages","setTickets","fetchTickets","tabContainer","maxHeight","popoverPaper","spacing","noShadow","NotificationsPopOver","volume","ticketIdUrl","pathname","ticketIdRef","isOpen","setIsOpen","setNotifications","showPendingTickets","setShowPendingTickets","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","fetchSettings","Notification","requestPermission","processNotifications","newNotifications","ticketIndex","notfiticationIndex","n","String","_user$queues","some","visibilityState","handleNotifications","urlPicture","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","handleClick","aria-label","overlap","ChatIcon","Popover","disableScrollLock","paper","TicketListItem","icons","customBadge","NotificationsVolume","setVolume","VolumeUpIcon","Grid","container","item","VolumeDownIcon","xs","Slider","step","min","max","handleVolumeChange","chips","chip","QueueSelect","selectedQueueIds","multiple","setQueues","fetchQueues","FormControl","InputLabel","shrink","Select","labelWidth","MenuProps","renderValue","_queues$find","_queues$find2","Chip","multFieldLine","btnWrapper","formControl","UserSchema","Yup","shape","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","setWhatsappId","_data$queues","userQueueIds","fetchUser","scroll","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","handleSaveUser","setSubmitting","touched","errors","isSubmitting","Form","Field","as","autoFocus","helperText","labelId","divider","dividerText","textField","backdrop","drawer","BackdropLoading","Backdrop","switch","visible","btnHeader","DarkMode","mainPaper","AnnouncementDialog","announcement","aria-describedby","border","filename","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","record","Notifications","Paper","scrollHeight","clientHeight","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","ChatPopover","notifySound","userObj","senderId","goToMessages","fancyBackground","main","toolbar","dark","barraSuperior","toolbarIcon","appBarShift","menuButton","menuButtonHidden","drawerPaper","scrollbarStylesSoft","drawerPaperClose","overflowX","up","appBarSpacer","containerWithScroll","logo","LoggedInLayout","_user$company","_user$company2","_user$company3","_user$company4","themeToggle","userModalOpen","setUserModalOpen","setMenuOpen","drawerOpen","drawerVariant","setDrawerVariant","useTheme","colorMode","greaterThenSm","useMediaQuery","interval","setInterval","clearInterval","handleCloseMenu","Drawer","ChevronLeftIcon","AppBar","Toolbar","edge","MenuIcon","Brightness7Icon","Brightness4Icon","handleRefreshPage","CachedIcon","aria-controls","aria-haspopup","AccountCircle","handleOpenUserModal","handleClickLogout","cardAvatar","cardTitle","cardSubtitle","CardCounter","red","pointer","RatingBox","rating","ratingTrunc","trunc","Rating","defaultValue","readOnly","TableAttendantsStatus","attendants","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","minutes","avgSupportTime","startOf","online","CheckCircleIcon","ErrorIcon","useDashboard","useContacts","dateStart","dateEnd","setContacts","count","setCount","fetchContacts","useMessages","ChartJS","CategoryScale","LinearScale","BarElement","Title","Legend","ChartDataLabels","responsive","plugins","legend","datalabels","anchor","offset","textStrokeColor","textStrokeWidth","font","weight","ChatsUser","initialDate","setInitialDate","finalDate","setFinalDate","ticketsData","setTicketsData","handleGetTicketsInformation","dataCharts","labels","nome","datasets","quantidade","Stack","direction","sx","my","LocalizationProvider","dateAdapter","AdapterDateFns","adapterLocale","brLocale","DatePicker","newValue","renderInput","Bar","ChartsDate","hasOwnProperty","horario","total","fixedHeightPaper","alignRight","selectContainer","iframeDashboard","customFixedHeightPaper","customFixedHeightPaperLg","card1","boxticket","card2","card3","card4","card5","card6","card7","card8","card9","fixedHeightPaper2","Dashboard","counters","setCounters","setAttendants","period","setPeriod","filterType","setFilterType","dateFrom","setDateFrom","dateTo","setDateTo","newDate","getDate","month","getMonth","getFullYear","showFilter","setShowFilter","queueTicket","setQueueTicket","days","isEmpty","date_from","date_to","keys","formatTime","firstLoad","Container","sm","md","elevation","paragraph","supportHappening","CallIcon","supportPending","HourglassEmptyIcon","supportFinished","all","GetContacts","GroupAddIcon","AccessAlarmIcon","avgWaitTime","TimerIcon","handleChangeFilterType","FormHelperText","InputLabelProps","handleChangePeriod","extraAttr","ContactSchema","ContactModal","contactId","onSave","fetchContact","handleSaveContact","FieldArray","_ref3","info","DeleteOutlineIcon","offline","createFilterOptions","NewTicketModal","modalOpen","initialContact","setOptions","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","selectedWhatsapp","setSelectedWhatsapp","newContact","setNewContact","whatsapps","setWhatsapps","contactModalOpen","setContactModalOpen","openAlert","setOpenAlert","userTicketOpen","setUserTicketOpen","queueTicketOpen","setQueueTicketOpen","then","handleSaveTicket","createAddContactOption","filterOptions","filtered","inputValue","renderOption","option","renderOptionLabel","handleCloseContactModal","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","handleSelectOption","onKeyPress","InputProps","endAdornment","displayEmpty","w","TicketsSkeleton","ticketsListWrapper","borderTop","ticketsListHeader","ticketsCount","unshift","TicketsListCustom","updateCount","filteredTickets","indexOf","shouldUpdateTicket","_data$ticket","_data$ticket$queue","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","Checkbox","checked","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","v","r","renderTags","getTagProps","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","userList","getOptionSelected","toLowerCase","getUserProps","ticketsWrapper","tabsHeader","tabsInternal","settingsIcon","tab","internalTab","ticketOptionsBox","optionsBackground","ticketSearchLine","serachInputWrapper","searchIcon","searchInput","insiderTabPanel","insiderDoubleTabPanel","labelContainer","iconLabelWrapper","insiderTabLabel","smallFormControl","TicketsManagerTabs","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","searchTimeout","applyPanelStyle","handleCloseOrOpenTicket","Tabs","handleChangeTab","indicatorColor","textColor","Tab","MoveToInboxIcon","CheckBoxIcon","SearchIcon","InputBase","inputRef","searchedTerm","FormControlLabel","labelPlacement","control","Switch","handleChangeTabOpen","TicketsList","val","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","deleteItem","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","handleSave","setErrors","rows","multiline","flexShrink","borderRight","contactdrawer","ContactDrawer","_contact$extraInfo","handleDrawerClose","setModalOpen","openForm","setOpenForm","PaperProps","BackdropProps","ModalProps","CloseIcon","CreateIcon","Link","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","useQuickMessages","deleteRecord","Mp3Recorder","MicRecorder","bitRate","bordabox","newMessageBox","newmessagebox","messageInputWrapper","inputdigita","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","EmojiOptions","showEmoji","setShowEmoji","handleAddEmoji","MoodIcon","Picker","perLine","showPreview","showSkinTones","onSelect","SignSwitch","setSignMessage","isWidthUp","FileInput","handleChangeMedias","disableOption","htmlFor","AttachFileIcon","ActionButtons","inputMessage","recording","ticketStatus","handleCancelAudio","handleUploadAudio","handleStartRecording","SendIcon","HighlightOffIcon","CheckCircleOutlineIcon","MicIcon","CustomInput","setInputMessage","handleInputPaste","handleQuickAnswersClick","setQuickMessages","popupOpen","setPopupOpen","listQuickMessages","truncatedMessage","firstWord","charAt","filteredOptions","setInputRef","closeIcon","isObject","opt","isNil","onInputChange","onPaste","shiftKey","maxRows","withWidth","_medias$","medias","setMedias","setRecording","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","emoji","native","selectedMedias","from","clipboardData","blob","extension","formData","FormData","getTime","append","handleUploadQuickMessageMedia","navigator","mediaDevices","getUserMedia","audio","start","stop","getMp3","CancelIcon","ClearIcon","renderReplyingMessage","useQueues","findAll","TransferTicketModalCustom","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","loadQueues","fetchUsers","noOptionsText","InputComponent","other","OutlinedDiv","inputComponent","inputProps","MessageVariablesPicker","msgVars","msgVar","onMouseDown","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","setSchedule","currentContact","setCurrentContact","attachment","setAttachment","attachmentFile","messageInputRef","customList","capitalize","file","head","handleAttachmentFile","scheduleData","handleSaveSchedule","setFieldValue","setValueFunc","firstHalfText","selectionStart","secondHalfText","selectionEnd","newCursorPos","setSelectionRange","handleClickMsgVar","DeleteOutline","click","TicketOptionsMenu","transferTicketModalOpen","setTransferTicketModalOpen","scheduleModalOpen","setScheduleModalOpen","setContactId","handleOpenConfirmationModal","keepMounted","handleOpenScheduleModal","handleCloseTransferTicketModal","handleCloseScheduleModal","actionButtons","TicketActionButtonsCustom","ticketOptionsMenuOpen","customTheme","createTheme","handleUpdateTicketStatus","Replay","UndoRoundedIcon","ThemeProvider","MoreVert","TagsContainer","createTag","optionsChanged","newTag","syncTags","PaperComponent","Ticket","TicketActionButtons","MessageInput","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","TicketsCustom","TicketsManager","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","QuestionAnswerIcon","Tickets","SignUp","qs","phone","planId","setPlans","listPlans","CssBaseline","recurrence","campaignsEnabled","handleSignUp","autoComplete","InputMask","mask","field","maxLength","justify","mt","Copyright","nomeEmpresa","versionSystem","powered","Login","handleChangeInput","noValidate","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","_","SessionSchema","memo","isDefault","provider","timeUseBotQueues","maxUseBotQueues","setWhatsApp","selectedQueueId","setSelectedQueueId","selectedPrompt","setSelectedPrompt","setPrompts","whatsQueueIds","transferQueueId","handleChangePrompt","whatsappData","handleSaveWhatsApp","selectedIds","timeToTransfer","selectedId","setQrCode","fontFamily","class","focusable","aria-hidden","QRCode","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleOpenWhatsAppModal","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","QrcodeModal","WhatsAppModal","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","startTime","endTime","render","arrayHelpers","FastField","NumberFormat","customInput","_ref4","useCompanies","finding","updateSchedules","QueueSelectCustom","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","modalUser","setModalUser","firstUser","setFirstUser","setRecord","handleCloseModalUsers","resetForm","handleSubmit","setValues","incrementDueDate","handleOpenModalUsers","CompaniesManagerGrid","rowStyle","renderPlan","renderCampaignsStatus","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","PlansManagerGrid","minimumFractionDigits","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","renderKanban","renderOpenAi","renderIntegrations","PlansManager","planList","_data$value","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","useHelps","loadHelps","helpList","useSettings","getAll","fontecor","Options","scheduleTypeChanged","userRating","setUserRating","scheduleType","setScheduleType","callType","setCallType","chatbotType","setChatbotType","CheckMsgIsGroup","setCheckMsgIsGroupType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","loadingCallType","setLoadingCallType","loadingChatbotType","setLoadingChatbotType","loadingCheckMsgIsGroup","setCheckMsgIsGroup","asaasType","setAsaasType","loadingAsaasType","setLoadingAsaasType","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","sendGreetingMessageOneQueues","setSendGreetingMessageOneQueues","loadingSendGreetingMessageOneQueues","setLoadingSendGreetingMessageOneQueues","handleChangeUserRating","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","handleScheduleType","handleGroupType","handleCallType","handleChatbotType","handleSendGreetingAccepted","handleSettingsTransfTicket","handleSendGreetingMessageOneQueues","scrollButtons","handleChangeAsaas","OnlyForSuperUser","SettingsCustom","setCompany","currentUser","setCurrentUser","setSettings","schedulesEnabled","setSchedulesEnabled","getAllSettings","settingList","findData","isSuper","handleTabChange","InputField","errorText","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","countries","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","addressDistrict","setAddressDistrict","formField","firstName","address1","city","zipcode","country","ul","listStyle","cardHeader","cardPricing","footer","customCard","custom","Pricing","setActiveStep","activeStep","usersPlans","setUsersPlans","companiesPlans","setCompaniesPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","customValuePlans","setCustomValuePlans","loadCompanies","companiesList","plansCompanies","price","buttonText","buttonVariant","tiers","tier","StarIcon","CardContent","line","CardActions","listItem","PaymentDetails","formValues","newPlan","ReviewOrder","useFormikContext","ShippingDetails","div","Total","SuccessContent","CheckoutSuccess","pix","pixString","copied","setCopied","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","invoiceId","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","nullable","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","setinvoiceId","Invoice","currentValidationSchema","isLastStep","_handleBack","Stepper","Step","StepLabel","formInitialValues","newValues","address2","_submitForm","setTouched","PaymentForm","_renderStepContent","invoices","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","hoje","rowStatus","SubscriptionModal","detail","currency","handleOpenContactModal","Users","deletingUser","setDeletingUser","handleDeleteUser","handleCloseUserModal","startAdornment","InputAdornment","handleEditUser","newContacts","contactIndex","Contacts","contactTicket","setContactTicket","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","handleDeleteContact","go","handleimportContact","CSVLink","textDecoration","separator","hadleEditContact","ColorPicker","currentColor","selectedColor","setSelectedColor","BlockPicker","triangle","colors","hex","onChangeComplete","addButton","QueueOptionStepper","updateOptions","activeOption","setActiveOption","handleOption","parentId","optionList","edition","handleEdition","renderTitle","handleOptionChangeTitle","SaveIcon","order","handleDeleteOption","renderMessage","handleOptionChangeMessage","renderStep","StepContent","optionNumber","handleAddOption","AddIcon","nonLinear","orientation","QueueOptions","fetchOptions","addOption","newOption","renderStepper","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","setIntegrations","queueIntegrations","handleSaveQueue","onFocus","Colorize","textField1","integration","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleCloseConfirmationModal","handleDeleteQueue","handleCloseQueueModal","handleOpenQueueModal","handleEditQueue","TagSchema","TagModal","tagId","kanban","setKanban","handleKanbanChange","tagData","handleSaveTag","ColorBox","disableAlpha","hslGradient","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","handleCloseTagModal","handleOpenTagModal","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","setFile","handleSendTextMessage","firstFile","handleSendMediaMessage","mainPaperContainer","gridTemplateColumns","gap","helpPaper","shadows","paperHover","videoThumbnail","videoTitle","videoDescription","videoModal","videoModalContent","outline","aspectRatio","Helps","selectedVideo","setSelectedVideo","closeVideoModal","handleModalClose","addEventListener","removeEventListener","openVideoModal","Modal","frameBorder","allow","allowFullScreen","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","fileUploadRef","findContactList","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","BlockIcon","path","require","QuickeMessageSchema","QuickMessageDialog","quickemessageId","quickemessage","setQuickemessage","quickemessageData","isMedia","basename","handleSaveQuickeMessage","quickmessages","newQuickmessages","quickemessageIndex","Quickemessages","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","quickemessages","fetchQuickemessages","handleDeleteQuickemessage","resetPagination","handleCloseQuickMessageDialog","handleOpenQuickMessageDialog","_quickemessage$mediaN","handleEditQuickemessage","Kanban","reloadData","setReloadData","isInitialLoadComplete","setIsInitialLoadComplete","fetchedTags","lista","jsonString","lanes","UserQueue","teste","handleCardClick","cards","toString","popularCards","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","Route","Component","isPrivate","Redirect","RouterRoute","eventTitleStyle","textOverflow","localizer","momentLocalizer","defaultMessages","time","allDay","week","work_week","day","previous","next","yesterday","tomorrow","today","agenda","noEventsInRange","showMore","scheduleIndex","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","paramName","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleDeleteSchedule","Calendar","formats","agendaDateFormat","weekdayFormat","events","handleEditSchedule","end","startAccessor","endAccessor","tabmsg","campaigntab","CampaignSchema","CampaignModal","campaignId","tagListId","campaign","setCampaign","setContactLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","tagLists","setTagLists","formattedTagLists","catch","_ref5","prevCampaignData","entries","_ref6","moreThenAnHour","Number","isNaN","isEditable","renderMessageField","identifier","renderConfirmationMessageField","dataValues","_ref7","handleSaveCampaign","_ref8","fileListId","f","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","settingsList","fromEntries","handleOnChangeVariable","changedProp","handleOnChangeSettings","removeVariable","newList","addVariable","variablesExists","CampaignReport","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","LinearProgress","GroupIcon","DoneIcon","DoneAllIcon","ListAltIcon","ScheduleIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","boxlist","chatList","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","getItemStyle","ownerId","messageList","chatlist","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridContainer","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","alert","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","changedChats","filteredChats","sendMessage","deleteChat","loadMoreMessages","_formatDate","past","abs","ceil","trialExpiration","FileListSchema","FilesModal","setFiles","selectedFileNames","setSelectedFileNames","setFileList","uploadFiles","filesOptions","fileOption","fileData","handleSaveFileList","minRows","selectedFile","updatedOptions","updatedFileNames","newFiles","fileListIndex","FileLists","selectedFileList","setSelectedFileList","deletingFileList","setDeletingFileList","fileListModalOpen","setFileListModalOpen","fetchFileLists","fileId","handleDeleteFileList","FileModal","handleCloseFileListModal","handleOpenFileListModal","handleEditFileList","QueueSelectSingle","PromptModal","selectedVoice","setSelectedVoice","showApiKey","setShowApiKey","handleToggleApiKey","maxTokens","apiKey","maxMessages","setPrompt","fetchPrompt","handleChangeVoice","promptData","handleSavePrompt","VisibilityOff","Visibility","redBox","newPrompts","promptIndex","p","Prompts","promptModalOpen","setPromptModalOpen","handleDeletePrompt","handleClosePromptModal","handleOpenPromptModal","handleEditPrompt","btnLeft","DialogflowSchema","QueueIntegration","setIntegration","handleSaveDialogflow","xl","helpertext","handleTestSession","newIntegrations","integrationIndex","selectedIntegration","setSelectedIntegration","fetchIntegrations","handleDeleteIntegration","IntegrationModal","handleCloseIntegrationModal","dialogflow","n8n","webhooks","typebot","handleEditIntegration","passwordRegex","ForgetPassword","showAdditionalFields","setShowAdditionalFields","showResetPasswordButton","setShowResetPasswordButton","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","setError","togglePasswordVisibility","toggleConfirmPasswordVisibility","isResetPasswordButtonClicked","newPassword","matches","confirmPassword","when","is","oneOf","otherwise","handleResetPassword","handleSendEmail","VisibilityOffIcon","Routes","BrowserRouter","exact","Signup","TicketResponsiveContainer","QuickMessages","Files","Financeiro","Annoucements","Subscription","Chat","ToastContainer","queryClient","QueryClient","App","setLocale","prefersDarkMode","preferredTheme","setMode","prevMode","textPrimary","borderPrimary","light","announcementspopover","boxchatlist","messageIcons","inputBackground","mediainput","i18nlocale","ptBR","QueryClientProvider","client","ReactDOM"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,iC,mBCA3CD,EAAOC,QAAU,spK,qBCAjBD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,msY,6cCIFC,MAFUC,IAAMC,cAAc,CAAEC,gBAAiBA,S,4BCEhE,MAAMC,EACJC,YAAYC,GACVC,KAAKD,cAAgBA,EACrBC,KAAKC,UAAYF,EAAcG,cAC/BF,KAAKG,UAAY,GACjBH,KAAKI,MAAQ,GAEbJ,KAAKC,UAAUI,GAAG,UAAW,KAC3B,IAAKL,KAAKC,UAAUK,UAAW,CAC7B,MAAMC,EAAsBA,KAC1B,IAAK,MAAMC,KAAKR,KAAKI,MACnBK,QAAQC,MAAM,kBAAmBF,GACjCR,KAAKC,UAAUU,KAAK,OAAOH,EAAEI,SAAYJ,EAAEK,QAE7Cb,KAAKC,UAAUa,IAAI,QAASP,IAE9B,IAAK,MAAMC,KAAKR,KAAKG,UACnBH,KAAKC,UAAUa,IAAIN,EAAEI,MAAOJ,EAAEO,UAC9Bf,KAAKC,UAAUI,GAAGG,EAAEI,MAAOJ,EAAEO,UAG/Bf,KAAKC,UAAUI,GAAG,QAASE,MAKjCF,GAAGO,EAAOG,GACR,MAAc,UAAVH,GAA+B,YAAVA,EAChBZ,KAAKD,cAAciB,QAAQD,IAEpCf,KAAKG,UAAUc,KAAK,CAACL,QAAOG,aACrBf,KAAKC,UAAUI,GAAGO,EAAOG,IAGlCD,IAAIF,EAAOG,GACT,MAAMG,EAAIlB,KAAKG,UAAUgB,UAAWC,GAAMA,EAAER,QAAUA,GAASQ,EAAEL,WAAaA,GAE9E,OADAf,KAAKG,UAAUkB,OAAOH,EAAG,GAClBlB,KAAKC,UAAUa,IAAIF,EAAOG,GAGnCJ,KAAKC,GAAmB,IAAD,IAAAU,EAAAC,UAAAC,OAARX,EAAM,IAAAY,MAAAH,EAAA,EAAAA,EAAA,KAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAANb,EAAMa,EAAA,GAAAH,UAAAG,GAKnB,OAJId,EAAMe,WAAW,UACnB3B,KAAKI,MAAMa,KAAK,CAAEL,MAAOA,EAAMgB,UAAU,GAAIf,WAC7CJ,QAAQoB,IAAI,UAAW,CAAEjB,MAAOA,EAAMgB,UAAU,GAAIf,YAE/Cb,KAAKC,UAAUU,KAAKC,KAAUC,GAGvCiB,aACE,IAAK,MAAMtB,KAAKR,KAAKI,MACnBJ,KAAKC,UAAUU,KAAK,QAAQH,EAAEI,SAAYJ,EAAEK,QAE9Cb,KAAKI,MAAQ,GACb,IAAK,MAAMgB,KAAKpB,KAAKG,UACnBH,KAAKC,UAAUa,IAAIM,EAAER,MAAOQ,EAAEL,UAEhCf,KAAKG,UAAY,IAIrB,MAAM4B,EACJ1B,MACAS,OACAH,QACAmB,eAGF,MAAME,EAAgB,CACpBC,kBAAmB,EACnBC,eAAgB,EAChBhC,cAAe,KACfiC,aAAa,EAEbC,UAAW,SAASC,GAAY,IAADC,EAAA,KAC7B,IAAIC,EAAS,KAKb,GAJIC,aAAaC,QAAQ,YACvBF,EAASC,aAAaC,QAAQ,YAG3BJ,IAAcrC,KAAKE,cACtB,OAAO,IAAI6B,EAOb,GAJIM,GAAkC,kBAAdA,IACtBA,EAAY,GAAGA,GAGbA,IAAcrC,KAAKiC,kBAAoBM,IAAWvC,KAAKkC,cAAe,CACpElC,KAAKE,gBACPO,QAAQiC,KAAK,gDACb1C,KAAKE,cAAcyC,qBACnB3C,KAAKE,cAAc4B,aACnB9B,KAAKE,cAAgB,MAGvB,IAAI0C,EAAQC,KAAKC,MAAMN,aAAaC,QAAQ,UAC5C,MAAM,IAAEM,GAAQC,IAAIC,OAAOL,GAE3B,GAAKM,KAAKC,OAAa,IAAJJ,EAKjB,OAJAtC,QAAQiC,KAAK,uCACbU,WAAW,KACTC,OAAOC,SAASC,UAChB,KACK,IAAIxB,EAMb,GAHA/B,KAAKiC,iBAAmBI,EACxBrC,KAAKkC,cAAgBK,GAEhBK,EACH,OAAO,IAAIb,EAGb/B,KAAKE,cAAgBsD,YAAWC,wBAAmC,CACjEC,WAAY,CAAC,aACbC,YAAa,KACbC,aAAc,KACdC,MAAO,CAAEjB,WAGX5C,KAAKE,cAAcG,GAAG,aAAeyD,IAEnC,GADArD,QAAQiC,KAAK,gCAAgCoB,GACzCA,EAAOnC,WAAW,OAAQ,CAC5BlB,QAAQiC,KAAK,qBAAsB1C,KAAKE,eAExC,MAAM,IAAE6C,GAAQC,IAAIC,OAAOL,GAC3B,GAAKM,KAAKC,MAAM,KAAW,IAAJJ,EAGrB,OAFAtC,QAAQiC,KAAK,qCACbW,OAAOC,SAASC,SAIlBvD,KAAKE,cAAc6D,aAIvB/D,KAAKE,cAAcG,GAAG,WAAW,WAAgB,IAAD,IAAA2D,EAAAzC,UAAAC,OAAXX,EAAM,IAAAY,MAAAuC,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANpD,EAAMoD,GAAA1C,UAAA0C,GACzCxD,QAAQiC,KAAK,mBAAoB7B,MAGnCb,KAAKE,cAAcgE,OAAM,SAACtD,GAAoB,IAAD,IAAAuD,EAAA5C,UAAAC,OAAT4C,EAAI,IAAA3C,MAAA0C,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJD,EAAIC,EAAA,GAAA9C,UAAA8C,GACtC5D,QAAQC,MAAM,UAAW,CAAE4D,OAAQhC,EAAKpC,cAAeU,QAAOwD,YAGhEpE,KAAKgB,QAAQ,KACXhB,KAAKmC,aAAc,IAKvB,OAAO,IAAItC,EAAcG,OAG3BgB,QAAS,SAAUuD,GACbvE,KAAKmC,YACPoC,IAIFvE,KAAKE,cAAcsE,KAAK,QAAS,KAC/BD,QAMAE,EAAgB9E,0B,utBC1KtB,MCIM+E,GAAW,CDHfC,GAAI,CACFC,aAAc,CACZC,OAAQ,CACNC,MAAO,cACPC,OAAQ,CACNC,QAAS,uDACTC,KAAM,4DAERC,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,OAAQ,YACRC,MAAO,gCAGXA,MAAO,CACLV,MAAO,QACPI,KAAM,CACJE,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,OAAQ,SACRE,SAAU,8BAGdC,MAAO,CACLR,KAAM,CACJC,KAAM,OACNQ,MAAO,cACPC,YAAa,cACbC,UAAW,YACXC,UAAW,eACXC,QAAS,cACTC,SAAU,gBACVC,MAAO,WACPC,OAAQ,UACRC,KAAM,SACNC,IAAK,MACLC,GAAI,SACJC,MAAO,OAGXC,UAAW,CACTzB,MAAO,oBACPI,KAAM,CACJC,KAAM,kBACNqB,KAAM,QACN5D,MAAO,QACP2C,OAAQ,YACRP,QAAS,gCAGbyB,KAAM,CACJ1B,OAAQ,CACNC,QAAS,+BAEXpC,MAAO,SAET8D,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACN9B,MAAO,yBAIbc,YAAa,CACXd,MAAO,cACPC,OAAQ,CACN8B,QAAS,sDAEXC,kBAAmB,CACjBC,YAAa,UACbC,cAAe,kEACfC,gBAAiB,cACjBC,kBACE,8DAEJ5B,QAAS,CACP6B,IAAK,qBACLrF,WAAY,cACZsF,SAAU,mBACVC,OAAQ,UACRC,MAAO,eACPC,WAAY,cAEdC,SAAU,CACRC,aAAc,CACZ3C,MAAO,yCACP4C,QACE,kHAEJL,OAAQ,CACNvC,MAAO,+BACP4C,QACE,4FAEJC,UAAW,CACT7C,MAAO,4BAET8C,QAAS,CACP9C,MAAO,yCACP4C,QACE,+JAGNG,MAAO,CACL1C,KAAM,OACN2C,OAAQ,SACRC,WAAY,8BACZC,QAAS,YACTC,QAAS,cACTC,QAAS,cAGbC,cAAe,CACbrD,MAAO,CACLqC,IAAK,qBACLiB,KAAM,mBAEbC,KAAM,CACCC,QAAS,QACT5D,SAAU,YACV6D,YAAa,mBACbC,aAAc,oBACd1C,UAAW,4BAEbZ,KAAM,CACJC,KAAM,OACN6C,QAAS,YACTS,YAAa,OACbC,cAAe,sCACfC,iBAAkB,2BACxBC,kBAAmB,iCACbC,qBAAsB,mFACtBC,OAAQ,SAGRC,cAAe,2CACfC,uBAAwB,2CAC9BC,gBAAiB,6BACXC,kBAAmB,2BACzBT,YAAa,QAETnD,QAAS,CACP6D,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVrE,QAAS,+BAEXsE,OAAQ,CACNC,QAAS,0CAEXC,SAAU,CACR1E,MAAO,WACPC,OAAQ,CACN8B,QAAS,mCACf4C,WAAY,4CAEZC,kBAAmB,eACb5C,kBAAmB,CACnBC,YAAa,WACb4C,eAAgB,gBAChBC,YAAa,oBACb5C,cAAe,gGACf6C,iBAAkB,qGAClBC,cAAe,kDAEjBxE,QAAS,CACPyE,OAAQ,oBACR5C,IAAK,oBACL6C,OAAQ,oBACR9D,OAAQ,0BAEV2B,MAAO,CACL1C,KAAM,OACN8E,SAAU,WACV7E,MAAO,QACP6C,QAAS,gBAGbiC,sBAAuB,CACrBpF,MAAO,CACLqC,IAAK,oBACLiB,KAAM,kBAERlD,KAAM,CACJiF,GAAI,KACJC,KAAM,OACNjF,KAAM,OACNkF,YAAa,kBACbC,SAAU,YACVC,YAAa,cACbC,OAAQ,MACRC,YAAa,iBACbC,eAAgB,6CAChBC,qBAAsB,kCACtBC,sBAAuB,iCACvBC,sBAAuB,mCACvBC,sBAAuB,sCACvBC,oBAAqB,kCAEvBzF,QAAS,CACP6D,MAAO,YACPC,OAAQ,SACRC,OAAQ,WACR2B,KAAM,cAERtG,SAAU,CACRuG,YAAa,wCACbC,WAAY,2CACZC,YAAa,0CAGpBC,SAAU,CACDjG,KAAM,uBACNkG,KAAM,uDACNC,QAAS,CACPvF,QAAS,SACTC,SAAU,YAGlBuF,YAAa,CACXrG,KAAM,CACJC,KAAM,OACN2D,OAAQ,SACR0C,MAAO,MACPC,WAAY,kCACZC,YAAa,cACbC,OAAQ,UACRC,aAAc,yCACdC,SAAU,sBACVC,YAAa,oBAEf9G,QAAS,4BACTF,MAAO,CACLqC,IAAK,mBACLiB,KAAM,iBAER9C,QAAS,CACP6D,MAAO,YACPC,OAAQ,SACRC,OAAQ,aAGZ0C,QAAS,CACPjH,MAAO,UACP+C,MAAO,CACL1C,KAAM,OACN6G,MAAO,aACPP,WAAY,4BACZxD,QAAS,eAEXnB,kBAAmB,CACjBC,YAAa,UACbC,cAAe,mEAEjB1B,QAAS,CACP6B,IAAK,qBAGT8E,aAAc,CACZnH,MAAO,CACLqC,IAAK,oBACLiB,KAAM,kBAERlD,KAAM,CACJgH,SAAU,mBACVC,UAAW,+BACXhH,KAAM,OACNiH,OAAQ,wBACRhH,MAAO,QACPiH,UAAW,gBACXC,WAAY,QACZrC,SAAU,uBAEZ3E,QAAS,CACPiH,aAAc,6BACdpD,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVrE,QAAS,8BAEXwH,WAAY,CACV1H,MAAO,CACLqC,IAAK,iBACLiB,KAAM,eAERlD,KAAM,CACJC,KAAM,OACNsH,MAAO,MACPxD,gBAAiB,6BACjBC,kBAAmB,2BACnBN,kBAAmB,iCACnB8D,cAAe,8BACf9J,MAAO,QACP+J,WAAY,sBACZC,cAAe,oBAEjBtH,QAAS,CACP6D,MAAO,YACPC,OAAQ,SACRC,OAAQ,aAGZwD,UAAW,CACT/H,MAAO,CACLqC,IAAK,uBACLiB,KAAM,qBAERlD,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,SAAU,QACVyH,QAAS,SACT7C,SAAU,uBAEV8C,UAAW,iCACXC,iBAAkB,aAClBC,kBAAmB,gBAErB3H,QAAS,CACP6D,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVrE,QAAS,iCAEXkI,cAAe,CACbpI,MAAO,CACLqC,IAAK,mBACLiB,KAAM,sBAERlD,KAAM,CACJiI,KAAM,WACNC,QAAS,UACTC,OAAQ,sBACRC,OAAQ,iBAEVhI,QAAS,CACP6D,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVrE,QAAS,kCAEXuI,SAAU,CACRzI,MAAO,CACLqC,IAAK,WACLiB,KAAM,cAERlD,KAAM,CACJC,KAAM,OACNsH,MAAO,OAETnH,QAAS,CACP6D,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVrE,QAAS,0BAEXwI,KAAM,CACJC,gBAAiB,oDAEnBC,QAAS,CACPC,OAAQ,CACNC,uBAAwB,2CACxBC,cAAe,wBAGnBC,eAAgB,CACdxI,QAAS,CACPyI,UAAW,SAGfC,mBAAoB,CAClBC,YAAa,SAEfC,QAAS,CACPnJ,OAAQ,CACN8B,QAAS,kDAEXsH,aAAc,CACZ5E,QAAS,eAEXlB,KAAM,CACJ+F,KAAM,CAAEtJ,MAAO,WACfuJ,OAAQ,CAAEvJ,MAAO,cACjBwJ,OAAQ,CAAExJ,MAAO,UAEnBwJ,OAAQ,CACNL,YAAa,kCAEf3I,QAAS,CACPiJ,QAAS,UAGbC,oBAAqB,CACnB1J,MAAO,oBACP2J,WAAY,iCACZC,gBAAiB,uBACjBC,sBAAuB,qBACvBC,UAAW,6CACXtJ,QAAS,CACPuJ,GAAI,aACJxF,OAAQ,aAGZyF,YAAa,CACXC,cAAe,aACfC,eAAgB,YAChBC,eAAgB,aAChBC,iBACE,oEACF5J,QAAS,CACP6J,OAAQ,UACRd,OAAQ,YACRe,OAAQ,YAGZC,eAAgB,CACdvK,MAAO,eACP2J,WAAY,kCACZtH,IAAK,YACL7B,QAAS,CACPuJ,GAAI,SACJxF,OAAQ,aAGZiG,WAAY,CACVC,UAAW,CACT7I,UAAW,YACXd,YAAa,cACbsI,QAAS,eACTsB,cAAe,uBACfhG,SAAU,WACViG,OAAQ,kBACRC,KAAM,OACNC,eAAgB,sBAChBhK,MAAO,cACPiK,SAAU,sBACVC,MAAO,QACPC,YAAa,MACbhK,UAAW,eACXD,UAAW,YACXkK,aAAc,eACdC,MAAO,eACPC,WAAY,aACZC,MAAO,oBACPnE,QAAS,UACToE,iBAAkB,qBAEpBC,OAAQ,CACNC,YAAY,yBACZC,KAAM,CACJxD,QAAS,SACTyD,OAAQ,UAIdJ,iBAAkB,CAChBrL,MAAO,oBACP+C,MAAO,CACLsC,GAAI,KACJC,KAAM,OACNjF,KAAM,OACNkF,YAAa,kBACbC,SAAU,YACVvC,WAAY,2BACZE,QAAS,eAEX3C,QAAS,CACP6B,IAAK,qBAEPuC,kBAAmB,eACnB5C,kBAAmB,CACjBC,YAAa,UACbC,cACE,0HAGNkJ,MAAO,CACLpL,MAAO,oBACP+C,MAAO,CACL1C,KAAM,OACNqE,SAAU,WACVvB,QAAS,cAEXlD,OAAQ,CACN8B,QAAS,iCACT4C,WAAY,mDAEdnE,QAAS,CACP6B,IAAK,YACLqJ,UAAW,iBAEb1J,kBAAmB,CACjBC,YAAa,UACb4C,eAAgB,gBAChB3C,cAAe,6CACf6C,iBAAkB,oDAGtBiG,YAAa,CACXhL,MAAO,MACP2L,YAAa,CACXrE,OAAQ,YACRe,KAAM,WACNvK,MAAO,oBAET8N,aAAc,CACZtE,OAAQ,YACRe,KAAM,kBACNwD,MAAO,UACP/N,MAAO,qBAGXgO,cAAe,CACbC,UAAW,8BAEbrB,cAAe,CACb1K,MAAO,uBACP4E,kBAAmB,eACnBoH,aAAc,YACdhK,kBAAmB,CACjBC,YAAa,cACbC,cAAe,4DAEjB1B,QAAS,CACP6B,IAAK,YACL4J,OAAQ,iBACR1H,OAAQ,WACRjB,KAAM,UAERrD,OAAQ,CACNC,QAAS,iCACT6B,QAAS,gCAEXmK,OAAQ,CACNlM,MAAO,qBACPmM,UAAW,SACX1H,QAAS,WACTpD,KAAM,SACNkD,OAAQ,WACR6H,MAAO,kBACP/J,IAAK,YACLiB,KAAM,SACN+I,MAAO,qBAETtJ,MAAO,CACLoJ,UAAW,SACX1H,QAAS,WACTtB,QAAS,cACTmJ,UAAW,kBACXtJ,OAAQ,WAGZuJ,uBAAwB,CACtBC,MAAO,8BACPC,KAAM,CACJC,iBAAkB,gBAClBC,YAAa,OACbC,SAAU,iBACVC,eAAgB,YAChBC,KAAM,OACNC,KAAM,SAGVC,aAAc,CACZhN,MAAO,qBACP+C,MAAO,CACL1C,KAAM,OACNqE,SAAU,WACVvB,QAAS,eAEX3C,QAAS,CACP6B,IAAK,cAEP6J,OAAQ,CACN7L,KAAM,OACN4M,QAAS,UACT3I,OAAQ,SACRD,MAAO,YACPhC,IAAK,YACLiB,KAAM,SACNiB,OAAQ,YAEVvC,kBAAmB,CACjBC,YAAa,UACbC,cAAe,8CAEjBjC,OAAQ,CACN8B,QAAS,yBAGbmL,iBAAkB,CAChBlN,MAAO,WACP4E,kBAAmB,WACnBpE,QAAS,CACP6B,IAAK,OACL8K,MAAO,SACPlI,OAAQ,YAEViH,OAAQ,CACN7L,KAAM,OACNiH,OAAQ,YACRnC,SAAU,WACV7E,MAAO,SACPgE,OAAQ,SACRD,MAAO,YACPhC,IAAK,YACLiB,KAAM,SACNiB,OAAQ,YAEVxB,MAAO,CACL1C,KAAM,OACNiH,OAAQ,YACRnC,SAAU,WACV7E,MAAO,SACP6C,QAAS,eAEXnB,kBAAmB,CACjBC,YAAa,UACbC,cAAe,6CACf8C,cAAe,+CACfoI,aAAc,YAEhBnN,OAAQ,CACN8B,QAAS,yBAGbhB,UAAW,CACTf,MAAO,YACP4E,kBAAmB,WACnBpE,QAAS,CACP6B,IAAK,gBACL2K,aAAc,sBAEhBjK,MAAO,CACL1C,KAAM,OACN8E,SAAU,aACVkI,YAAa,oBACbrK,OAAQ,SACRsK,YAAa,cACbC,YAAa,eACbC,aAAc,oBACdrK,QAAS,eAEX+I,OAAQ,CACNuB,IAAK,gBACLC,OAAQ,kBACRC,SAAU,4BACVvN,KAAM,CACJC,KAAM,OACNuN,SAAU,aACVC,SAAU,aACVC,SAAU,aACVC,SAAU,aACVC,SAAU,aACVC,qBAAsB,kCACtBC,qBAAsB,kCACtBC,qBAAsB,kCACtBC,qBAAsB,kCACtBC,qBAAsB,kCACtBC,mBAAoB,0BACpBnJ,SAAU,aACVnC,OAAQ,SACRsK,YAAa,cACbE,aAAc,oBACdH,YAAa,mBACbkB,QAAS,gBACTC,SAAU,qBAEZhO,QAAS,CACP6B,IAAK,YACLiB,KAAM,YACNmL,MAAO,KACPlK,OAAQ,oBACRmK,QAAS,qBACTC,MAAO,SACP1C,OAAQ,mBAGZjK,kBAAmB,CACjBC,YAAa,UACbC,cAAe,8CAEjBjC,OAAQ,CACNC,QAAS,uCACTqE,OAAQ,qBACRmK,QAAS,sBACT3M,QAAS,yBAGb6M,cAAe,CACbC,OAAQ,QACRC,SAAU,UACV9O,MAAO,eACP4E,kBAAmB,WACnBpE,QAAS,CACP6B,IAAK,mBACL2K,aAAc,0BAEhBjK,MAAO,CACLgM,SAAU,aACV/O,MAAO,QACPgP,KAAM,QACN1C,UAAW,UACXtJ,OAAQ,SACRG,QAAS,eAEX+I,OAAQ,CACN5I,KAAM,8BACNjB,IAAK,mBACLqL,OAAQ,qBACRC,SAAU,4BACVvN,KAAM,CACJ2O,SAAU,aACV/O,MAAO,QACPgP,KAAM,QACNC,UAAW,UACXjM,OAAQ,UAEVxC,QAAS,CACP6B,IAAK,YACLiB,KAAM,YACNmL,MAAO,KACPlK,OAAQ,WACRoK,MAAO,SACP1C,OAAQ,mBAGZjK,kBAAmB,CACjBC,YAAa,UACbC,cAAe,8CAEjBjC,OAAQ,CACNC,QAAS,uCACT6B,QAAS,yBAGbmN,gBAAiB,CACflP,MAAO,oCAET2K,OAAQ,CACN3K,MAAO,kBACP+C,MAAO,CACXsC,GAAG,KACGhF,KAAM,OACNsH,MAAO,MACPiF,SAAU,6BACVzJ,QAAS,cACT0E,WAAY,iCAEdrH,QAAS,CACP6B,IAAK,kBAEPL,kBAAmB,CACjBC,YAAa,UACbC,cACE,6KAGNiN,YAAa,CACXC,WAAY,SAEdvO,MAAO,CACLb,MAAO,cACP+C,MAAO,CACXsC,GAAI,KACEhF,KAAM,OACNC,MAAO,QACP0H,QAAS,SACT7E,QAAS,eAEX3C,QAAS,CACP6B,IAAK,wBAEPpC,OAAQ,CACN8B,QAAS,uCAEXC,kBAAmB,CACjBC,YAAa,UACbC,cACE,0HAGN6I,MAAO,CACL/K,MAAO,oBAETgB,UAAW,CACThB,MAAO,eACPgC,kBAAmB,CACjBC,YAAa,yDACbC,cAAe,8CAEjBa,MAAO,CACLuF,QAAS,UACTD,KAAM,WACNE,OAAQ,sBACRC,OAAQ,gBACRxF,OAAQ,SACRG,QAAS,eAEX3C,QAAS,CACP6B,IAAK,oBAEPpC,OAAQ,CACN8B,QAAS,yCAGb6I,KAAM,CACJ5K,MAAO,OACPgC,kBAAmB,CACjBC,YAAa,iDACbC,cAAe,6CACrB6C,iBAAkB,gDAClBF,eAAgB,iBAEZ9B,MAAO,CACL1C,KAAM,OACNsH,MAAO,MACPyB,QAAS,mBACTjG,QAAS,eAEX3C,QAAS,CACP6B,IAAK,WACXqJ,UAAW,iBAEPzL,OAAQ,CACZ0E,WAAY,uCACN5C,QAAS,iCAGb+I,SAAU,CACR5K,QAAS,0CACTF,MAAO,sBACP8K,SAAU,CACRuE,aAAc,CACZhP,KAAM,8BACNmG,QAAS,CACPvF,QAAS,UACTC,SAAU,iBAKlBoO,aAAc,CACZC,OAAQ,CACNC,WAAY,qBACZhP,QAAS,CACPiP,OAAQ,WACRC,QAAS,WACTpF,OAAQ,UACRD,OAAQ,aAIdsF,cAAe,CACbC,gBAAiB,sBACjBC,kBACE,yDACFC,YAAa,WAEfC,cAAe,CACbR,OAAQ,mBACR/O,QAAS,CACP8C,KAAM,kBAER+D,UAAW,4BAEb2I,UAAW,CACThQ,MAAO,CACLqC,IAAK,8BACLiB,KAAM,4BAER9C,QAAS,CACP6D,MAAO,SACPC,OAAQ,SACRC,OAAQ,WACR0L,YAAa,qBAEf7P,KAAM,CACJC,KAAM,4BACNoE,QAAS,oBACTwL,YAAa,oBACb1I,UAAW,mCACXC,WAAY,wBAEdtH,QAAS,wCAEXgQ,kBAAmB,CACjBC,SAAU,cACV/O,OAAQ,UACRgP,SAAU,aACVC,oBAAqB,+BACrBC,kBAAmB,CACjBtQ,MAAO,+BACPuQ,SAAU,mBACVpH,YAAa,uDAEfnH,kBAAmB,CACjBhC,MAAO,mBACbwQ,UAAW,cACL/L,QACE,+EAEJjE,QAAS,CACPY,OAAQ,UACRmD,OAAQ,aAGZvC,kBAAmB,CACjBxB,QAAS,CACPiQ,QAAS,KACTlM,OAAQ,aAGZmM,mBAAoB,CAClBtP,OAAQ,UACRuP,MAAO,YACP3O,kBAAmB,CACjBhC,MAAO,mBACPyE,QAAS,+CAGbmM,cAAe,CACbC,sBAAuB,+CACvBC,sBACE,8EACFC,yBACE,4FACFC,uBACE,+FACFC,yBAA0B,uDAC1BC,wBACE,4FACFC,wBACE,0DACFC,qBACE,6EACFC,oBAAqB,yDACrBC,sBAAuB,uDACvBC,oBAAqB,uCACrBC,2BACE,qEACFC,kBAAmB,6DACnBC,uBAAwB,8CACxBC,qBAAsB,qDACtBC,qBAAsB,yCACtBC,oBAAqB,4CACrBC,kBAAmB,4CACnBC,kBAAmB,0CACnBC,qBAAsB,4CACtBC,oBAAqB,8CACrBC,mBACE,uEACFC,+BACE,gDACFC,2BACE,qFEt8BTC,GAAI,CACHvS,aAAc,CACbC,OAAQ,CACPC,MAAO,UACPC,OAAQ,CACPC,QAAS,2CACTC,KAAM,iDAEPC,KAAM,CACLC,KAAM,OACNC,MAAO,QACPC,SAAU,YAEXC,QAAS,CACRC,OAAQ,WACRC,MAAO,qCAGTA,MAAO,CACNV,MAAO,QACPI,KAAM,CACLE,MAAO,QACPC,SAAU,YAEXC,QAAS,CACRC,OAAQ,QACRE,SAAU,qCAGZgB,KAAM,CACL1B,OAAQ,CACPC,QAAS,wBAGX0B,UAAW,CACVC,OAAQ,CACPC,OAAQ,CACP9B,MAAO,qBAIVc,YAAa,CACZd,MAAO,cACPC,OAAQ,CACP8B,QAAS,4CAEVC,kBAAmB,CAClBC,YAAa,SACbC,cAAe,uCACfC,gBAAiB,aACjBC,kBAAmB,oDAEpB5B,QAAS,CACR6B,IAAK,eACLrF,WAAY,aACZsF,SAAU,YACVC,OAAQ,UACRC,MAAO,cACPC,WAAY,eAEbC,SAAU,CACTC,aAAc,CACb3C,MAAO,mCACP4C,QACC,kGAEFL,OAAQ,CACPvC,MAAO,2BACP4C,QACC,wFAEFC,UAAW,CACV7C,MAAO,0BAER8C,QAAS,CACR9C,MAAO,2CACP4C,QACC,qIAGHG,MAAO,CACN1C,KAAM,OACN2C,OAAQ,SACRC,WAAY,cACZC,QAAS,UACTC,QAAS,UACTC,QAAS,YAGXC,cAAe,CACdrD,MAAO,CACNqC,IAAK,eACLiB,KAAM,iBAEPlD,KAAM,CACLC,KAAM,OACN6C,QAAS,WAEV1C,QAAS,CACR6D,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAETrE,QAAS,gCAEVsE,OAAQ,CACPC,QAAS,oCAEVC,SAAU,CACT1E,MAAO,WACPC,OAAQ,CACP8B,QAAS,gCAEV6C,kBAAmB,aACnB5C,kBAAmB,CAClBC,YAAa,SACbmL,aAAc,kBACdlL,cACC,kFACD8C,cAAe,sDAEhBxE,QAAS,CACRyE,OAAQ,kBACR5C,IAAK,eAENU,MAAO,CACN1C,KAAM,OACN8E,SAAU,WACV7E,MAAO,QACP6C,QAAS,YAGXgE,aAAc,CACbnH,MAAO,CACNqC,IAAK,cACLiB,KAAM,gBAEPlD,KAAM,CACLgH,SAAU,kBACVC,UAAW,yBACXhH,KAAM,OACNiH,OAAQ,kBACRhH,MAAO,QACPiH,UAAW,aACXC,WAAY,SAEbhH,QAAS,CACRiH,aAAc,kBACdpD,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAETrE,QAAS,+BAEVwH,WAAY,CACX1H,MAAO,CACNqC,IAAK,YACLiB,KAAM,cAEPlD,KAAM,CACLC,KAAM,OACNsH,MAAO,QACPxD,gBAAiB,oBAElB3D,QAAS,CACR6D,MAAO,MACPC,OAAQ,OACRC,OAAQ,WAGVwD,UAAW,CACV/H,MAAO,CACNqC,IAAK,WACLiB,KAAM,aAEPlD,KAAM,CACLC,KAAM,OACNC,MAAO,QACPC,SAAU,WACVyH,QAAS,WAEVxH,QAAS,CACR6D,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAETrE,QAAS,4BAEVwI,KAAM,CACLC,gBAAiB,sCAElBK,eAAgB,CACfxI,QAAS,CACRyI,UAAW,QAGbC,mBAAoB,CACnBC,YAAa,UAEdC,QAAS,CACRnJ,OAAQ,CACP8B,QAAS,4CAEVsH,aAAc,CACb5E,QAAS,gBAEVlB,KAAM,CACL+F,KAAM,CAAEtJ,MAAO,SACfuJ,OAAQ,CAAEvJ,MAAO,YACjBwJ,OAAQ,CAAExJ,MAAO,WAElBwJ,OAAQ,CACPL,YAAa,gCAEd3I,QAAS,CACRiJ,QAAS,QAGXC,oBAAqB,CACpB1J,MAAO,kBACP2J,WAAY,2BACZG,UAAW,+BACXtJ,QAAS,CACRuJ,GAAI,WACJxF,OAAQ,WAGVyF,YAAa,CACZC,cAAe,QACfC,eAAgB,aAChBC,eAAgB,gBAChBC,iBAAkB,oDAClB5J,QAAS,CACR6J,OAAQ,WAGVE,eAAgB,CACfvK,MAAO,gBACP2J,WAAY,+BACZtH,IAAK,MACL7B,QAAS,CACRuJ,GAAI,OACJxF,OAAQ,WAGViG,WAAY,CACXC,UAAW,CACV7I,UAAW,YACXd,YAAa,cACbsI,QAAS,UACT1E,SAAU,WACViG,OAAQ,SACRE,eAAgB,iBAChBhK,MAAO,QACPiK,SAAU,YAEXQ,OAAQ,CACPE,KAAM,CACLxD,QAAS,UACTyD,OAAQ,YAIXK,cAAe,CACdC,UAAW,qBAEZpB,OAAQ,CACP3K,MAAO,SACP+C,MAAO,CACN1C,KAAM,OACNsH,MAAO,QACPiF,SAAU,mBACVzJ,QAAS,WAEV3C,QAAS,CACR6B,IAAK,aAENL,kBAAmB,CAClBC,YAAa,SACbC,cACC,wHAGHiN,YAAa,CACZC,WAAY,UAEbvO,MAAO,CACNb,MAAO,QACP+C,MAAO,CACN1C,KAAM,OACNC,MAAO,QACP0H,QAAS,UACT7E,QAAS,WAEV3C,QAAS,CACR6B,IAAK,YAENpC,OAAQ,CACP8B,QAAS,6BAEVC,kBAAmB,CAClBC,YAAa,SACbC,cACC,4EAGH4I,SAAU,CACT5K,QAAS,+BACTF,MAAO,WACP8K,SAAU,CACTuE,aAAc,CACbhP,KAAM,gBACNmG,QAAS,CACRvF,QAAS,UACTC,SAAU,eAKdoO,aAAc,CACbC,OAAQ,CACPC,WAAY,eACZhP,QAAS,CACRiP,OAAQ,SACRC,QAAS,UACTpF,OAAQ,SACRD,OAAQ,YAIXsF,cAAe,CACdC,gBAAiB,iBACjBC,kBAAmB,kDACnBC,YAAa,QAEdC,cAAe,CACdR,OAAQ,kBACR/O,QAAS,CACR8C,KAAM,gBAEP+D,UAAW,qBAEZ6I,kBAAmB,CAClB9O,OAAQ,SACRgP,SAAU,WACVpO,kBAAmB,CAClBhC,MAAO,kBACPwQ,UAAW,gBACX/L,QAAS,0DAEVjE,QAAS,CACRY,OAAQ,SACRmD,OAAQ,WAGVvC,kBAAmB,CAClBxB,QAAS,CACRiQ,QAAS,KACTlM,OAAQ,WAGVmM,mBAAoB,CACnBtP,OAAQ,SACRuP,MAAO,QACP3O,kBAAmB,CAClBhC,MAAO,kBACPyE,QAAS,oCAGXmM,cAAe,CACdC,sBACC,yDACDC,sBACC,qDACDC,yBACC,oEACDC,uBACC,4DACDC,yBAA0B,uCAC1BC,wBACC,kEACDC,wBAAyB,0CACzBC,qBACC,0DACDC,oBAAqB,yCACrBC,sBACC,mDACDC,oBAAqB,iCACrBC,2BACC,+CACDC,kBAAmB,qDACnBC,uBAAwB,6CACxBC,qBAAsB,iCACtBC,qBAAsB,iCACtBC,oBAAqB,gCACrBC,kBAAmB,8BACnBC,kBAAmB,kCACnBC,qBAAsB,4CACtBC,oBAAqB,2CACrBC,mBACC,+DACDC,+BACC,kDACDC,2BACC,mECpZHE,GAAI,CACFxS,aAAc,CACZC,OAAQ,CACNC,MAAO,cACPC,OAAQ,CACNC,QAAS,yDACTC,KAAM,2DAERC,KAAM,CACJC,KAAM,SACNC,MAAO,wBACPC,SAAU,iBAEZC,QAAS,CACPC,OAAQ,cACRC,MAAO,oDAGXA,MAAO,CACLV,MAAO,oBACPI,KAAM,CACJE,MAAO,wBACPC,SAAU,iBAEZC,QAAS,CACPC,OAAQ,oBACRE,SAAU,4CAGdC,MAAO,CACLR,KAAM,CACJC,KAAM,SACNQ,MAAO,WACPC,YAAa,aACbC,UAAW,cACXC,UAAW,iBACXC,QAAS,cACTC,SAAU,iBACVC,MAAO,WACPC,OAAQ,WACRC,KAAM,UACNC,IAAK,QACLC,GAAI,KACJC,MAAO,OAGXC,UAAW,CACTzB,MAAO,oBACPI,KAAM,CACJC,KAAM,uBACNqB,KAAM,OACN5D,MAAO,QACP2C,OAAQ,YACRP,QAAS,qCAGbyB,KAAM,CACJ1B,OAAQ,CACNC,QAAS,oCAEXpC,MAAO,SAET8D,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACN9B,MAAO,yBAIbc,YAAa,CACXd,MAAO,aACPC,OAAQ,CACN8B,QAAS,wDAEXC,kBAAmB,CACjBC,YAAa,WACbC,cAAe,4DACfC,gBAAiB,cACjBC,kBACE,kEAEJ5B,QAAS,CACP6B,IAAK,mBACLrF,WAAY,cACZsF,SAAU,oBACVC,OAAQ,eACRC,MAAO,qBACPC,WAAY,cAEdC,SAAU,CACRC,aAAc,CACZ3C,MAAO,yCACP4C,QACE,+HAEJL,OAAQ,CACNvC,MAAO,qCACP4C,QACE,0GAEJC,UAAW,CACT7C,MAAO,gCAET8C,QAAS,CACP9C,MAAO,iDACP4C,QACE,2KAGZG,MAAO,CACP1C,KAAM,SACN2C,OAAQ,SACRC,WAAY,6BACZC,QAAS,iBACTC,QAAS,WACTC,QAAS,aAEXC,cAAe,CACbrD,MAAO,CACLqC,IAAK,mBACLiB,KAAM,mBAERC,KAAM,CACJC,QAAS,UACT5D,SAAU,WACV6D,YAAa,eACbC,aAAc,gBACd1C,UAAW,yBAEbZ,KAAM,CACJC,KAAM,SACN6C,QAAS,iBACTS,YAAa,OACbC,cAAe,oCACfC,iBAAkB,yBAClBC,kBAAmB,iCACnBC,qBAAsB,sEACtBC,OAAQ,SACRC,cAAe,gDACfC,uBAAwB,oCACxBC,gBAAiB,oBACjBC,kBAAmB,2BACnBT,YAAa,QAEfnD,QAAS,CACP6D,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVrE,QAAS,mCAEXsE,OAAQ,CACNC,QAAS,8CAEXC,SAAU,CACR1E,MAAO,YACPC,OAAQ,CACN8B,QAAS,mCACT4C,WAAY,gDAEdC,kBAAmB,YACnB5C,kBAAmB,CACjBC,YAAa,YACb4C,eAAgB,iBAChBC,YAAa,qBACb5C,cAAe,8FACf6C,iBAAkB,oGAClBC,cAAe,2DAEjBxE,QAAS,CACPyE,OAAQ,qBACR5C,IAAK,mBACL6C,OAAQ,qBACR9D,OAAQ,4BAEV2B,MAAO,CACL1C,KAAM,SACN8E,SAAU,WACV7E,MAAO,wBACP6C,QAAS,aAGbiC,sBAAuB,CACrBpF,MAAO,CACLqC,IAAK,mBACLiB,KAAM,mBAERlD,KAAM,CACJiF,GAAI,KACJC,KAAM,OACNjF,KAAM,SACNkF,YAAa,sBACbC,SAAU,WACVC,YAAa,cACbC,OAAQ,MACRC,YAAa,iBACbC,eAAgB,qDAChBC,qBAAsB,mCACtBC,sBAAuB,kCACvBC,sBAAuB,0CACvBC,sBAAuB,mCACvBC,oBAAqB,iCAEvBzF,QAAS,CACP6D,MAAO,UACPC,OAAQ,UACRC,OAAQ,WACR2B,KAAM,cAERtG,SAAU,CACRuG,YAAa,uCACbC,WAAY,wCACZC,YAAa,yCAGjBC,SAAU,CACRjG,KAAM,0BACNkG,KAAM,mEACNC,QAAS,CACPvF,QAAS,UACTC,SAAU,YAGduF,YAAa,CACXrG,KAAM,CACJC,KAAM,SACN2D,OAAQ,SACR0C,MAAO,MACPC,WAAY,sCACZC,YAAa,cACbC,OAAQ,UACRC,aAAc,wCACdC,SAAU,yBACVC,YAAa,oBAEf9G,QAAS,gCACTF,MAAO,CACLqC,IAAK,iBACLiB,KAAM,iBAER9C,QAAS,CACP6D,MAAO,UACPC,OAAQ,UACRC,OAAQ,aAGZ0C,QAAS,CACPjH,MAAO,UACP+C,MAAO,CACL1C,KAAM,SACN6G,MAAO,cACPP,WAAY,6BACZxD,QAAS,YAEXnB,kBAAmB,CACjBC,YAAa,WACbC,cAAe,gEAEjB1B,QAAS,CACP6B,IAAK,mBAGT8E,aAAc,CACZnH,MAAO,CACLqC,IAAK,mBACLiB,KAAM,mBAERlD,KAAM,CACJgH,SAAU,qBACVC,UAAW,2BACXhH,KAAM,SACNiH,OAAQ,wBACRhH,MAAO,QACPiH,UAAW,mBACXC,WAAY,QACZrC,SAAU,wBAEZ3E,QAAS,CACPiH,aAAc,yBACdpD,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVrE,QAAS,mCAEXwH,WAAY,CACV1H,MAAO,CACLqC,IAAK,eACLiB,KAAM,eAERlD,KAAM,CACJC,KAAM,SACNsH,MAAO,QACPxD,gBAAiB,oBACjBC,kBAAmB,2BACnBN,kBAAmB,8BACnB8D,cAAe,2BACf9J,MAAO,QACP+J,WAAY,yBACZC,cAAe,kBAEjBtH,QAAS,CACP6D,MAAO,UACPC,OAAQ,UACRC,OAAQ,aAGZwD,UAAW,CACT/H,MAAO,CACLqC,IAAK,kBACLiB,KAAM,kBAERlD,KAAM,CACJC,KAAM,SACNC,MAAO,QACPC,SAAU,gBACVyH,QAAS,SACT7C,SAAU,6BAEV8C,UAAW,8BACXC,iBAAkB,aAClBC,kBAAmB,iBAErB3H,QAAS,CACP6D,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVrE,QAAS,kCAEXkI,cAAe,CACbpI,MAAO,CACLqC,IAAK,qBACLiB,KAAM,uBAERlD,KAAM,CACJiI,KAAM,UACNC,QAAS,WACTC,OAAQ,wBACRC,OAAQ,qBAEVhI,QAAS,CACP6D,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVrE,QAAS,uCAEXuI,SAAU,CACRzI,MAAO,CACLqC,IAAK,iBACLiB,KAAM,mBAERlD,KAAM,CACJC,KAAM,SACNsH,MAAO,SAETnH,QAAS,CACP6D,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVrE,QAAS,mCAEXwI,KAAM,CACJC,gBAAiB,mDAEnBC,QAAS,CACPC,OAAQ,CACNC,uBAAwB,+CACxBC,cAAe,wBAGnBC,eAAgB,CACdxI,QAAS,CACPyI,UAAW,UAGfC,mBAAoB,CAClBC,YAAa,SAEfC,QAAS,CACPnJ,OAAQ,CACN8B,QAAS,sDAEXsH,aAAc,CACZ5E,QAAS,cAEXlB,KAAM,CACJ+F,KAAM,CAAEtJ,MAAO,YACfuJ,OAAQ,CAAEvJ,MAAO,aACjBwJ,OAAQ,CAAExJ,MAAO,gBAEnBwJ,OAAQ,CACNL,YAAa,iCAEf3I,QAAS,CACPiJ,QAAS,UAGbC,oBAAqB,CACjB1J,MAAO,oBACP2J,WAAY,+BACZC,gBAAiB,oBACjBC,sBAAuB,sBACvBC,UAAW,4CACXtJ,QAAS,CACPuJ,GAAI,aACJxF,OAAQ,aAGZyF,YAAa,CACXC,cAAe,YACfC,eAAgB,aAChBC,eAAgB,oBAChBC,iBACE,wEACF5J,QAAS,CACP6J,OAAQ,UACRd,OAAQ,YACRe,OAAQ,YAGZC,eAAgB,CACdvK,MAAO,eACP2J,WAAY,kCACZtH,IAAK,UACL7B,QAAS,CACPuJ,GAAI,UACJxF,OAAQ,aAGZiG,WAAY,CACVC,UAAW,CACT7I,UAAW,UACXd,YAAa,aACbsI,QAAS,UACTsB,cAAe,wBACfhG,SAAU,YACViG,OAAQ,kBACRC,KAAM,YACNC,eAAgB,oBAChBhK,MAAO,WACPiK,SAAU,kBACVC,MAAO,QACPC,YAAa,MACbhK,UAAW,gBACXD,UAAW,cACXkK,aAAc,WACdC,MAAO,eACPC,WAAY,aACZC,MAAO,oBACPnE,QAAS,UACToE,iBAAkB,iBAEpBC,OAAQ,CACNC,YAAY,qBACZC,KAAM,CACJxD,QAAS,SACTyD,OAAQ,WAIdJ,iBAAkB,CAChBrL,MAAO,gBACP+C,MAAO,CACLsC,GAAI,KACJC,KAAM,OACNjF,KAAM,SACNkF,YAAa,sBACbC,SAAU,SACVvC,WAAY,6BACZE,QAAS,YAEX3C,QAAS,CACP6B,IAAK,oBAEPuC,kBAAmB,YACnB5C,kBAAmB,CACjBC,YAAa,WACbC,cACE,yHAGNkJ,MAAO,CACLpL,MAAO,oBACP+C,MAAO,CACL1C,KAAM,SACNqE,SAAU,YACVvB,QAAS,aAEXlD,OAAQ,CACN8B,QAAS,qCACT4C,WAAY,wDAEdnE,QAAS,CACP6B,IAAK,UACLqJ,UAAW,kBAEb1J,kBAAmB,CACjBC,YAAa,WACb4C,eAAgB,iBAChB3C,cAAe,yDACf6C,iBAAkB,iEAGtBiG,YAAa,CACXhL,MAAO,MACP2L,YAAa,CACXrE,OAAQ,YACRe,KAAM,UACNvK,MAAO,oBAET8N,aAAc,CACZtE,OAAQ,YACRe,KAAM,qBACNwD,MAAO,UACP/N,MAAO,qBAGXgO,cAAe,CACbC,UAAW,0BAEbrB,cAAe,CACb1K,MAAO,wBACP4E,kBAAmB,YACnBoH,aAAc,cACdhK,kBAAmB,CACjBC,YAAa,iBACbC,cAAe,8DAEjB1B,QAAS,CACP6B,IAAK,UACL4J,OAAQ,mBACR1H,OAAQ,WACRjB,KAAM,UAERrD,OAAQ,CACNC,QAAS,oCACT6B,QAAS,sCAEXmK,OAAQ,CACNlM,MAAO,oBACPmM,UAAW,QACX1H,QAAS,YACTpD,KAAM,UACNkD,OAAQ,WACR6H,MAAO,kBACP/J,IAAK,UACLiB,KAAM,SACN+I,MAAO,kBAETtJ,MAAO,CACLoJ,UAAW,QACX1H,QAAS,UACTtB,QAAS,WACTmJ,UAAW,qBACXtJ,OAAQ,WAGZuJ,uBAAwB,CACtBC,MAAO,wBACPC,KAAM,CACJC,iBAAkB,gBAClBC,YAAa,SACbC,SAAU,SACVC,eAAgB,YAChBC,KAAM,QACNC,KAAM,SAGVC,aAAc,CACZhN,MAAO,sBACP+C,MAAO,CACL1C,KAAM,SACNqE,SAAU,YACVvB,QAAS,YAEX3C,QAAS,CACP6B,IAAK,eAEP6J,OAAQ,CACN7L,KAAM,SACN4M,QAAS,UACT3I,OAAQ,SACRD,MAAO,UACPhC,IAAK,UACLiB,KAAM,SACNiB,OAAQ,YAEVvC,kBAAmB,CACjBC,YAAa,WACbC,cAAe,wCAEjBjC,OAAQ,CACN8B,QAAS,uBAGbmL,iBAAkB,CAChBlN,MAAO,YACP4E,kBAAmB,cACnBpE,QAAS,CACP6B,IAAK,QACL8K,MAAO,SACPlI,OAAQ,YAEViH,OAAQ,CACN7L,KAAM,SACNiH,OAAQ,YACRnC,SAAU,WACV7E,MAAO,wBACPgE,OAAQ,SACRD,MAAO,UACPhC,IAAK,UACLiB,KAAM,SACNiB,OAAQ,YAEVxB,MAAO,CACL1C,KAAM,SACNiH,OAAQ,YACRnC,SAAU,WACV7E,MAAO,wBACP6C,QAAS,YAEXnB,kBAAmB,CACjBC,YAAa,WACbC,cAAe,uCACf8C,cAAe,+DACfoI,aAAc,YAEhBnN,OAAQ,CACN8B,QAAS,uBAGbhB,UAAW,CACTf,MAAO,cACP4E,kBAAmB,cACnBpE,QAAS,CACP6B,IAAK,mBACL2K,aAAc,uBAEhBjK,MAAO,CACL1C,KAAM,SACN8E,SAAU,cACVkI,YAAa,qBACbrK,OAAQ,SACRsK,YAAa,aACbC,YAAa,aACbC,aAAc,kBACdrK,QAAS,YAEX+I,OAAQ,CACNuB,IAAK,mBACLC,OAAQ,oBACRC,SAAU,eACVvN,KAAM,CACJC,KAAM,SACNuN,SAAU,YACVC,SAAU,YACVC,SAAU,YACVC,SAAU,YACVC,SAAU,YACVC,qBAAsB,+BACtBC,qBAAsB,+BACtBC,qBAAsB,+BACtBC,qBAAsB,+BACtBC,qBAAsB,+BACtBC,mBAAoB,wBACpBnJ,SAAU,cACVnC,OAAQ,SACRsK,YAAa,aACbE,aAAc,kBACdH,YAAa,oBACbkB,QAAS,qBACTC,SAAU,qBAEZhO,QAAS,CACP6B,IAAK,UACLiB,KAAM,aACNmL,MAAO,KACPlK,OAAQ,WACRmK,QAAS,wBACTC,MAAO,SACP1C,OAAQ,qBAGZjK,kBAAmB,CACjBC,YAAa,WACbC,cAAe,wCAEjBjC,OAAQ,CACNC,QAAS,uCACTqE,OAAQ,uBACRmK,QAAS,0BACT3M,QAAS,uBAGb6M,cAAe,CACbC,OAAQ,SACRC,SAAU,WACV9O,MAAO,eACP4E,kBAAmB,cACnBpE,QAAS,CACP6B,IAAK,oBACL2K,aAAc,0BAEhBjK,MAAO,CACLgM,SAAU,YACV/O,MAAO,YACPgP,KAAM,QACN1C,UAAW,UACXtJ,OAAQ,SACRG,QAAS,YAEX+I,OAAQ,CACN5I,KAAM,qBACNjB,IAAK,oBACLqL,OAAQ,qBACRC,SAAU,eACVvN,KAAM,CACJ2O,SAAU,YACV/O,MAAO,YACPgP,KAAM,QACNC,UAAW,UACXjM,OAAQ,UAEVxC,QAAS,CACP6B,IAAK,UACLiB,KAAM,aACNmL,MAAO,KACPlK,OAAQ,WACRoK,MAAO,SACP1C,OAAQ,qBAGZjK,kBAAmB,CACjBC,YAAa,WACbC,cAAe,wCAEjBjC,OAAQ,CACNC,QAAS,uCACT6B,QAAS,uBAGbmN,gBAAiB,CACflP,MAAO,kCAET2K,OAAQ,CACN3K,MAAO,kBACP+C,MAAO,CACLsC,GAAG,KACHhF,KAAM,SACNsH,MAAO,QACPiF,SAAU,wBACVzJ,QAAS,WACT0E,WAAY,0BAEdrH,QAAS,CACP6B,IAAK,gBAEPL,kBAAmB,CACjBC,YAAa,WACbC,cACE,+JAGNiN,YAAa,CACXC,WAAY,SAEdvO,MAAO,CACLb,MAAO,WACP+C,MAAO,CACRsC,GAAI,KACDhF,KAAM,SACNC,MAAO,QACP0H,QAAS,SACT7E,QAAS,YAEX3C,QAAS,CACP6B,IAAK,mBAEPpC,OAAQ,CACN8B,QAAS,oCAEXC,kBAAmB,CACjBC,YAAa,WACbC,cACE,8GAGN6I,MAAO,CACL/K,MAAO,mBAETgB,UAAW,CACThB,MAAO,gBACPgC,kBAAmB,CACjBC,YAAa,8DACbC,cAAe,wCAEjBa,MAAO,CACLuF,QAAS,WACTD,KAAM,UACNE,OAAQ,wBACRC,OAAQ,oBACRxF,OAAQ,SACRG,QAAS,YAEX3C,QAAS,CACP6B,IAAK,sBAEPpC,OAAQ,CACN8B,QAAS,0CAGb6I,KAAM,CACJ5K,MAAO,YACPgC,kBAAmB,CACjBC,YAAa,0DACbC,cAAe,uCAClB6C,iBAAkB,gEAClBF,eAAgB,kBAEf9B,MAAO,CACL1C,KAAM,SACNsH,MAAO,QACPyB,QAAS,sBACTjG,QAAS,YAEX3C,QAAS,CACP6B,IAAK,iBACRqJ,UAAW,kBAEVzL,OAAQ,CACT0E,WAAY,0DACT5C,QAAS,sCAGb+I,SAAU,CACR5K,QAAS,2CACTF,MAAO,kBACP8K,SAAU,CACRuE,aAAc,CACZhP,KAAM,yBACNmG,QAAS,CACPvF,QAAS,aACTC,SAAU,oBAKlBoO,aAAc,CACZC,OAAQ,CACNC,WAAY,cACZhP,QAAS,CACPiP,OAAQ,SACRC,QAAS,WACTpF,OAAQ,UACRD,OAAQ,aAIdsF,cAAe,CACbC,gBAAiB,qBACjBC,kBACE,sDACFC,YAAa,UAEfC,cAAe,CACbR,OAAQ,qBACR/O,QAAS,CACP8C,KAAM,mBAER+D,UAAW,4BAEb2I,UAAW,CACThQ,MAAO,CACLqC,IAAK,4BACLiB,KAAM,4BAER9C,QAAS,CACP6D,MAAO,UACPC,OAAQ,SACRC,OAAQ,WACR0L,YAAa,mBAEf7P,KAAM,CACJC,KAAM,iCACNoE,QAAS,uBACTwL,YAAa,oBACb1I,UAAW,kCACXC,WAAY,yBAEdtH,QAAS,6CAEXgQ,kBAAmB,CACjBC,SAAU,kBACV/O,OAAQ,WACRgP,SAAU,aACVC,oBAAqB,6BACrBC,kBAAmB,CACjBtQ,MAAO,6BACPuQ,SAAU,iBACVpH,YAAa,0DAEfnH,kBAAmB,CACjBhC,MAAO,qBACVwQ,UAAW,gBACR/L,QACE,kFAEJjE,QAAS,CACPY,OAAQ,WACRmD,OAAQ,aAGZvC,kBAAmB,CACjBxB,QAAS,CACPiQ,QAAS,KACTlM,OAAQ,aAGZmM,mBAAoB,CAClBtP,OAAQ,WACRuP,MAAO,YACP3O,kBAAmB,CACjBhC,MAAO,wBACPyE,QAAS,yCAGbmM,cAAe,CACbC,sBAAuB,kDACvBC,sBACE,6FACFC,yBACE,0FACFC,uBACE,qFACFC,yBAA0B,iDAC1BC,wBACE,iFACFC,wBACE,+DACFC,qBACE,6EACFC,oBAAqB,8CACrBC,sBAAuB,+CACvBC,oBAAqB,mDACrBC,2BACE,yEACFC,kBAAmB,iDACnBC,uBAAwB,4CACxBC,qBAAsB,0DACtBC,qBAAsB,oDACtBC,oBAAqB,kDACrBC,kBAAmB,mDACnBC,kBAAmB,oDACnBC,qBAAsB,8CACtBC,oBAAqB,6CACrBC,mBACE,mEACFC,+BACE,4CACFC,2BACE,+DC/7BNG,KAAKC,IAAIC,MAAkBC,KAAK,CAC/B9W,OAAO,EACP+W,UAAW,CAAC,gBACZC,YAAa,KACbC,GAAI,CAAC,gBACLC,UAAWlT,K,aC+CGmT,OArDIC,IAAQ,IAADC,EAAAC,EACtB,MAAMC,EAAuB,QAAfF,EAAGD,EAAII,gBAAQ,IAAAH,GAAM,QAANC,EAAZD,EAAcI,YAAI,IAAAH,OAAN,EAAZA,EAAoBI,MACrC,OAAIH,EACIZ,KAAKgB,OAAO,iBAAiBJ,QAC7BxX,QAAQ2X,MAAM,UAAUf,KAAKiB,EAAE,iBAAiBL,SAgBhDxX,QAAQ2X,MAAM,UAAUH,GAgB1BM,oBAAST,QACXrX,QAAQ2X,MAAM,UAAUN,QAOxBrX,QAAQ2X,MAAM,uB,qBC9CtB,MAAMI,GAAMC,KAAMC,OAAO,CACxBC,QAASlV,wBACTmV,iBAAiB,IAGLC,GAAUJ,KAAMC,OAAO,CACnCC,QAASlV,0BAGK+U,UCLf,MAAMM,GAAUA,CAACC,EAAOC,KACtB,GAAoB,mBAAhBA,EAAO5O,KAA2B,CAGpC,MAAO,IAFW4O,EAAOC,SAK3B,GAAoB,qBAAhBD,EAAO5O,KAA6B,CACtC,MAAM8O,EAAWF,EAAOC,QAClBE,EAAgBJ,EAAM5X,UAAWiY,GAAMA,EAAEjP,KAAO+O,EAAS/O,IAE/D,OAAuB,IAAnBgP,GACFJ,EAAMI,GAAiBD,EAChB,IAAIH,IAEJ,CAACG,KAAaH,GAIzB,GAAoB,mBAAhBC,EAAO5O,KAA2B,CACpC,MAAM8O,EAAWF,EAAOC,QAClBE,EAAgBJ,EAAM5X,UAAWiY,GAAMA,EAAEjP,KAAO+O,EAAS/O,IAE/D,OAAuB,IAAnBgP,GACFJ,EAAMI,GAAerR,OAASoR,EAASpR,OACvCiR,EAAMI,GAAeE,UAAYH,EAASG,UAC1CN,EAAMI,GAAe9R,OAAS6R,EAAS7R,OACvC0R,EAAMI,GAAeG,QAAUJ,EAASI,QACjC,IAAIP,IAEJ,IAAIA,GAIf,GAAoB,qBAAhBC,EAAO5O,KAA6B,CACtC,MAAMmP,EAAaP,EAAOC,QAEpBE,EAAgBJ,EAAM5X,UAAWiY,GAAMA,EAAEjP,KAAOoP,GAItD,OAHuB,IAAnBJ,GACFJ,EAAM1X,OAAO8X,EAAe,GAEvB,IAAIJ,GAGb,GAAoB,UAAhBC,EAAO5O,KACT,MAAO,IAuDIoP,OAnDMA,KACnB,MAAOC,EAAWC,GAAYC,qBAAWb,GAAS,KAC3Cc,EAASC,GAAcC,oBAAS,GAEjC/Z,EAAgBga,qBAAWtV,GA4CjC,OA1CAuV,oBAAU,KACRH,GAAW,GACUI,WACnB,IACE,MAAM,KAAE9B,SAAeK,GAAI0B,IAAI,wBAC/BR,EAAS,CAAEtP,KAAM,iBAAkB6O,QAASd,IAC5C0B,GAAW,GACX,MAAO/B,GACP+B,GAAW,GACXhC,GAAWC,KAGfqC,IACC,IAEHH,oBAAU,KACR,MAAM3X,EAAYG,aAAaC,QAAQ,aACjC6B,EAASvE,EAAcqC,UAAUC,GAoBvC,OAlBAiC,EAAOjE,GAAG,WAAWgC,aAAuB8V,IACtB,WAAhBA,EAAKa,QACPU,EAAS,CAAEtP,KAAM,mBAAoB6O,QAASd,EAAKlO,aAIvD3F,EAAOjE,GAAG,WAAWgC,aAAuB8V,IACtB,WAAhBA,EAAKa,QACPU,EAAS,CAAEtP,KAAM,mBAAoB6O,QAASd,EAAKiC,eAIvD9V,EAAOjE,GAAG,WAAWgC,oBAA8B8V,IAC7B,WAAhBA,EAAKa,QACPU,EAAS,CAAEtP,KAAM,iBAAkB6O,QAASd,EAAKjQ,YAI9C,KACL5D,EAAOxC,eAER,CAAC/B,IAEG,CAAE0Z,YAAWG,YCnGtB,MAAMS,GAAmB1a,0BAEnB2a,GAAoBC,IAAmB,IAAlB,SAAEC,GAAUD,EACtC,MAAM,QAAEX,EAAO,UAAEH,GAAcD,KAE/B,OACC9Z,IAAA+a,cAACJ,GAAiBK,SAAQ,CAACC,MAAO,CAAElB,YAAWG,YAC7CY,ICkLWI,OAlLCA,KACd,MAAMC,EAAUC,wBACTC,EAAQC,GAAalB,oBAAS,IAC9BF,EAASC,GAAcC,oBAAS,IAChCxJ,EAAM2K,GAAWnB,mBAAS,IAEjCtB,GAAI0C,aAAaC,QAAQ7D,IACtB8D,IACC,MAAMxY,EAAQJ,aAAaC,QAAQ,SAKnC,OAJIG,IACFwY,EAAOC,QAAuB,cAAI,UAAUxY,KAAKC,MAAMF,GACvDoY,GAAU,IAELI,GAERhD,IACCkD,QAAQC,OAAOnD,KAInBI,GAAI0C,aAAahD,SAASZ,IACvBY,GACQA,EAET+B,UAAkB,IAADuB,EAAAC,EACf,MAAMC,EAAkBtD,EAAMgD,OAC9B,GAAgC,OAAvB,OAALhD,QAAK,IAALA,GAAe,QAAVoD,EAALpD,EAAOF,gBAAQ,IAAAsD,OAAV,EAALA,EAAiB1T,UAAmB4T,EAAgBC,OAAQ,CAC9DD,EAAgBC,QAAS,EAEzB,MAAM,KAAExD,SAAeK,GAAIoD,KAAK,uBAKhC,OAJIzD,IACF3V,aAAaqZ,QAAQ,QAAShZ,KAAKiZ,UAAU3D,EAAKvV,QAClD4V,GAAIuD,SAASV,QAAQW,cAAgB,UAAU7D,EAAKvV,OAE/C4V,GAAIkD,GAQb,OANgC,OAAvB,OAALtD,QAAK,IAALA,GAAe,QAAVqD,EAALrD,EAAOF,gBAAQ,IAAAuD,OAAV,EAALA,EAAiB3T,UACnBtF,aAAayZ,WAAW,SACxBzZ,aAAayZ,WAAW,aACxBzD,GAAIuD,SAASV,QAAQW,mBAAgBE,EACrClB,GAAU,IAELM,QAAQC,OAAOnD,KAI1B,MAAMrY,EAAgBga,qBAAWtV,GAEjCuV,oBAAU,KACR,MAAMpX,EAAQJ,aAAaC,QAAQ,SACnC,WACE,GAAIG,EACF,IACE,MAAM,KAAEuV,SAAeK,GAAIoD,KAAK,uBAChCpD,GAAIuD,SAASV,QAAQW,cAAgB,UAAU7D,EAAKvV,MACpDoY,GAAU,GACVC,EAAQ9C,EAAK7H,MACb,MAAOwH,GACPD,GAAWC,GAGf+B,GAAW,IAXb,IAaC,IAEHG,oBAAU,KACR,MAAM3X,EAAYG,aAAaC,QAAQ,aACvC,GAAIJ,EAAW,CAEb,MAAMiC,EAASvE,EAAcqC,UAAUC,GASzC,OAPEiC,EAAOjE,GAAG,WAAWgC,SAAmB8V,IAClB,WAAhBA,EAAKa,QAAuBb,EAAK7H,KAAKnG,KAAOmG,EAAKnG,IACpD8Q,EAAQ9C,EAAK7H,QAKZ,KACLhM,EAAOxC,gBAGR,CAAC/B,EAAeuQ,IAsFnB,MAAO,CACLyK,SACAzK,OACAsJ,UACAuC,YAxFkBlC,UAClBJ,GAAW,GAEX,IACE,MAAM,KAAE1B,SAAeK,GAAIoD,KAAK,cAAeQ,IAE7C9L,MAAM,UAAEjO,EAAS,GAAE8H,EAAE,QAAE4H,IACrBoG,EAEJ,GAAIkE,eAAItK,EAAS,aAAeuK,mBAAQvK,EAAQnC,UAAW,CACzD,MAAM2M,EAAUxK,EAAQnC,SAAS4M,KAC9BpD,GAAgB,qBAAVA,EAAEqD,KAEPF,GAA6B,SAAlBA,EAAQ5B,OACrBnY,aAAaqZ,QAAQ,QAAS,MAIlCa,IAAOC,OAAO,SACd,MAAMC,EAAUzE,EAAK7H,KAAKyB,QAAQ6K,QAE5BC,GADOH,IAAOA,OAAUI,OAAO,cAClBJ,IAAOE,GAASE,OAAO,eAE1C,IAAIC,EAAOL,IAAOE,GAASG,KAAKL,IAAOA,OAAUI,UAE7CE,EAASN,IAAOA,MAASI,UAAUG,SAASL,GAC5CM,EAAOR,IAAOS,SAASJ,GAAMK,UAElB,IAAXJ,GACFxa,aAAaqZ,QAAQ,QAAShZ,KAAKiZ,UAAU3D,EAAKvV,QAClDJ,aAAaqZ,QAAQ,YAAaxZ,GAClCG,aAAaqZ,QAAQ,SAAU1R,GAC/B3H,aAAaqZ,QAAQ,iBAAkBgB,GACvCrE,GAAIuD,SAASV,QAAQW,cAAgB,UAAU7D,EAAKvV,MACpDqY,EAAQ9C,EAAK7H,MACb0K,GAAU,GACVqC,IAAMrY,QAAQqS,KAAKiB,EAAE,wBACjBgF,KAAKC,MAAML,GAAQ,GACrBG,IAAM3a,KAAK,2BAA2B4a,KAAKC,MAAML,MAA8B,IAArBI,KAAKC,MAAML,GAAc,MAAQ,WAE7FrC,EAAQ5Z,KAAK,YACb4Y,GAAW,KAEXhC,GAAW,+BAA+BgF,oEAE1ChD,GAAW,IAIb,MAAO/B,GACPD,GAAWC,GACX+B,GAAW,KAsCb2D,aAlCmBvD,UACnBJ,GAAW,GAEX,UACQrB,GAAItS,OAAO,gBACjB8U,GAAU,GACVC,EAAQ,IACRzY,aAAayZ,WAAW,SACxBzZ,aAAayZ,WAAW,aACxBzZ,aAAayZ,WAAW,UACxBzZ,aAAayZ,WAAW,SACxBzD,GAAIuD,SAASV,QAAQW,mBAAgBE,EACrCrC,GAAW,GACXgB,EAAQ5Z,KAAK,UACb,MAAO6W,GACPD,GAAWC,GACX+B,GAAW,KAmBb4D,mBAfyBxD,UACzB,IACE,MAAM,KAAE9B,SAAeK,GAAI0B,IAAI,YAC/B,OAAO/B,EACP,MAAOL,GACPD,GAAWC,OC3KjB,MAAM4F,GAAc/d,0BAEdge,GAAepD,IAAmB,IAAlB,SAAEC,GAAUD,EACjC,MAAM,QAAEX,EAAO,KAAEtJ,EAAI,OAAEyK,EAAM,YAAEoB,EAAW,aAAEqB,GAAiB5C,KAE7D,OACClb,IAAA+a,cAACiD,GAAYhD,SAAQ,CACpBC,MAAO,CAAEf,UAAStJ,OAAMyK,SAAQoB,cAAaqB,iBAE5ChD,ICQWoD,OArBD,CACbtN,KAAM,CACLuN,OAAQ,IAGTC,MAAO,CACND,OAAQ,CACP,iBACA,0BACA,0BACA,yBACA,wBACA,8BACA,8BACA,iCACA,iCACA,6CCdH,MA4BME,GAAMxD,IAAA,IAAC,KAAEyD,EAAI,QAAEC,EAAO,KAAE9F,EAAI,IAAE/R,EAAG,GAAEC,GAAIkU,EAAA,MA5B/B2D,EAACF,EAAMhF,EAAQb,KAC5B,MAAMgG,EAAcP,GAAMI,GAC1B,IAAKG,EAEJ,OAAO,EAGR,MAAMC,EAAoBD,EAAYN,OAEtC,GAAIO,GAAqBA,EAAkBC,SAASrF,GAEnD,OAAO,EAGR,MAAMsF,EAAqBH,EAAYI,QAEvC,GAAID,EAAoB,CACvB,MAAME,EAAsBF,EAAmBtF,GAC/C,QAAKwF,GAKEA,EAAoBrG,GAE5B,OAAO,GAIP+F,CAAMF,EAAMC,EAAS9F,GAAQ/R,IAAQC,KAEtC0X,GAAIU,aAAe,CAClBrY,IAAKA,IAAM,KACXC,GAAIA,IAAM,M,wHCvBX,MAAMqY,GAAYC,YAAW,CAC3BC,KAAM,CACJC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,OAAQ,QAEVC,eAAgB,CACdJ,QAAS,OACTK,MAAO,OACPC,aAAc,QAEhBC,MAAO,CACLC,SAAU,EACVC,YAAa,QAEfC,cAAe,CACbL,MAAO,OACPM,OAAQ,OACRC,UAAW,OACXC,gBAAiB,UACjBC,aAAc,OAEhBC,KAAM,CACJT,aAAc,SA8FHU,OA1FEA,KACf,MAAMC,EAAUpB,MAETqB,EAAMC,GAAWlG,mBAAS,KAC1BmG,EAAOC,GAAYpG,mBAAS,KAC5BqG,EAAWC,GAAgBtG,oBAAU,GAE5CE,oBAAU,KACR,MAAMqG,EAAa7d,aAAaC,QAAQ,SACpC4d,GACFH,EAASrd,KAAKC,MAAMud,KAErB,IAEHrG,oBAAU,KACRxX,aAAaqZ,QAAQ,QAAShZ,KAAKiZ,UAAUmE,KAC5C,CAACA,IAsCJ,OACEvgB,IAAA+a,cAAA,OAAK6F,UAAWR,EAAQlB,MACtBlf,IAAA+a,cAAA,OAAK6F,UAAWR,EAAQb,gBACtBvf,IAAA+a,cAAC8F,KAAS,CACRD,UAAWR,EAAQV,MACnB9N,MAAM,cACNqJ,MAAOoF,EACPS,SA3CkB5f,IACxBof,EAAQpf,EAAM6f,OAAO9F,QA2Cf+F,QAAQ,aAEVhhB,IAAA+a,cAACkG,KAAM,CAACD,QAAQ,YAAYjU,MAAM,UAAUmU,QA1C5BC,KACpB,IAAKd,EAAKe,OAER,OAGF,MAAM3d,EAAM,IAAID,KAChB,GAAIid,GAAa,EAAG,CAElB,MAAMY,EAAW,IAAId,GACrBc,EAASZ,GAAa,CAACrM,KAAMiM,EAAM1G,UAAWlW,EAAK6d,UAAWD,EAASZ,GAAWa,WAClFd,EAASa,GACTf,EAAQ,IACRI,GAAc,QAGdF,EAAS,IAAID,EAAO,CAACnM,KAAMiM,EAAMiB,UAAW7d,EAAKkW,UAAWlW,KAC5D6c,EAAQ,MA0BHG,GAAa,EAAI,SAAW,cAGjCzgB,IAAA+a,cAAA,OAAK6F,UAAWR,EAAQP,eACtB7f,IAAA+a,cAACwG,IAAI,KACFhB,EAAMiB,IAAI,CAACnB,EAAMoB,IAChBzhB,IAAA+a,cAAC2G,IAAQ,CAAC3E,IAAK0E,EAAOb,UAAWR,EAAQF,MACvClgB,IAAA+a,cAAC4G,IAAY,CAACC,QAASvB,EAAKjM,KAAMyN,UAAWxB,EAAK1G,UAAUmI,mBAC5D9hB,IAAA+a,cAACgH,KAAuB,KACtB/hB,IAAA+a,cAACiH,IAAU,CAACd,QAASA,IA/BXO,KACtBnB,EAAQC,EAAMkB,GAAOrN,MACrBsM,EAAae,IA6B0BQ,CAAeR,IACxCzhB,IAAA+a,cAACmH,KAAQ,OAEXliB,IAAA+a,cAACiH,IAAU,CAACd,QAASA,IA7BTO,KACxB,MAAMJ,EAAW,IAAId,GACrBc,EAAS1f,OAAO8f,EAAO,GACvBjB,EAASa,IA0B8Bc,CAAiBV,IAC1CzhB,IAAA+a,cAACqH,KAAU,c,iCC1CdC,OA1EEA,KA+DN,CACHC,YA9DgB/H,UAChB,MAAM,KAAE9B,SAAeU,GAAQsC,QAAQ,CACnC8G,IAAK,cACLC,OAAQ,MACRrhB,WAEJ,OAAOsX,GAyDPyH,KAtDS3F,UACT,MAAM,KAAE9B,SAAeK,GAAI2C,QAAQ,CAC/B8G,IAAK,aACLC,OAAQ,MACRrhB,WAEJ,OAAOsX,GAiDPhS,KAtCS8T,UACT,MAAQ9B,KAAMgK,SAAuB3J,GAAI2C,QAAQ,CAC7C8G,IAAK,SACLC,OAAQ,OACR/J,SAEJ,OAAOgK,GAiCP3P,OA9BWyH,UACX,MAAQ9B,KAAMgK,SAAuB3J,GAAI2C,QAAQ,CAC7C8G,IAAK,UAAU9J,EAAKhO,GACpB+X,OAAQ,MACR/J,SAEJ,OAAOgK,GAyBPC,OAhDWnI,UACX,MAAM,KAAE9B,SAAeK,GAAI2C,QAAQ,CAC/B8G,IAAK,UAAU9X,EACf+X,OAAQ,QAEZ,OAAO/J,GA4CPkK,OAvBWpI,UACX,MAAM,KAAE9B,SAAeK,GAAI2C,QAAQ,CAC/B8G,IAAK,UAAU9X,EACf+X,OAAQ,WAEZ,OAAO/J,GAmBPmK,eAhBmBrI,MAAOpZ,EAAQsJ,KAClC,MAAM,KAAEgO,SAAeK,GAAI2C,QAAQ,CAC/B8G,IAAK,uBAAuB9X,EAC5B+X,OAAQ,MACRrhB,WAEJ,OAAOsX,KC7CAoK,OAfIA,KAUR,CACHC,WATevI,UACf,MAAM,KAAE9B,SAAeK,GAAI2C,QAAQ,CAC/B8G,IAAK,WACLC,OAAQ,QAEZ,OAAO/J,KCuCf,MAAMuG,GAAYC,YAAY8D,IAAK,CACjCC,cAAe,CACblD,OAAQ,GACRC,UAAW,QACXN,aAAc,YAKlB,SAASwD,GAAaC,GACpB,MAAM,KAAEC,EAAI,QAAEvB,EAAO,GAAEwB,EAAE,UAAExC,GAAcsC,EAEnCG,EAAarjB,IAAMsjB,QACvB,IACEtjB,IAAMujB,WAAW,CAACC,EAAWC,IAC3BzjB,IAAA+a,cAAC2I,IAAUC,OAAAC,OAAA,CAACR,GAAIA,EAAIK,IAAKA,GAASD,KAEtC,CAACJ,IAGH,OACEpjB,IAAA+a,cAAA,UACE/a,IAAA+a,cAAC2G,IAAQ,CAACmC,QAAM,EAACC,OAAK,EAACC,UAAWV,EAAYzC,UAAWA,GACtDuC,EAAOnjB,IAAA+a,cAACiJ,IAAY,KAAEb,GAAuB,KAC9CnjB,IAAA+a,cAAC4G,IAAY,CAACC,QAASA,MAM/B,MAAMxI,GAAUA,CAACC,EAAOC,KACtB,GAAoB,eAAhBA,EAAO5O,KAAuB,CAChC,MAAM4F,EAAQgJ,EAAOC,QACf0K,EAAW,GAajB,OAXIrH,mBAAQtM,IACVA,EAAM4T,QAASpW,IACb,MAAMqW,EAAY9K,EAAM5X,UAAW2iB,GAAMA,EAAE3Z,KAAOqD,EAAKrD,KACpC,IAAf0Z,EACF9K,EAAM8K,GAAarW,EAEnBmW,EAAS1iB,KAAKuM,KAKb,IAAIuL,KAAU4K,GAGvB,GAAoB,iBAAhB3K,EAAO5O,KAAyB,CAClC,MAAMoD,EAAOwL,EAAOC,QACd4K,EAAY9K,EAAM5X,UAAW2iB,GAAMA,EAAE3Z,KAAOqD,EAAKrD,IAEvD,OAAmB,IAAf0Z,GACF9K,EAAM8K,GAAarW,EACZ,IAAIuL,IAEJ,CAACvL,KAASuL,GAIrB,GAAoB,gBAAhBC,EAAO5O,KAAwB,CACjC,MAAM2Z,EAAS/K,EAAOC,QAEhB4K,EAAY9K,EAAM5X,UAAW2iB,GAAMA,EAAE3Z,KAAO4Z,GAIlD,OAHmB,IAAfF,GACF9K,EAAM1X,OAAOwiB,EAAW,GAEnB,IAAI9K,GAGb,GAAoB,UAAhBC,EAAO5O,KACT,MAAO,GAGT,GAAoB,gBAAhB4O,EAAO5O,KAAwB,CAOjC,OANqB2O,EAAMmI,IAAK1T,GAC1BA,EAAKrD,KAAO6O,EAAOC,QAAQzL,KAAKrD,GAC3B6O,EAAOC,QAAQzL,KAEjBA,KAyYEwW,OAnYQpB,IACLlE,KAAhB,MACM,YAAEuF,EAAW,UAAEC,GAActB,GAC7B,UAAEnJ,GAAcM,qBAAWM,KAC3B,KAAE/J,EAAI,aAAEkN,GAAiBzD,qBAAW2D,KACnCyG,EAAmBC,GAAwBtK,oBAAS,IACpDuK,EAAqBC,GAA0BxK,oBAAS,IACxDyK,EAAeC,GAAoB1K,oBAAS,IAC5C2K,EAAYC,GAAiB5K,oBAAS,IACtC6K,EAAYC,GAAiB9K,oBAAS,IACtC+K,EAAkBC,GAAuBhL,oBAAS,GAAce,EAAUC,wBAC1EiK,EAAeC,GAAoBlL,oBAAS,IAC5CmL,EAAkBC,GAAuBpL,oBAAS,IAClDqL,EAAiBC,GAAsBtL,oBAAS,IAGhDuL,EAAWC,GAAgBxL,oBAAS,IACpCyL,EAAYC,GAAiB1L,mBAAS,IACtC2L,GAAe3L,mBAAS,KACxB9J,EAAO0J,GAAYC,qBAAWb,GAAS,KACxC,eAAEwJ,GAAmBP,MAEpB2D,EAASC,GAAc7L,oBAAS,IAGjC,WAAE0I,GAAeD,KAEjBxiB,EAAgBga,qBAAWtV,GAEjCuV,oBAAU,MACRC,iBACE,MAAM2L,QAAiBpD,IACvBmD,EAAWC,EAASF,SAEtBG,IAEC,IAGH7L,oBAAU,KACRN,EAAS,CAAEtP,KAAM,UACjBob,EAAc,IACb,CAACC,IAEJzL,oBAAU,MACRC,iBACE,MAAM5X,EAAYiO,EAAKjO,UACjByjB,QAAoBxD,OAAepG,EAAW7Z,GAEpDmiB,EAAiBsB,EAAYtf,KAAKuf,cAClCrB,EAAcoB,EAAYtf,KAAKwf,WAC/BpB,EAAckB,EAAYtf,KAAKyf,WAC/BnB,EAAoBgB,EAAYtf,KAAK0f,iBACrClB,EAAiBc,EAAYtf,KAAK2f,cAClCjB,EAAoBY,EAAYtf,KAAK4f,iBACrChB,EAAmBU,EAAYtf,KAAK6f,gBAEtCC,IAEC,IAIHtM,oBAAU,KACR,MAAMuM,EAAkBnjB,WAAW,KACjCojB,KACC,KACH,MAAO,IAAMC,aAAaF,IAEzB,CAACd,EAAaF,IAEjBvL,oBAAU,KACR,MAAM3X,EAAYG,aAAaC,QAAQ,aACjC6B,EAASvE,EAAcqC,UAAUC,GAUvC,OARAiC,EAAOjE,GAAG,WAAWgC,SAAmB8V,IAClB,gBAAhBA,EAAKa,QACPU,EAAS,CAAEtP,KAAM,cAAe6O,QAASd,IAEvB,WAAhBA,EAAKa,QACPU,EAAS,CAAEtP,KAAM,cAAe6O,QAASd,MAGtC,KACL7T,EAAOxC,eAER,CAAC/B,IAEJia,oBAAU,KACR,IAAI0M,EAAe,EACnB,GAAI1W,EAAMxO,OAAS,EACjB,IAAK,IAAIgM,KAAQwC,EACf,IAAK,IAAI2W,KAAYnZ,EAAK7H,MACpBghB,EAASpkB,SAAW+N,EAAKnG,KAC3Buc,GAAgBC,EAASC,SAM/BtB,IADEoB,EAAe,KAKlB,CAAC1W,EAAOM,EAAKnG,KAEhB6P,oBAAU,KACJxX,aAAaC,QAAQ,UACvB+hB,GAAiB,IAElB,IAEHxK,oBAAU,KACR,MAAMuM,EAAkBnjB,WAAW,KACjC,GAAIqW,EAAUjY,OAAS,EAAG,CACHiY,EAAUoN,OAAQC,GAElB,WAAjBA,EAAMhf,QACW,YAAjBgf,EAAMhf,QACW,iBAAjBgf,EAAMhf,QACW,YAAjBgf,EAAMhf,QACW,YAAjBgf,EAAMhf,QAGOtG,OAAS,EACxB4iB,GAAqB,GAErBA,GAAqB,KAGxB,KACH,MAAO,IAAMqC,aAAaF,IACzB,CAAC9M,IAEJ,MAAM+M,EAAavM,UACjB,IACE,MAAM,KAAE9B,SAAeK,GAAI0B,IAAI,UAAW,CACxCrZ,OAAQ,CAAE4kB,cAAaF,gBAEzB7L,EAAS,CAAEtP,KAAM,aAAc6O,QAASd,EAAK4O,UAC7C,MAAOjP,GACPD,GAAWC,KASf,OACEpY,IAAA+a,cAAA,OAAKmG,QAASqD,GACZvkB,IAAA+a,cAACsD,GAAG,CACFC,KAAM1N,EAAKxD,QACXmR,QAAQ,iBACR7X,IAAKA,IACH1G,IAAA+a,cAACkI,GAAY,CACXG,GAAG,IACHxB,QAAQ,YACRuB,KAAMnjB,IAAA+a,cAACuM,IAAqB,UAKlCtnB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,WACHxB,QAASjK,KAAKiB,EAAE,gCAChBuK,KAAMnjB,IAAA+a,cAACwM,KAAY,QAGzBxC,GACC/kB,IAAA+a,cAACkI,GAAY,CACRG,GAAG,UACHxB,QAASjK,KAAKiB,EAAE,UAChBuK,KAAMnjB,IAAA+a,cAACyM,KAAc,QAKvBxnB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,kBACHxB,QAASjK,KAAKiB,EAAE,sCAChBuK,KAAMnjB,IAAA+a,cAAC0M,KAAW,QAGvBznB,IAAA+a,cAACkI,GAAY,CACRG,GAAG,YACHxB,QAASjK,KAAKiB,EAAE,WAChBuK,KAAMnjB,IAAA+a,cAAC2M,KAAe,QAGxB1nB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,YACHxB,QAASjK,KAAKiB,EAAE,iCAChBuK,KAAMnjB,IAAA+a,cAAC4M,KAAwB,QAGjC3nB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,aACHxB,QAASjK,KAAKiB,EAAE,kCAChBuK,KAAMnjB,IAAA+a,cAAC6M,KAAS,QAGlB5nB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,QACHxB,QAASjK,KAAKiB,EAAE,6BAChBuK,KAAMnjB,IAAA+a,cAAC8M,KAAc,QAGvB7nB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,SACHxB,QAASjK,KAAKiB,EAAE,8BAChBuK,KACEnjB,IAAA+a,cAAC+M,IAAK,CAAC/a,MAAM,YAAYiU,QAAQ,MAAM2E,UAAWA,GAChD3lB,IAAA+a,cAACgN,KAAS,SAKhB/nB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,SACHxB,QAASjK,KAAKiB,EAAE,8BAChBuK,KAAMnjB,IAAA+a,cAACiN,KAAe,QAGxBhoB,IAAA+a,cAACsD,GAAG,CACFC,KAAM1N,EAAKxD,QACXmR,QAAQ,0BACR7X,IAAKA,IACH1G,IAAA+a,cAAA/a,IAAAioB,SAAA,KACEjoB,IAAA+a,cAACmN,IAAO,MACRloB,IAAA+a,cAACiI,IAAa,CACZmF,OAAQ3D,EACR4D,MAAO,CACLC,SAAU,WACVC,SAAU,OACVC,UAAW,OACXC,YAAa,IAEfC,OAAK,EACL1b,MAAM,WACL4K,KAAKiB,EAAE,wCAGTiM,GACC7kB,IAAA+a,cAAA/a,IAAAioB,SAAA,KACEjoB,IAAA+a,cAAC2G,IAAQ,CACPmC,QAAM,EACN3C,QAASA,IAAM0D,EAAwB8D,IAAUA,IAEjD1oB,IAAA+a,cAACiJ,IAAY,KACXhkB,IAAA+a,cAAC4N,KAAkB,OAErB3oB,IAAA+a,cAAC4G,IAAY,CACXC,QAASjK,KAAKiB,EAAE,oCAEjB+L,EACC3kB,IAAA+a,cAAC6N,KAAc,MAEf5oB,IAAA+a,cAAC8N,KAAc,OAGnB7oB,IAAA+a,cAAC+N,IAAQ,CACPV,MAAO,CAAEI,YAAa,IACtBO,GAAIpE,EACJzc,QAAQ,OACR8gB,eAAa,GAEbhpB,IAAA+a,cAACwG,IAAI,CAACwC,UAAU,MAAMkF,gBAAc,GAClCjpB,IAAA+a,cAAC2G,IAAQ,CAACR,QAASA,IAAM/F,EAAQ5Z,KAAK,cAAesiB,QAAM,GACzD7jB,IAAA+a,cAACiJ,IAAY,KACXhkB,IAAA+a,cAACmO,KAAQ,OAEXlpB,IAAA+a,cAAC4G,IAAY,CAACC,QAAQ,cAExB5hB,IAAA+a,cAAC2G,IAAQ,CACPR,QAASA,IAAM/F,EAAQ5Z,KAAK,kBAC5BsiB,QAAM,GAEN7jB,IAAA+a,cAACiJ,IAAY,KACXhkB,IAAA+a,cAACoO,KAAU,OAEbnpB,IAAA+a,cAAC4G,IAAY,CAACC,QAAQ,wBAExB5hB,IAAA+a,cAAC2G,IAAQ,CACPR,QAASA,IAAM/F,EAAQ5Z,KAAK,qBAC5BsiB,QAAM,GAEN7jB,IAAA+a,cAACiJ,IAAY,KACXhkB,IAAA+a,cAACqO,KAAoB,OAEvBppB,IAAA+a,cAAC4G,IAAY,CAACC,QAAQ,4BAM/BhR,EAAKyY,OACJrpB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,iBACHxB,QAASjK,KAAKiB,EAAE,qCAChBuK,KAAMnjB,IAAA+a,cAACuO,KAAgB,QAG1BrE,GACCjlB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,WACHxB,QAASjK,KAAKiB,EAAE,gCAChBuK,KAAMnjB,IAAA+a,cAACwO,KAAY,QAItBpE,GACCnlB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,qBACHxB,QAASjK,KAAKiB,EAAE,yCAChBuK,KAAMnjB,IAAA+a,cAACyO,KAAiB,QAG5BxpB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,eACHxB,QAASjK,KAAKiB,EAAE,oCAChBuK,KACEnjB,IAAA+a,cAAC+M,IAAK,CAAC2B,aAAchF,EAAoB,IAAM,EAAG1X,MAAM,SACtD/M,IAAA+a,cAAC2O,KAAW,SAIlB1pB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,SACHxB,QAASjK,KAAKiB,EAAE,8BAChBuK,KAAMnjB,IAAA+a,cAAC4O,KAAU,QAEnB3pB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,UACHxB,QAASjK,KAAKiB,EAAE,+BAChBuK,KAAMnjB,IAAA+a,cAAC6O,KAAuB,QAEhC5pB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,SACHxB,QAASjK,KAAKiB,EAAE,8BAChBuK,KAAMnjB,IAAA+a,cAAC8O,KAAqB,QAE7BpE,GACCzlB,IAAA+a,cAAA/a,IAAAioB,SAAA,KACEjoB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,gBACHxB,QAASjK,KAAKiB,EAAE,oCAChBuK,KAAMnjB,IAAA+a,cAAC+O,KAAe,SAI5B9pB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,cACHxB,QAASjK,KAAKiB,EAAE,mCAChBuK,KAAMnjB,IAAA+a,cAACgP,KAAY,QAGrB/pB,IAAA+a,cAACkI,GAAY,CACXG,GAAG,YACHxB,QAASjK,KAAKiB,EAAE,iCAChBuK,KAAMnjB,IAAA+a,cAACqO,KAAoB,SAI3B5E,GAAaxkB,IAAA+a,cAAC/a,IAAMioB,SAAQ,KAC5BjoB,IAAA+a,cAACmN,IAAO,MAORloB,IAAA+a,cAACiP,IAAU,CAAC5B,MAAO,CAAEE,SAAU,OAAQ2B,QAAS,OAAQ1B,UAAW,QAAS2B,WAAY,SACrF,e,kJCtfjB,MAAMlL,GAAYC,YAAW8D,IAAK,CACjCc,OAAQ,CACPwE,SAAU,YAGX8B,eAAgB,CACfpd,MAAOqd,KAAM,KACb/B,SAAU,WACVgC,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,OAiBAC,OAbW3P,IAAqC,IAApC,QAAEX,EAAO,SAAEY,KAAa2P,GAAM5P,EACxD,MAAMuF,EAAUpB,KAEhB,OACChf,IAAA+a,cAACkG,KAAM0C,OAAAC,OAAA,CAAChD,UAAWR,EAAQyD,OAAQvd,SAAU4T,GAAauQ,GACxD3P,EACAZ,GACAla,IAAA+a,cAAC2P,KAAgB,CAACC,KAAM,GAAI/J,UAAWR,EAAQ+J,mB,UCzBnD,MAAMS,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAajQ,IAAA,IAAC,SAAEC,KAAaoI,GAAOrI,EAAA,OACzC7a,IAAA+a,cAAA,IAAA4I,OAAAC,OAAA,GAAOV,EAAK,CAAEnC,OAAO,SAASgK,IAAI,wBAChCjQ,IAsCYkQ,OAlCSC,IAAmB,IAAlB,SAAEnQ,GAAUmQ,EACpC,MAAMC,EAAY,aACZC,EAAa,WAEfrQ,GAAYoQ,EAAU5f,KAAKwP,KAC9BA,EAAWA,EAASsQ,QAAQF,EAAW,WAEpCpQ,GAA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","file":"static/js/main.6b8e4bda.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/n8n.5c788b8d.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/webhook.e5374d73.png\";","module.exports = \"data:image/jpeg;base64,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\"","import React from \"react\";\n\nconst ColorModeContext = React.createContext({ toggleColorMode: () => {} });\n\nexport default ColorModeContext;","import { createContext } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport jwt from \"jsonwebtoken\";\n\nclass ManagedSocket {\n  constructor(socketManager) {\n    this.socketManager = socketManager;\n    this.rawSocket = socketManager.currentSocket;\n    this.callbacks = [];\n    this.joins = [];\n\n    this.rawSocket.on(\"connect\", () => {\n      if (!this.rawSocket.recovered) {\n        const refreshJoinsOnReady = () => {\n          for (const j of this.joins) {\n            console.debug(\"refreshing join\", j);\n            this.rawSocket.emit(`join${j.event}`, ...j.params);\n          }\n          this.rawSocket.off(\"ready\", refreshJoinsOnReady);\n        };\n        for (const j of this.callbacks) {\n          this.rawSocket.off(j.event, j.callback);\n          this.rawSocket.on(j.event, j.callback);\n        }\n        \n        this.rawSocket.on(\"ready\", refreshJoinsOnReady);\n      }\n    });\n  }\n  \n  on(event, callback) {\n    if (event === \"ready\" || event === \"connect\") {\n      return this.socketManager.onReady(callback);\n    }\n    this.callbacks.push({event, callback});\n    return this.rawSocket.on(event, callback);\n  }\n  \n  off(event, callback) {\n    const i = this.callbacks.findIndex((c) => c.event === event && c.callback === callback);\n    this.callbacks.splice(i, 1);\n    return this.rawSocket.off(event, callback);\n  }\n  \n  emit(event, ...params) {\n    if (event.startsWith(\"join\")) {\n      this.joins.push({ event: event.substring(4), params });\n      console.log(\"Joining\", { event: event.substring(4), params});\n    }\n    return this.rawSocket.emit(event, ...params);\n  }\n  \n  disconnect() {\n    for (const j of this.joins) {\n      this.rawSocket.emit(`leave${j.event}`, ...j.params);\n    }\n    this.joins = [];\n    for (const c of this.callbacks) {\n      this.rawSocket.off(c.event, c.callback);\n    }\n    this.callbacks = [];\n  }\n}\n\nclass DummySocket {\n  on(..._) {}\n  off(..._) {}\n  emit(..._) {}\n  disconnect() {}\n}\n\nconst SocketManager = {\n  currentCompanyId: -1,\n  currentUserId: -1,\n  currentSocket: null,\n  socketReady: false,\n\n  getSocket: function(companyId) {\n    let userId = null;\n    if (localStorage.getItem(\"userId\")) {\n      userId = localStorage.getItem(\"userId\");\n    }\n\n    if (!companyId && !this.currentSocket) {\n      return new DummySocket();\n    }\n\n    if (companyId && typeof companyId !== \"string\") {\n      companyId = `${companyId}`;\n    }\n\n    if (companyId !== this.currentCompanyId || userId !== this.currentUserId) {\n      if (this.currentSocket) {\n        console.warn(\"closing old socket - company or user changed\");\n        this.currentSocket.removeAllListeners();\n        this.currentSocket.disconnect();\n        this.currentSocket = null;\n      }\n\n      let token = JSON.parse(localStorage.getItem(\"token\"));\n      const { exp } = jwt.decode(token);\n\n      if ( Date.now() >= exp*1000) {\n        console.warn(\"Expired token, reload after refresh\");\n        setTimeout(() => {\n          window.location.reload();\n        },1000);\n        return new DummySocket();\n      }\n\n      this.currentCompanyId = companyId;\n      this.currentUserId = userId;\n      \n      if (!token) {\n        return new DummySocket();\n      }\n      \n      this.currentSocket = openSocket(process.env.REACT_APP_BACKEND_URL, {\n        transports: [\"websocket\"],\n        pingTimeout: 18000,\n        pingInterval: 18000,\n        query: { token },\n      });\n      \n      this.currentSocket.on(\"disconnect\", (reason) => {\n        console.warn(`socket disconnected because: ${reason}`);\n        if (reason.startsWith(\"io \")) {\n          console.warn(\"tryng to reconnect\", this.currentSocket);\n          \n          const { exp } = jwt.decode(token);\n          if ( Date.now()-180 >= exp*1000) {\n            console.warn(\"Expired token, reloading app\");\n            window.location.reload();\n            return;\n          }\n\n          this.currentSocket.connect();\n        }        \n      });\n      \n      this.currentSocket.on(\"connect\", (...params) => {\n        console.warn(\"socket connected\", params);\n      })\n      \n      this.currentSocket.onAny((event, ...args) => {\n        console.debug(\"Event: \", { socket: this.currentSocket, event, args });\n      });\n      \n      this.onReady(() => {\n        this.socketReady = true;\n      });\n\n    }\n    \n    return new ManagedSocket(this);\n  },\n  \n  onReady: function( callbackReady ) {\n    if (this.socketReady) {\n      callbackReady();\n      return\n    }\n    \n    this.currentSocket.once(\"ready\", () => {\n      callbackReady();\n    });\n  },\n\n};\n\nconst SocketContext = createContext()\n\nexport { SocketContext, SocketManager };\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"Já tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"Registre-se, agora mesmo!\",\n        },\n      },\n      plans: {\n        form: {\n          name: \"Nome\",\n          users: \"Usuários\",\n          connections: \"Conexões\",\n          campaigns: \"Campanhas\",\n          schedules: \"Agendamentos\",\n          enabled: \"Habilitadas\",\n          disabled: \"Desabilitadas\",\n          clear: \"Cancelar\",\n          delete: \"Excluir\",\n          save: \"Salvar\",\n          yes: \"Sim\",\n          no: \"Não\",\n          money: \"R$\",\n        },\n      },\n      companies: {\n        title: \"Cadastrar Empresa\",\n        form: {\n          name: \"Nome da Empresa\",\n          plan: \"Plano\",\n          token: \"Token\",\n          submit: \"Cadastrar\",\n          success: \"Empresa criada com sucesso!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atendimentos hoje: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexões\",\n        toasts: {\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sessão do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\n          },\n          connected: {\n            title: \"Conexão estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexão com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"Última atualização\",\n          default: \"Padrão\",\n          actions: \"Ações\",\n          session: \"Sessão\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\t\t\n\t\t tabs: {\n          general: \"Geral\",\n          messages: \"Mensagens\",\n          assessments: \"Avaliações\",\n          integrations: \"Integrações\",\n          schedules: \"Horário de expediente\",\n\t\t },\n        form: {\n          name: \"Nome\",\n          default: \"Padrão\",\n          sendIdQueue: \"Fila\",\n          timeSendQueue: \"Redirecionar para fila em X minutos\",\n          queueRedirection: \"Redirecionamento de Fila\",\n\t\t  outOfHoursMessage: \"Mensagem de fora de expediente\",\n          queueRedirectionDesc: \"Selecione uma fila para os contatos que não possuem fila serem redirecionados\",\n          prompt: \"Prompt\",\n          //maxUseBotQueues: \"Enviar bot x vezes\",\n          //timeUseBotQueues: \"Intervalo em minutos entre envio de bot\",\n          expiresTicket: \"Encerrar chats abertos após x minutos\",\n          expiresInactiveMessage: \"Mensagem de encerramento por inatividade\",\n\t\t  greetingMessage: \"Mensagem de saudação\",\n          complationMessage: \"Mensagem de conclusão\",\n\t\t  sendIdQueue: \"Fila\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sessão\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excluído com sucesso!\",\n\t\t  deletedAll: \"Todos contatos excluídos com sucesso!\",\n        },\n\t\t  searchPlaceholder: \"Pesquisar...\",\n          confirmationModal: {\n          deleteTitle: \"Deletar \",\n          deleteAllTitle: \"Deletar Todos\",\n          importTitle: \"Importar contatos\",\n          deleteMessage: \"Tem certeza que deseja deletar este contato? Todos os tickets relacionados serão perdidos.\",\n          deleteAllMessage: \"Tem certeza que deseja deletar todos os contatos? Todos os tickets relacionados serão perdidos.\",\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n          export: \"Exportar Contatos\",\n          delete: \"Excluir Todos Contatos\"\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Ações\",\n        },\n      },\n      queueIntegrationModal: {\n        title: {\n          add: \"Adicionar projeto\",\n          edit: \"Editar projeto\",\n        },\n        form: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          jsonContent: \"JsonContent\",\n          urlN8N: \"URL\",\n          typebotSlug: \"Typebot - Slug\",\n          typebotExpires: \"Tempo em minutos para expirar uma conversa\",\n          typebotKeywordFinish: \"Palavra para finalizar o ticket\",\n          typebotKeywordRestart: \"Palavra para reiniciar o fluxo\",\n          typebotRestartMessage: \"Mensagem ao reiniciar a conversa\",\n          typebotUnknownMessage: \"Mensagem de opção inválida\",\n          typebotDelayMessage: \"Intervalo (ms) entre mensagens\",   \n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n          test: \"Testar Bot\",\n        },\n        messages: {\n          testSuccess: \"Integração testada com sucesso!\",\n          addSuccess: \"Integração adicionada com sucesso.\",\n          editSuccess: \"Integração editada com sucesso.\",\n        },\n      },\n\t  sideMenu: {\n            name: \"Menu Lateral Inicial\",\n            note: \"Se habilitado, o menu lateral irá iniciar fechado\",\n            options: {\n              enabled: \"Aberto\",\n              disabled: \"Fechado\",\n            },\n          },\n      promptModal: {\n        form: {\n          name: \"Nome\",\n          prompt: \"Prompt\",\n          voice: \"Voz\",\n          max_tokens: \"Máximo de Tokens na resposta\",\n          temperature: \"Temperatura\",\n          apikey: \"API Key\",\n          max_messages: \"Máximo de mensagens no Histórico\",\n          voiceKey: \"Chave da API de Voz\",\n          voiceRegion: \"Região de Voz\",\n        },\n        success: \"Prompt salvo com sucesso!\",\n        title: {\n          add: \"Adicionar Prompt\",\n          edit: \"Editar Prompt\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      prompts: {\n        title: \"Prompts\",\n        table: {\n          name: \"Nome\",\n          queue: \"Setor/Fila\",\n          max_tokens: \"Máximo Tokens Resposta\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida!\",\n        },\n        buttons: {\n          add: \"Adicionar Prompt\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informações adicionais\",\n          name: \"Nome\",\n          number: \"Número do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n          whatsapp: \"Conexão Origem: \"\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informação\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudação\",\n          complationMessage: \"Mensagem de conclusão\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          ratingMessage: \"Mensagem de avaliação\",\n          token: \"Token\",\n          orderQueue: \"Ordem da fila (Bot)\",\n          integrationId: \"Integração\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usuário\",\n          edit: \"Editar usuário\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexão Padrão\",\n\n          allTicket: \"Ticket Sem Fila [Invisível]\",\n          allTicketEnabled: \"Habilitado\",\n          allTicketDesabled: \"Desabilitado\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuário salvo com sucesso.\",\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\n      },\n      uploads: {\n        titles: {\n          titleUploadMsgDragDrop: \"ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO\",\n          titleFileList: \"Lista de arquivo(s)\"\n        },\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O atendimento que você estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Abertas\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar atendimento e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usuários\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\n        buttons: {\n          accept: \"Aceitar\",\n          closed: \"Finalizar\",\n          reopen: \"Reabrir\"\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexões\",\n          tickets: \"Atendimentos\",\n          quickMessages: \"Respostas Rápidas\",\n          contacts: \"Contatos\",\n          queues: \"Filas & Chatbot\",\n          tags: \"Tags\",\n          administration: \"Administração\",\n          users: \"Usuários\",\n          settings: \"Configurações\",\n          helps: \"Ajuda\",\n          messagesAPI: \"API\",\n          schedules: \"Agendamentos\",\n          campaigns: \"Campanhas\",\n          annoucements: \"Informativos\",\n          chats: \"Chat Interno\",\n          financeiro: \"Financeiro\",\n          files: \"Lista de arquivos\",\n          prompts: \"Open.Ai\",\n          queueIntegration: \"Integrações\",\n        },\n        appBar: {\n          notRegister:\"Sem notificações\",\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      queueIntegration: {\n        title: \"Integrações\",\n        table: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          lastUpdate: \"Ultima atualização\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar Projeto\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! e será removida das filas e conexões vinculadas\",\n        },\n      },\n      files: {\n        title: \"Lista de arquivos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ação\",\n        },\n        toasts: {\n          deleted: \"Lista excluída com sucesso!\",\n          deletedAll: \"Todas as listas foram excluídas com sucesso!\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          deleteAll: \"Deletar Todos\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteAllTitle: \"Deletar Todos\",\n          deleteMessage: \"Tem certeza que deseja deletar esta lista?\",\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as listas?\",\n        },\n      },\n      messagesAPI: {\n        title: \"API\",\n        textMessage: {\n          number: \"Número\",\n          body: \"Mensagem\",\n          token: \"Token cadastrado\",\n        },\n        mediaMessage: {\n          number: \"Número\",\n          body: \"Nome do arquivo\",\n          media: \"Arquivo\",\n          token: \"Token cadastrado\",\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificação.\",\n      },\n      quickMessages: {\n        title: \"Respostas Rápidas\",\n        searchPlaceholder: \"Pesquisar...\",\n        noAttachment: \"Sem anexo\",\n        confirmationModal: {\n          deleteTitle: \"Exclusão\",\n          deleteMessage: \"Esta ação é irreversível! Deseja prosseguir?\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          attach: \"Anexar Arquivo\",\n          cancel: \"Cancelar\",\n          edit: \"Editar\",\n        },\n        toasts: {\n          success: \"Atalho adicionado com sucesso!\",\n          deleted: \"Atalho removido com sucesso!\",\n        },\n        dialog: {\n          title: \"Mensagem Rápida\",\n          shortcode: \"Atalho\",\n          message: \"Resposta\",\n          save: \"Salvar\",\n          cancel: \"Cancelar\",\n          geral: \"Permitir editar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          visao: \"Permitir visão\",\n        },\n        table: {\n          shortcode: \"Atalho\",\n          message: \"Mensagem\",\n          actions: \"Ações\",\n          mediaName: \"Nome do Arquivo\",\n          status: \"Status\",\n        },\n      },\n      messageVariablesPicker: {\n        label: \"Variavéis disponíveis\",\n        vars: {\n          contactFirstName: \"Primeiro Nome\",\n          contactName: \"Nome\",\n          greeting: \"Saudação\",\n          protocolNumber: \"Protocolo\",\n          date: \"Data\",\n          hour: \"Hora\",\n        },\n      },\n      contactLists: {\n        title: \"Listas de Contatos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Lista\",\n        },\n        dialog: {\n          name: \"Nome\",\n          company: \"Empresa\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      contactListItems: {\n        title: \"Contatos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo\",\n          lists: \"Listas\",\n          import: \"Importar\",\n        },\n        dialog: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        table: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n          importMessage: \"Deseja importar os contatos desta planilha? \",\n          importTitlte: \"Importar\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaigns: {\n        title: \"Campanhas\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Nova Campanha\",\n          contactLists: \"Listas de Contatos\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"Conexão\",\n          contactList: \"Lista de Contatos\",\n          status: \"Status\",\n          scheduledAt: \"Agendamento\",\n          completedAt: \"Concluída\",\n          confirmation: \"Confirmação\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          new: \"Nova Campanha\",\n          update: \"Editar Campanha\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            name: \"Nome\",\n            message1: \"Mensagem 1\",\n            message2: \"Mensagem 2\",\n            message3: \"Mensagem 3\",\n            message4: \"Mensagem 4\",\n            message5: \"Mensagem 5\",\n            confirmationMessage1: \"Mensagem de Confirmação 1\",\n            confirmationMessage2: \"Mensagem de Confirmação 2\",\n            confirmationMessage3: \"Mensagem de Confirmação 3\",\n            confirmationMessage4: \"Mensagem de Confirmação 4\",\n            confirmationMessage5: \"Mensagem de Confirmação 5\",\n            messagePlaceholder: \"Conteúdo da mensagem\",\n            whatsapp: \"Conexão\",\n            status: \"Status\",\n            scheduledAt: \"Agendamento\",\n            confirmation: \"Confirmação\",\n            contactList: \"Lista de Contato\",\n            tagList: \"Lista de Tags\",\n            fileList: \"Lista de Arquivos\"\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar Disparos\",\n            restart: \"Reiniciar Disparos\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          cancel: \"Campanha cancelada\",\n          restart: \"Campanha reiniciada\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      announcements: {\n        active: 'Ativo',\n        inactive: 'Inativo',\n        title: \"Informativos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo Informativo\",\n          contactLists: \"Listas de Informativos\",\n        },\n        table: {\n          priority: \"Prioridade\",\n          title: \"Title\",\n          text: \"Texto\",\n          mediaName: \"Arquivo\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          edit: \"Edição de Informativo\",\n          add: \"Novo Informativo\",\n          update: \"Editar Informativo\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            priority: \"Prioridade\",\n            title: \"Title\",\n            text: \"Texto\",\n            mediaPath: \"Arquivo\",\n            status: \"Status\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaignsConfig: {\n        title: \"Configurações de Campanhas\",\n      },\n      queues: {\n        title: \"Filas & Chatbot\",\n        table: {\n\t\t  id:\"ID\",\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudação\",\n          actions: \"Ações\",\n          orderQueue: \"Ordenação da fila (bot)\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! Os atendimentos dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      users: {\n        title: \"Usuários\",\n        table: {\n\t\t  id: \"ID\",\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar usuário\",\n        },\n        toasts: {\n          deleted: \"Usuário excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usuário serão perdidos. Os atendimento abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      helps: {\n        title: \"Central de Ajuda\",\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excluído com sucesso.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n\t\t  deleteAllMessage: \"Tem certeza que deseja deletar todas as Tags?\",\n\t\t  deleteAllTitle: \"Deletar Todos\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Registros Tagdos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n\t\t  deleteAll: \"Deletar Todas\",\n        },\n        toasts: {\n\t\t  deletedAll: \"Todas Tags excluídas com sucesso!\",\n          deleted: \"Tag excluído com sucesso.\",\n        },\n      },\n      settings: {\n        success: \"Configurações salvas com sucesso.\",\n        title: \"Configurações\",\n        settings: {\n          userCreation: {\n            name: \"Criação de usuário\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribuído à:\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informações\",\n      },\n      fileModal: {\n        title: {\n          add: \"Adicionar lista de arquivos\",\n          edit: \"Editar lista de arquivos\",\n        },\n        buttons: {\n          okAdd: \"Salvar\",\n          okEdit: \"Editar\",\n          cancel: \"Cancelar\",\n          fileOptions: \"Adicionar arquivo\",\n        },\n        form: {\n          name: \"Nome da lista de arquivos\",\n          message: \"Detalhes da lista\",\n          fileOptions: \"Lista de arquivos\",\n          extraName: \"Mensagem para enviar com arquivo\",\n          extraValue: \"Valor da opção\",\n        },\n        success: \"Lista de arquivos salva com sucesso!\",\n      },\n      ticketOptionsMenu: {\n        schedule: \"Agendamento\",\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        registerAppointment: \"Observações do Contato\",\n        appointmentsModal: {\n          title: \"Observações do Contato\",\n          textarea: \"Observação\",\n          placeholder: \"Insira aqui a informação que deseja registrar\",\n        },\n        confirmationModal: {\n          title: \"Deletar o ticket\",\n\t\t  titleFrom: \"do contato \",\n          message:\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticação. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criação do usuário foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor já está em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n\ten: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Sign up\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Register\",\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Login\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Enter\",\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Login successfully!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets today: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Connections\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tdisconnect: \"Disconnect\",\n\t\t\t\t\ttryAgain: \"Try Again\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"New QR CODE\",\n\t\t\t\t\tconnecting: \"Connectiing\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Connection established\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tstatus: \"Status\",\n\t\t\t\t\tlastUpdate: \"Last Update\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t\tsession: \"Session\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tedit: \"Edit WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Read QrCode to start the session\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contacts\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Search ...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\timportTitlte: \"Import contacts\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Import Contacts\",\n\t\t\t\t\tadd: \"Add Contact\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add contact\",\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Contact details\",\n\t\t\t\t\textraInfo: \"Additional information\",\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tnumber: \"Whatsapp number\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\textraName: \"Field name\",\n\t\t\t\t\textraValue: \"Value\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Add information\",\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contact saved successfully.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t\tedit: \"Edit queue\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t\tedit: \"Edit user\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"User saved successfully.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"New\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Queues\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Message from\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Inbox\" },\n\t\t\t\t\tclosed: { title: \"Resolved\" },\n\t\t\t\t\tsearch: { title: \"Search\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"All\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transfer Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for users\",\n\t\t\t\tnoOptions: \"No user found with this name\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transfer\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Queue\",\n\t\t\t\tassignedHeader: \"Working on\",\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Create Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\n\t\t\t\tadd: \"Add\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Connections\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contacts\",\n\t\t\t\t\tqueues: \"Queues\",\n\t\t\t\t\tadministration: \"Administration\",\n\t\t\t\t\tusers: \"Users\",\n\t\t\t\t\tsettings: \"Settings\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\t\tlogout: \"Logout\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"No notifications.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Queues\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Greeting message\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Queues\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Users\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Settings saved successfully.\",\n\t\t\t\ttitle: \"Settings\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"User creation\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Enabled\",\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Assigned to:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Return\",\n\t\t\t\t\t\tresolve: \"Resolve\",\n\t\t\t\t\t\treopen: \"Reopen\",\n\t\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Type a message\",\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\n\t\t\t\tsignMessage: \"Sign\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Contact details\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Other information\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\ttransfer: \"Transfer\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete ticket #\",\n\t\t\t\t\ttitleFrom: \"from contact \",\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Delete\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\treply: \"Reply\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete message?\",\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET:\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"User creation was disabled by administrator.\",\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"This color is already in use, pick another one.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registrarse\",\n        toasts: {\n          success: \"¡Usuario creado exitosamente! ¡Inicie sesión!\",\n          fail: \"Error al crear usuario. Verifique los datos ingresados.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Registrarse\",\n          login: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\n        },\n      },\n      login: {\n        title: \"Iniciar sesión\",\n        form: {\n          email: \"Correo electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Iniciar sesión\",\n          register: \" ¡Crea tu cuenta en solo unos clics!\",\n        },\n      },\n      plans: {\n        form: {\n          name: \"Nombre\",\n          users: \"Usuarios\",\n          connections: \"Conexiones\",\n          campaigns: \"Campañas\",\n          schedules: \"Programaciones\",\n          enabled: \"Habilitadas\",\n          disabled: \"Deshabilitadas\",\n          clear: \"Cancelar\",\n          delete: \"Eliminar\",\n          save: \"Guardar\",\n          yes: \"Sí\",\n          no: \"No\",\n          money: \"R$\",\n        },\n      },\n      companies: {\n        title: \"Registrar Empresa\",\n        form: {\n          name: \"Nombre de la Empresa\",\n          plan: \"Plan\",\n          token: \"Token\",\n          submit: \"Registrar\",\n          success: \"¡Empresa creada exitosamente!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"¡Inicio de sesión exitoso!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atenciones de hoy: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexiones\",\n        toasts: {\n          deleted: \"¡Conexión con WhatsApp eliminada exitosamente!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage: \"¿Estás seguro? Esta acción no se puede deshacer.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"¿Estás seguro? Deberás volver a leer el código QR.\",\n        },\n        buttons: {\n          add: \"Agregar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Intentar de nuevo\",\n          qrcode: \"CÓDIGO QR\",\n          newQr: \"Nuevo CÓDIGO QR\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Error al iniciar sesión en WhatsApp\",\n            content:\n              \"Asegúrate de que tu teléfono esté conectado a internet e inténtalo nuevamente, o solicita un nuevo código QR\",\n          },\n          qrcode: {\n            title: \"Esperando lectura del código QR\",\n            content:\n              \"Haz clic en el botón 'CÓDIGO QR' y lee el código QR con tu teléfono para iniciar sesión\",\n          },\n          connected: {\n            title: \"¡Conexión establecida!\",\n          },\n          timeout: {\n            title: \"Se perdió la conexión con el teléfono\",\n            content:\n              \"Asegúrate de que tu teléfono esté conectado a internet y WhatsApp esté abierto, o haz clic en el botón 'Desconectar' para obtener un nuevo código QR\",\n          },\n        },\n\t\ttable: {\n  name: \"Nombre\",\n  status: \"Estado\",\n  lastUpdate: \"Última actualización\",\n  default: \"Predeterminado\",\n  actions: \"Acciones\",\n  session: \"Sesión\",\n},\nwhatsappModal: {\n  title: {\n    add: \"Agregar WhatsApp\",\n    edit: \"Editar WhatsApp\",\n  },\n  tabs: {\n    general: \"General\",\n    messages: \"Mensajes\",\n    assessments: \"Evaluaciones\",\n    integrations: \"Integraciones\",\n    schedules: \"Horario de expediente\",\n  },\n  form: {\n    name: \"Nombre\",\n    default: \"Predeterminado\",\n    sendIdQueue: \"Fila\",\n    timeSendQueue: \"Redireccionar a cola en X minutos\",\n    queueRedirection: \"Redirección de cola\",\n    outOfHoursMessage: \"Mensaje de fuera de expediente\",\n    queueRedirectionDesc: \"Seleccione una fila para redirigir los contactos que no tienen cola\",\n    prompt: \"Prompt\",\n    expiresTicket: \"Cerrar chats abiertos después de X minutos\",\n    expiresInactiveMessage: \"Mensaje de cierre por inactividad\",\n    greetingMessage: \"Mensaje de saludo\",\n    complationMessage: \"Mensaje de conclusión\",\n    sendIdQueue: \"Fila\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"WhatsApp guardado con éxito.\",\n},\nqrCode: {\n  message: \"Lea el código QR para iniciar sesión\",\n},\ncontacts: {\n  title: \"Contactos\",\n  toasts: {\n    deleted: \"Contacto eliminado con éxito!\",\n    deletedAll: \"Todos los contactos eliminados con éxito!\",\n  },\n  searchPlaceholder: \"Buscar...\",\n  confirmationModal: {\n    deleteTitle: \"Eliminar \",\n    deleteAllTitle: \"Eliminar Todos\",\n    importTitle: \"Importar contactos\",\n    deleteMessage: \"¿Seguro que desea eliminar este contacto? Se perderán todos los tickets relacionados.\",\n    deleteAllMessage: \"¿Seguro que desea eliminar todos los contactos? Se perderán todos los tickets relacionados.\",\n    importMessage: \"¿Desea importar todos los contactos del teléfono?\",\n  },\n  buttons: {\n    import: \"Importar Contactos\",\n    add: \"Agregar Contacto\",\n    export: \"Exportar Contactos\",\n    delete: \"Eliminar Todos Contactos\",\n  },\n  table: {\n    name: \"Nombre\",\n    whatsapp: \"WhatsApp\",\n    email: \"Correo electrónico\",\n    actions: \"Acciones\",\n  },\n},\nqueueIntegrationModal: {\n  title: {\n    add: \"Agregar proyecto\",\n    edit: \"Editar proyecto\",\n  },\n  form: {\n    id: \"ID\",\n    type: \"Tipo\",\n    name: \"Nombre\",\n    projectName: \"Nombre del Proyecto\",\n    language: \"Lenguaje\",\n    jsonContent: \"JsonContent\",\n    urlN8N: \"URL\",\n    typebotSlug: \"Typebot - Slug\",\n    typebotExpires: \"Tiempo en minutos para expirar una conversación\",\n    typebotKeywordFinish: \"Palabra para finalizar el ticket\",\n    typebotKeywordRestart: \"Palabra para reiniciar el flujo\",\n    typebotRestartMessage: \"Mensaje al reiniciar la conversación\",\n    typebotUnknownMessage: \"Mensaje de opción inválida\",\n    typebotDelayMessage: \"Intervalo (ms) entre mensajes\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n    test: \"Probar Bot\",\n  },\n  messages: {\n    testSuccess: \"Integración probada con éxito!\",\n    addSuccess: \"Integración agregada con éxito.\",\n    editSuccess: \"Integración editada con éxito.\",\n  },\n},\nsideMenu: {\n  name: \"Menú Lateral Inicial\",\n  note: \"Si está habilitado, el menú lateral se iniciará cerrado\",\n  options: {\n    enabled: \"Abierto\",\n    disabled: \"Cerrado\",\n  },\n},\npromptModal: {\n  form: {\n    name: \"Nombre\",\n    prompt: \"Prompt\",\n    voice: \"Voz\",\n    max_tokens: \"Máximo de Tokens en la respuesta\",\n    temperature: \"Temperatura\",\n    apikey: \"API Key\",\n    max_messages: \"Máximo de mensajes en el Historial\",\n    voiceKey: \"Clave de la API de Voz\",\n    voiceRegion: \"Región de Voz\",\n  },\n  success: \"Prompt guardado con éxito!\",\n  title: {\n    add: \"Agregar Prompt\",\n    edit: \"Editar Prompt\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n},\nprompts: {\n  title: \"Prompts\",\n  table: {\n    name: \"Nombre\",\n    queue: \"Sector/Cola\",\n    max_tokens: \"Máximo Tokens Respuesta\",\n    actions: \"Acciones\",\n  },\n  confirmationModal: {\n    deleteTitle: \"Eliminar\",\n    deleteMessage: \"¿Está seguro? ¡Esta acción no se puede deshacer!\",\n  },\n  buttons: {\n    add: \"Agregar Prompt\",\n  },\n},\ncontactModal: {\n  title: {\n    add: \"Agregar contacto\",\n    edit: \"Editar contacto\",\n  },\n  form: {\n    mainInfo: \"Datos del contacto\",\n    extraInfo: \"Información adicional\",\n    name: \"Nombre\",\n    number: \"Número de Whatsapp\",\n    email: \"Email\",\n    extraName: \"Nombre del campo\",\n    extraValue: \"Valor\",\n    whatsapp: \"Conexión Origen: \"\n  },\n  buttons: {\n    addExtraInfo: \"Agregar información\",\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"Contacto guardado con éxito.\",\n},\nqueueModal: {\n  title: {\n    add: \"Agregar cola\",\n    edit: \"Editar cola\",\n  },\n  form: {\n    name: \"Nombre\",\n    color: \"Color\",\n    greetingMessage: \"Mensaje de saludo\",\n    complationMessage: \"Mensaje de conclusión\",\n    outOfHoursMessage: \"Mensaje de fuera de horario\",\n    ratingMessage: \"Mensaje de evaluación\",\n    token: \"Token\",\n    orderQueue: \"Orden de la cola (Bot)\",\n    integrationId: \"Integración\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n},\nuserModal: {\n  title: {\n    add: \"Agregar usuario\",\n    edit: \"Editar usuario\",\n  },\n  form: {\n    name: \"Nombre\",\n    email: \"Email\",\n    password: \"Contraseña\",\n    profile: \"Perfil\",\n    whatsapp: \"Conexión Predeterminada\",\n\n    allTicket: \"Ticket Sin Cola [Invisible]\",\n    allTicketEnabled: \"Habilitado\",\n    allTicketDesabled: \"Deshabilitado\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"Usuario guardado con éxito.\",\n},\nscheduleModal: {\n  title: {\n    add: \"Nuevo Agendamiento\",\n    edit: \"Editar Agendamiento\",\n  },\n  form: {\n    body: \"Mensaje\",\n    contact: \"Contacto\",\n    sendAt: \"Fecha de Agendamiento\",\n    sentAt: \"Fecha de Envío\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"Agendamiento guardado con éxito.\",\n},\ntagModal: {\n  title: {\n    add: \"Nueva Etiqueta\",\n    edit: \"Editar Etiqueta\",\n  },\n  form: {\n    name: \"Nombre\",\n    color: \"Color\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"Etiqueta guardada con éxito.\",\n},\nchat: {\n  noTicketMessage: \"Seleccione un ticket para comenzar a conversar.\",\n},\nuploads: {\n  titles: {\n    titleUploadMsgDragDrop: \"ARRASTRE Y SUELTE ARCHIVOS EN EL CAMPO ABAJO\",\n    titleFileList: \"Lista de archivo(s)\"\n  },\n},\nticketsManager: {\n  buttons: {\n    newTicket: \"Nuevo\",\n  },\n},\nticketsQueueSelect: {\n  placeholder: \"Colas\",\n},\ntickets: {\n  toasts: {\n    deleted: \"La atención en la que estaba ha sido eliminada.\",\n  },\n  notification: {\n    message: \"Mensaje de\",\n  },\n  tabs: {\n    open: { title: \"Abiertas\" },\n    closed: { title: \"Resueltos\" },\n    search: { title: \"Búsqueda\" },\n  },\n  search: {\n    placeholder: \"Buscar atención y mensajes\",\n  },\n  buttons: {\n    showAll: \"Todos\",\n  },\n},\ntransferTicketModal: {\n    title: \"Transferir Ticket\",\n    fieldLabel: \"Escribe para buscar usuarios\",\n    fieldQueueLabel: \"Transferir a cola\",\n    fieldQueuePlaceholder: \"Seleccione una cola\",\n    noOptions: \"No se encontraron usuarios con ese nombre\",\n    buttons: {\n      ok: \"Transferir\",\n      cancel: \"Cancelar\",\n    },\n  },\n  ticketsList: {\n    pendingHeader: \"Pendiente\",\n    assignedHeader: \"Atendiendo\",\n    noTicketsTitle: \"¡Nada aquí!\",\n    noTicketsMessage:\n      \"No se encontraron tickets con este estado o término de búsqueda\",\n    buttons: {\n      accept: \"Aceptar\",\n      closed: \"Finalizar\",\n      reopen: \"Reabrir\"\n    },\n  },\n  newTicketModal: {\n    title: \"Crear Ticket\",\n    fieldLabel: \"Escribe para buscar el contacto\",\n    add: \"Agregar\",\n    buttons: {\n      ok: \"Guardar\",\n      cancel: \"Cancelar\",\n    },\n  },\n  mainDrawer: {\n    listItems: {\n      dashboard: \"Tablero\",\n      connections: \"Conexiones\",\n      tickets: \"Tickets\",\n      quickMessages: \"Respuestas Rápidas\",\n      contacts: \"Contactos\",\n      queues: \"Colas y Chatbot\",\n      tags: \"Etiquetas\",\n      administration: \"Administración\",\n      users: \"Usuarios\",\n      settings: \"Configuraciones\",\n      helps: \"Ayuda\",\n      messagesAPI: \"API\",\n      schedules: \"Agendamientos\",\n      campaigns: \"Campañas\",\n      annoucements: \"Anuncios\",\n      chats: \"Chat Interno\",\n      financeiro: \"Financiero\",\n      files: \"Lista de archivos\",\n      prompts: \"Open.Ai\",\n      queueIntegration: \"Integraciones\",\n    },\n    appBar: {\n      notRegister:\"Sin notificaciones\",\n      user: {\n        profile: \"Perfil\",\n        logout: \"Salir\",\n      },\n    },\n  },\n  queueIntegration: {\n    title: \"Integraciones\",\n    table: {\n      id: \"ID\",\n      type: \"Tipo\",\n      name: \"Nombre\",\n      projectName: \"Nombre del Proyecto\",\n      language: \"Idioma\",\n      lastUpdate: \"Última actualización\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Agregar Proyecto\",\n    },\n    searchPlaceholder: \"Buscar...\",\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage:\n        \"¿Estás seguro? ¡Esta acción no se puede deshacer! y se eliminará de las colas y conexiones vinculadas\",\n    },\n  },\n  files: {\n    title: \"Lista de archivos\",\n    table: {\n      name: \"Nombre\",\n      contacts: \"Contactos\",\n      actions: \"Acción\",\n    },\n    toasts: {\n      deleted: \"¡Lista eliminada correctamente!\",\n      deletedAll: \"¡Todas las listas se han eliminado correctamente!\",\n    },\n    buttons: {\n      add: \"Agregar\",\n      deleteAll: \"Eliminar Todos\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteAllTitle: \"Eliminar Todos\",\n      deleteMessage: \"¿Estás seguro de que deseas eliminar esta lista?\",\n      deleteAllMessage: \"¿Estás seguro de que deseas eliminar todas las listas?\",\n    },\n  },\n  messagesAPI: {\n    title: \"API\",\n    textMessage: {\n      number: \"Número\",\n      body: \"Mensaje\",\n      token: \"Token registrado\",\n    },\n    mediaMessage: {\n      number: \"Número\",\n      body: \"Nombre del archivo\",\n      media: \"Archivo\",\n      token: \"Token registrado\",\n    },\n  },\n  notifications: {\n    noTickets: \"No hay notificaciones.\",\n  },\n  quickMessages: {\n    title: \"Respuestas Rápidas\",\n    searchPlaceholder: \"Buscar...\",\n    noAttachment: \"Sin adjunto\",\n    confirmationModal: {\n      deleteTitle: \"Eliminación\",\n      deleteMessage: \"¡Esta acción es irreversible! ¿Quieres continuar?\",\n    },\n    buttons: {\n      add: \"Agregar\",\n      attach: \"Adjuntar Archivo\",\n      cancel: \"Cancelar\",\n      edit: \"Editar\",\n    },\n    toasts: {\n      success: \"¡Atajo agregado correctamente!\",\n      deleted: \"¡Atajo eliminado correctamente!\",\n    },\n    dialog: {\n      title: \"Mensaje Rápido\",\n      shortcode: \"Atajo\",\n      message: \"Respuesta\",\n      save: \"Guardar\",\n      cancel: \"Cancelar\",\n      geral: \"Permitir editar\",\n      add: \"Agregar\",\n      edit: \"Editar\",\n      visao: \"Permitir vista\",\n    },\n    table: {\n      shortcode: \"Atajo\",\n      message: \"Mensaje\",\n      actions: \"Acciones\",\n      mediaName: \"Nombre del Archivo\",\n      status: \"Estado\",\n    },\n  },\n  messageVariablesPicker: {\n    label: \"Variables disponibles\",\n    vars: {\n      contactFirstName: \"Primer Nombre\",\n      contactName: \"Nombre\",\n      greeting: \"Saludo\",\n      protocolNumber: \"Protocolo\",\n      date: \"Fecha\",\n      hour: \"Hora\",\n    },\n  },\n  contactLists: {\n    title: \"Listas de Contactos\",\n    table: {\n      name: \"Nombre\",\n      contacts: \"Contactos\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Nueva Lista\",\n    },\n    dialog: {\n      name: \"Nombre\",\n      company: \"Empresa\",\n      okEdit: \"Editar\",\n      okAdd: \"Agregar\",\n      add: \"Agregar\",\n      edit: \"Editar\",\n      cancel: \"Cancelar\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n    },\n    toasts: {\n      deleted: \"Registro eliminado\",\n    },\n  },\n  contactListItems: {\n    title: \"Contactos\",\n    searchPlaceholder: \"Búsqueda\",\n    buttons: {\n      add: \"Nuevo\",\n      lists: \"Listas\",\n      import: \"Importar\",\n    },\n    dialog: {\n      name: \"Nombre\",\n      number: \"Número\",\n      whatsapp: \"Whatsapp\",\n      email: \"Correo electrónico\",\n      okEdit: \"Editar\",\n      okAdd: \"Agregar\",\n      add: \"Agregar\",\n      edit: \"Editar\",\n      cancel: \"Cancelar\",\n    },\n    table: {\n      name: \"Nombre\",\n      number: \"Número\",\n      whatsapp: \"Whatsapp\",\n      email: \"Correo electrónico\",\n      actions: \"Acciones\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n      importMessage: \"¿Desea importar los contactos de esta hoja de cálculo?\",\n      importTitlte: \"Importar\",\n    },\n    toasts: {\n      deleted: \"Registro eliminado\",\n    },\n  },\n  campaigns: {\n    title: \"Campañas\",\n    searchPlaceholder: \"Búsqueda\",\n    buttons: {\n      add: \"Nueva Campaña\",\n      contactLists: \"Listas de Contactos\",\n    },\n    table: {\n      name: \"Nombre\",\n      whatsapp: \"Conexión\",\n      contactList: \"Lista de Contactos\",\n      status: \"Estado\",\n      scheduledAt: \"Programada\",\n      completedAt: \"Completada\",\n      confirmation: \"Confirmación\",\n      actions: \"Acciones\",\n    },\n    dialog: {\n      new: \"Nueva Campaña\",\n      update: \"Editar Campaña\",\n      readonly: \"Solo Lectura\",\n      form: {\n        name: \"Nombre\",\n        message1: \"Mensaje 1\",\n        message2: \"Mensaje 2\",\n        message3: \"Mensaje 3\",\n        message4: \"Mensaje 4\",\n        message5: \"Mensaje 5\",\n        confirmationMessage1: \"Mensaje de Confirmación 1\",\n        confirmationMessage2: \"Mensaje de Confirmación 2\",\n        confirmationMessage3: \"Mensaje de Confirmación 3\",\n        confirmationMessage4: \"Mensaje de Confirmación 4\",\n        confirmationMessage5: \"Mensaje de Confirmación 5\",\n        messagePlaceholder: \"Contenido del mensaje\",\n        whatsapp: \"Conexión\",\n        status: \"Estado\",\n        scheduledAt: \"Programada\",\n        confirmation: \"Confirmación\",\n        contactList: \"Lista de Contacto\",\n        tagList: \"Lista de Etiquetas\",\n        fileList: \"Lista de Archivos\"\n      },\n      buttons: {\n        add: \"Agregar\",\n        edit: \"Actualizar\",\n        okadd: \"Ok\",\n        cancel: \"Cancelar\",\n        restart: \"Reiniciar Campañas\",\n        close: \"Cerrar\",\n        attach: \"Adjuntar Archivo\",\n      },\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n    },\n    toasts: {\n      success: \"Operación realizada correctamente\",\n      cancel: \"Campaña cancelada\",\n      restart: \"Campañas reiniciadas\",\n      deleted: \"Registro eliminado\",\n    },\n  },\n  announcements: {\n    active: 'Activo',\n    inactive: 'Inactivo',\n    title: \"Informativos\",\n    searchPlaceholder: \"Búsqueda\",\n    buttons: {\n      add: \"Nuevo Informativo\",\n      contactLists: \"Listas de Informativos\",\n    },\n    table: {\n      priority: \"Prioridad\",\n      title: \"Título\",\n      text: \"Texto\",\n      mediaName: \"Archivo\",\n      status: \"Estado\",\n      actions: \"Acciones\",\n    },\n    dialog: {\n      edit: \"Editar Informativo\",\n      add: \"Nuevo Informativo\",\n      update: \"Editar Informativo\",\n      readonly: \"Solo Lectura\",\n      form: {\n        priority: \"Prioridad\",\n        title: \"Título\",\n        text: \"Texto\",\n        mediaPath: \"Archivo\",\n        status: \"Estado\",\n      },\n      buttons: {\n        add: \"Agregar\",\n        edit: \"Actualizar\",\n        okadd: \"Ok\",\n        cancel: \"Cancelar\",\n        close: \"Cerrar\",\n        attach: \"Adjuntar Archivo\",\n      },\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n    },\n    toasts: {\n      success: \"Operación realizada correctamente\",\n      deleted: \"Registro eliminado\",\n    },\n  },\n  campaignsConfig: {\n    title: \"Configuraciones de Campañas\",\n  },\n  queues: {\n    title: \"Colas y Chatbot\",\n    table: {\n      id:\"ID\",\n      name: \"Nombre\",\n      color: \"Color\",\n      greeting: \"Mensaje de bienvenida\",\n      actions: \"Acciones\",\n      orderQueue: \"Orden de la cola (bot)\",\n    },\n    buttons: {\n      add: \"Agregar cola\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage:\n        \"¿Estás seguro? ¡Esta acción no se puede deshacer! Los tickets de esta cola seguirán existiendo pero ya no tendrán ninguna cola asignada.\",\n    },\n  },\n  queueSelect: {\n    inputLabel: \"Colas\",\n  },\n  users: {\n    title: \"Usuarios\",\n    table: {\n\t  id: \"ID\",\n      name: \"Nombre\",\n      email: \"Email\",\n      profile: \"Perfil\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Agregar usuario\",\n    },\n    toasts: {\n      deleted: \"Usuario eliminado correctamente.\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage:\n        \"Todos los datos del usuario se perderán. Los tickets abiertos de este usuario se moverán a la cola.\",\n    },\n  },\n  helps: {\n    title: \"Centro de Ayuda\",\n  },\n  schedules: {\n    title: \"Agendamientos\",\n    confirmationModal: {\n      deleteTitle: \"¿Estás seguro que quieres eliminar este Agendamiento?\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n    },\n    table: {\n      contact: \"Contacto\",\n      body: \"Mensaje\",\n      sendAt: \"Fecha de Agendamiento\",\n      sentAt: \"Fecha de Envío\",\n      status: \"Estado\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Nuevo Agendamiento\",\n    },\n    toasts: {\n      deleted: \"Agendamiento eliminado correctamente.\",\n    },\n  },\n  tags: {\n    title: \"Etiquetas\",\n    confirmationModal: {\n      deleteTitle: \"¿Estás seguro que quieres eliminar esta Etiqueta?\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n\t  deleteAllMessage: \"¿Estás seguro que quieres eliminar todas las Etiquetas?\",\n\t  deleteAllTitle: \"Eliminar Todas\",\n    },\n    table: {\n      name: \"Nombre\",\n      color: \"Color\",\n      tickets: \"Tickets Etiquetados\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Nueva Etiqueta\",\n\t  deleteAll: \"Eliminar Todas\",\n    },\n    toasts: {\n\t  deletedAll: \"¡Todas las Etiquetas se han eliminado correctamente!\",\n      deleted: \"Etiqueta eliminada correctamente.\",\n    },\n  },\n  settings: {\n    success: \"Configuraciones guardadas correctamente.\",\n    title: \"Configuraciones\",\n    settings: {\n      userCreation: {\n        name: \"Creación de usuario\",\n        options: {\n          enabled: \"Habilitado\",\n          disabled: \"Deshabilitado\",\n        },\n      },\n    },\n  },\n  messagesList: {\n    header: {\n      assignedTo: \"Asignado a:\",\n      buttons: {\n        return: \"Volver\",\n        resolve: \"Resolver\",\n        reopen: \"Reabrir\",\n        accept: \"Aceptar\",\n      },\n    },\n  },\n  messagesInput: {\n    placeholderOpen: \"Escribe un mensaje\",\n    placeholderClosed:\n      \"Reabra o acepte este ticket para enviar un mensaje.\",\n    signMessage: \"Firmar\",\n  },\n  contactDrawer: {\n    header: \"Datos del contacto\",\n    buttons: {\n      edit: \"Editar contacto\",\n    },\n    extraInfo: \"Información adicional\",\n  },\n  fileModal: {\n    title: {\n      add: \"Agregar lista de archivos\",\n      edit: \"Editar lista de archivos\",\n    },\n    buttons: {\n      okAdd: \"Guardar\",\n      okEdit: \"Editar\",\n      cancel: \"Cancelar\",\n      fileOptions: \"Agregar archivo\",\n    },\n    form: {\n      name: \"Nombre de la lista de archivos\",\n      message: \"Detalles de la lista\",\n      fileOptions: \"Lista de archivos\",\n      extraName: \"Mensaje para enviar con archivo\",\n      extraValue: \"Valor de la opción\",\n    },\n    success: \"Lista de archivos guardada correctamente!\",\n  },\n  ticketOptionsMenu: {\n    schedule: \"Programación\",\n    delete: \"Eliminar\",\n    transfer: \"Transferir\",\n    registerAppointment: \"Observaciones del Contacto\",\n    appointmentsModal: {\n      title: \"Observaciones del Contacto\",\n      textarea: \"Observación\",\n      placeholder: \"Inserta aquí la información que deseas registrar\",\n    },\n    confirmationModal: {\n      title: \"Eliminar el ticket\",\n\t  titleFrom: \"del contacto \",\n      message:\n        \"¡Atención! Todos los mensajes relacionados con el ticket se perderán.\",\n    },\n    buttons: {\n      delete: \"Eliminar\",\n      cancel: \"Cancelar\",\n    },\n  },\n  confirmationModal: {\n    buttons: {\n      confirm: \"Ok\",\n      cancel: \"Cancelar\",\n    },\n  },\n  messageOptionsMenu: {\n    delete: \"Eliminar\",\n    reply: \"Responder\",\n    confirmationModal: {\n      title: \"¿Eliminar mensaje?\",\n      message: \"Esta acción no se puede deshacer.\",\n    },\n  },\n  backendErrors: {\n    ERR_NO_OTHER_WHATSAPP: \"Debe haber al menos un WhatsApp predeterminado.\",\n    ERR_NO_DEF_WAPP_FOUND:\n      \"No se encontró ningún WhatsApp predeterminado. Comprueba la página de conexiones.\",\n    ERR_WAPP_NOT_INITIALIZED:\n      \"Esta sesión de WhatsApp no se ha inicializado. Comprueba la página de conexiones.\",\n    ERR_WAPP_CHECK_CONTACT:\n      \"No se pudo verificar el contacto de WhatsApp. Comprueba la página de conexiones\",\n    ERR_WAPP_INVALID_CONTACT: \"Este no es un número de WhatsApp válido.\",\n    ERR_WAPP_DOWNLOAD_MEDIA:\n      \"No se pudo descargar medios de WhatsApp. Comprueba la página de conexiones.\",\n    ERR_INVALID_CREDENTIALS:\n      \"Error de autenticación. Por favor, inténtalo de nuevo.\",\n    ERR_SENDING_WAPP_MSG:\n      \"Error al enviar mensaje de WhatsApp. Comprueba la página de conexiones.\",\n    ERR_DELETE_WAPP_MSG: \"No se pudo eliminar el mensaje de WhatsApp.\",\n    ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n    ERR_SESSION_EXPIRED: \"Sesión expirada. Por favor, inicia sesión.\",\n    ERR_USER_CREATION_DISABLED:\n      \"La creación de usuarios ha sido deshabilitada por el administrador.\",\n    ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n    ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\n    ERR_NO_SETTING_FOUND: \"No se encontró ninguna configuración con esta ID.\",\n    ERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con esta ID.\",\n    ERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con esta ID.\",\n    ERR_NO_USER_FOUND: \"No se encontró ningún usuario con esta ID.\",\n    ERR_NO_WAPP_FOUND: \"No se encontró ningún WhatsApp con esta ID.\",\n    ERR_CREATING_MESSAGE: \"Error al crear mensaje en la base de datos.\",\n    ERR_CREATING_TICKET: \"Error al crear ticket en la base de datos.\",\n    ERR_FETCH_WAPP_MSG:\n      \"Error al obtener mensaje de WhatsApp, puede que sea muy antiguo.\",\n    ERR_QUEUE_COLOR_ALREADY_EXISTS:\n      \"Este color ya está en uso, elige otro.\",\n    ERR_WAPP_GREETING_REQUIRED:\n      \"El saludo es obligatorio cuando hay más de una cola.\",\n      },\n    },\n  },\n },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"pt\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\nimport { isString } from 'lodash';\n\nconst toastError = err => {\n    const errorMsg = err.response?.data?.error;\n    if (errorMsg) {\n        if (i18n.exists(`backendErrors.${errorMsg}`)) {\n            console.error(`Error: ${i18n.t(`backendErrors.${errorMsg}`)}`);\n            // Optionally log the error to an external service here\n            /*\n            toast.error(i18n.t(`backendErrors.${errorMsg}`), {\n                toastId: errorMsg,\n                autoClose: 2000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: false,\n                draggable: true,\n                progress: undefined,\n                theme: \"light\",\n            });\n            */\n            return;\n        } else {\n            console.error(`Error: ${errorMsg}`);\n            // Optionally log the error to an external service here\n            /*\n            toast.error(errorMsg, {\n                toastId: errorMsg,\n                autoClose: 2000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: false,\n                draggable: true,\n                progress: undefined,\n                theme: \"light\",\n            });\n            */\n            return;\n        }\n    } if (isString(err)) {\n        console.error(`Error: ${err}`);\n        // Optionally log the error to an external service here\n        /*\n        toast.error(err);\n        */\n        return;\n    } else {\n        console.error(\"An error occurred!\");\n        // Optionally log the error to an external service here\n        /*\n        toast.error(\"An error occurred!\");\n        */\n        return;\n    }\n};\n\nexport default toastError;\n","import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport const openApi = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\n});\n\nexport default api;\n","import { useState, useEffect, useReducer, useContext } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_WHATSAPPS\") {\n    const whatsApps = action.payload;\n\n    return [...whatsApps];\n  }\n\n  if (action.type === \"UPDATE_WHATSAPPS\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex] = whatsApp;\n      return [...state];\n    } else {\n      return [whatsApp, ...state];\n    }\n  }\n\n  if (action.type === \"UPDATE_SESSION\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex].status = whatsApp.status;\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\n      state[whatsAppIndex].retries = whatsApp.retries;\n      return [...state];\n    } else {\n      return [...state];\n    }\n  }\n\n  if (action.type === \"DELETE_WHATSAPPS\") {\n    const whatsAppId = action.payload;\n\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\n    if (whatsAppIndex !== -1) {\n      state.splice(whatsAppIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useWhatsApps = () => {\n  const [whatsApps, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(true);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/?session=0\");\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n        setLoading(false);\n      } catch (err) {\n        setLoading(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  return { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport moment from \"moment\";\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n        setIsAuth(true);\n      }\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    async (error) => {\n      const originalRequest = error.config;\n      if (error?.response?.status === 403 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        const { data } = await api.post(\"/auth/refresh_token\");\n        if (data) {\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        }\n        return api(originalRequest);\n      }\n      if (error?.response?.status === 401) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"companyId\");\n        api.defaults.headers.Authorization = undefined;\n        setIsAuth(false);\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const { data } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    if (companyId) {\n   \n      const socket = socketManager.getSocket(companyId);\n\n      socket.on(`company-${companyId}-user`, (data) => {\n        if (data.action === \"update\" && data.user.id === user.id) {\n          setUser(data.user);\n        }\n      });\n    \n    \n    return () => {\n      socket.disconnect();\n    };\n  }\n  }, [socketManager, user]);\n\n  const handleLogin = async (userData) => {\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/auth/login\", userData);\n      const {\n        user: { companyId, id, company },\n      } = data;\n\n      if (has(company, \"settings\") && isArray(company.settings)) {\n        const setting = company.settings.find(\n          (s) => s.key === \"campaignsEnabled\"\n        );\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n\n      moment.locale('pt-br');\n      const dueDate = data.user.company.dueDate;\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\n\n      var diff = moment(dueDate).diff(moment(moment()).format());\n\n      var before = moment(moment().format()).isBefore(dueDate);\n      var dias = moment.duration(diff).asDays();\n\n      if (before === true) {\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\n        localStorage.setItem(\"companyId\", companyId);\n        localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"companyDueDate\", vencimento);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setUser(data.user);\n        setIsAuth(true);\n        toast.success(i18n.t(\"auth.toasts.success\"));\n        if (Math.round(dias) < 5) {\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\n        }\n        history.push(\"/tickets\");\n        setLoading(false);\n      } else {\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\nEntre em contato com o Suporte para mais informações! `);\n        setLoading(false);\n      }\n\n      //quebra linha \n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setLoading(true);\n\n    try {\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"cshow\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const getCurrentUserInfo = async () => {\n    try {\n      const { data } = await api.get(\"/auth/me\");\n      return data;\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo,\n  };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"dashboard:view\",\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t\t\"connections-page:actionButtons\",\n\t\t\t\"connections-page:addConnection\",\n\t\t\t\"connections-page:editOrDeleteConnection\"\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '2rem'\n  },\n  inputContainer: {\n    display: 'flex',\n    width: '100%',\n    marginBottom: '1rem'\n  },\n  input: {\n    flexGrow: 1,\n    marginRight: '1rem'\n  },\n  listContainer: {\n    width: '100%',\n    height: '100%',\n    marginTop: '1rem',\n    backgroundColor: '#f5f5f5',\n    borderRadius: '5px',\n  },\n  list: {\n    marginBottom: '5px'\n  }\n});\n\nconst ToDoList = () => {\n  const classes = useStyles();\n\n  const [task, setTask] = useState('');\n  const [tasks, setTasks] = useState([]);\n  const [editIndex, setEditIndex] = useState(-1);\n\n  useEffect(() => {\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      setTasks(JSON.parse(savedTasks));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  }, [tasks]);\n\n  const handleTaskChange = (event) => {\n    setTask(event.target.value);\n  };\n\n  const handleAddTask = () => {\n    if (!task.trim()) {\n      // Impede que o usuário crie uma tarefa sem texto\n      return;\n    }\n\n    const now = new Date();\n    if (editIndex >= 0) {\n      // Editar tarefa existente\n      const newTasks = [...tasks];\n      newTasks[editIndex] = {text: task, updatedAt: now, createdAt: newTasks[editIndex].createdAt};\n      setTasks(newTasks);\n      setTask('');\n      setEditIndex(-1);\n    } else {\n      // Adicionar nova tarefa\n      setTasks([...tasks, {text: task, createdAt: now, updatedAt: now}]);\n      setTask('');\n    }\n  };\n\n  const handleEditTask = (index) => {\n    setTask(tasks[index].text);\n    setEditIndex(index);\n  };\n\n  const handleDeleteTask = (index) => {\n    const newTasks = [...tasks];\n    newTasks.splice(index, 1);\n    setTasks(newTasks);\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.inputContainer}>\n        <TextField\n          className={classes.input}\n          label=\"Nova tarefa\"\n          value={task}\n          onChange={handleTaskChange}\n          variant=\"outlined\"\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\n        </Button>\n      </div>\n      <div className={classes.listContainer}>\n        <List>\n          {tasks.map((task, index) => (\n            <ListItem key={index} className={classes.list}>\n              <ListItemText primary={task.text} secondary={task.updatedAt.toLocaleString()} />\n              <ListItemSecondaryAction>\n                <IconButton onClick={() => handleEditTask(index)}>\n                  <EditIcon />\n                </IconButton>\n                <IconButton onClick={() => handleDeleteTask(index)}>\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    </div>\n  );\n};\n\n\nexport default ToDoList;\n","import api, { openApi } from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const getPlanList = async (params) => {\n        const { data } = await openApi.request({\n            url: '/plans/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/plans/all',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const finder = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/plans',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/plans/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const getPlanCompany = async (params, id) => {\n        const { data } = await api.request({\n            url: `/companies/listPlan/${id}`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        getPlanList,\n        list,\n        save,\n        update,\n        finder,\n        remove,\n        getPlanCompany\n    }\n}\n\nexport default usePlans;","import api from \"../../services/api\";\n\nconst useVersion = () => {\n\n    const getVersion = async () => {\n        const { data } = await api.request({\n            url: '/version',\n            method: 'GET',\n        });\n        return data;\n    }\n\n    return {\n        getVersion\n    }\n}\n\nexport default useVersion;\n\n\n\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge, Collapse, List } from \"@material-ui/core\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport ListIcon from \"@material-ui/icons/ListAlt\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport LocalAtmIcon from '@material-ui/icons/LocalAtm';\nimport RotateRight from \"@material-ui/icons/RotateRight\";\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport LoyaltyRoundedIcon from '@material-ui/icons/LoyaltyRounded';\nimport { Can } from \"../components/Can\";\nimport { SocketContext } from \"../context/Socket/SocketContext\";\nimport { isArray } from \"lodash\";\nimport TableChartIcon from '@material-ui/icons/TableChart';\nimport api from \"../services/api\";\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport ToDoList from \"../pages/ToDoList/\";\nimport toastError from \"../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AllInclusive, AttachFile, BlurCircular, DeviceHubOutlined, Schedule } from '@material-ui/icons';\nimport usePlans from \"../hooks/usePlans\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useVersion from \"../hooks/useVersion\";\n\nconst useStyles = makeStyles((theme) => ({\n  ListSubheader: {\n    height: 26,\n    marginTop: \"-15px\",\n    marginBottom: \"-10px\",\n  },\n}));\n\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button dense component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nconst MainListItems = (props) => {\n  const classes = useStyles();\n  const { drawerClose, collapsed } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user, handleLogout } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [showKanban, setShowKanban] = useState(false);\n  const [showOpenAi, setShowOpenAi] = useState(false);\n  const [showIntegrations, setShowIntegrations] = useState(false); const history = useHistory();\n  const [showSchedules, setShowSchedules] = useState(false);\n  const [showInternalChat, setShowInternalChat] = useState(false);\n  const [showExternalApi, setShowExternalApi] = useState(false);\n\n\n  const [invisible, setInvisible] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const { getPlanCompany } = usePlans();\n  \n  const [version, setVersion] = useState(false);\n  \n  \n  const { getVersion } = useVersion();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    async function fetchVersion() {\n      const _version = await getVersion();\n      setVersion(_version.version);\n    }\n    fetchVersion();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n \n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n\n      setShowCampaigns(planConfigs.plan.useCampaigns);\n      setShowKanban(planConfigs.plan.useKanban);\n      setShowOpenAi(planConfigs.plan.useOpenAi);\n      setShowIntegrations(planConfigs.plan.useIntegrations);\n      setShowSchedules(planConfigs.plan.useSchedules);\n      setShowInternalChat(planConfigs.plan.useInternalChat);\n      setShowExternalApi(planConfigs.plan.useExternalApi);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"cshow\")) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleClickLogout = () => {\n    //handleCloseMenu();\n    handleLogout();\n  };\n\n  return (\n    <div onClick={drawerClose}>\n      <Can\n        role={user.profile}\n        perform=\"dashboard:view\"\n        yes={() => (\n          <ListItemLink\n            to=\"/\"\n            primary=\"Dashboard\"\n            icon={<DashboardOutlinedIcon />}\n          />\n        )}\n      />\n\n      <ListItemLink\n        to=\"/tickets\"\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n        icon={<WhatsAppIcon />}\n      />\n\t  \n\t{showKanban && (  \n\t  <ListItemLink\n        to=\"/kanban\"\n        primary={i18n.t(\"Kanban\")}\n        icon={<TableChartIcon />}\n      />\n\t  )}\n\n\n      <ListItemLink\n        to=\"/quick-messages\"\n        primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\n        icon={<FlashOnIcon />}\n      />\n\t  \n\t  <ListItemLink\n        to=\"/todolist\"\n        primary={i18n.t(\"Tarefas\")}\n        icon={<BorderColorIcon />}\n      />\n\n      <ListItemLink\n        to=\"/contacts\"\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n        icon={<ContactPhoneOutlinedIcon />}\n      />\n\n      <ListItemLink\n        to=\"/schedules\"\n        primary={i18n.t(\"mainDrawer.listItems.schedules\")}\n        icon={<EventIcon />}\n      />\n\n      <ListItemLink\n        to=\"/tags\"\n        primary={i18n.t(\"mainDrawer.listItems.tags\")}\n        icon={<LocalOfferIcon />}\n      />\n\n      <ListItemLink\n        to=\"/chats\"\n        primary={i18n.t(\"mainDrawer.listItems.chats\")}\n        icon={\n          <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n            <ForumIcon />\n          </Badge>\n        }\n      />\n\n      <ListItemLink\n        to=\"/helps\"\n        primary={i18n.t(\"mainDrawer.listItems.helps\")}\n        icon={<HelpOutlineIcon />}\n      />\n\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n\t\t\t\n            {showCampaigns && (\n              <>\n                <ListItem\n                  button\n                  onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\n                >\n                  <ListItemIcon>\n                    <EventAvailableIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={i18n.t(\"mainDrawer.listItems.campaigns\")}\n                  />\n                  {openCampaignSubmenu ? (\n                    <ExpandLessIcon />\n                  ) : (\n                    <ExpandMoreIcon />\n                  )}\n                </ListItem>\n                <Collapse\n                  style={{ paddingLeft: 15 }}\n                  in={openCampaignSubmenu}\n                  timeout=\"auto\"\n                  unmountOnExit\n                >\n                  <List component=\"div\" disablePadding>\n                    <ListItem onClick={() => history.push(\"/campaigns\")} button>\n                      <ListItemIcon>\n                        <ListIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listagem\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/contact-lists\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <PeopleIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listas de Contatos\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/campaigns-config\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <SettingsOutlinedIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Configurações\" />\n                    </ListItem>\n                  </List>\n                </Collapse>\n              </>\n            )}\n            {user.super && (\n              <ListItemLink\n                to=\"/announcements\"\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\n                icon={<AnnouncementIcon />}\n              />\n            )}\n            {showOpenAi && (\n              <ListItemLink\n                to=\"/prompts\"\n                primary={i18n.t(\"mainDrawer.listItems.prompts\")}\n                icon={<AllInclusive />}\n              />\n            )}\n\n            {showIntegrations && (\n              <ListItemLink\n                to=\"/queue-integration\"\n                primary={i18n.t(\"mainDrawer.listItems.queueIntegration\")}\n                icon={<DeviceHubOutlined />}\n              />\n            )}\n            <ListItemLink\n              to=\"/connections\"\n              primary={i18n.t(\"mainDrawer.listItems.connections\")}\n              icon={\n                <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n                  <SyncAltIcon />\n                </Badge>\n              }\n            />\n            <ListItemLink\n              to=\"/files\"\n              primary={i18n.t(\"mainDrawer.listItems.files\")}\n              icon={<AttachFile />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            {showExternalApi && (\n              <>\n                <ListItemLink\n                  to=\"/messages-api\"\n                  primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\n                  icon={<CodeRoundedIcon />}\n                />\n              </>\n            )}\n            <ListItemLink\n              to=\"/financeiro\"\n              primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\n              icon={<LocalAtmIcon />}\n            />\n\n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n\t\t\t\n\t\t\t\n            {!collapsed && <React.Fragment>\n              <Divider />\n              {/* \n              // IMAGEM NO MENU\n              <Hidden only={['sm', 'xs']}>\n                <img style={{ width: \"100%\", padding: \"10px\" }} src={logo} alt=\"image\" />            \n              </Hidden> \n              */}\n              <Typography style={{ fontSize: \"12px\", padding: \"10px\", textAlign: \"right\", fontWeight: \"bold\" }}>\n                {`6.0.0`}\n\n              </Typography>\n            </React.Fragment>\n            }\n\t\t\t\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;\n","import React, { useState, useEffect, createContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TicketsContext = createContext();\n\nconst TicketsContextProvider = ({ children }) => {\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\n    const history = useHistory();\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            history.push(`/tickets/${currentTicket.uuid}`);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentTicket])\n\n\treturn (\n\t\t<TicketsContext.Provider\n\t\t\tvalue={{ currentTicket, setCurrentTicket }}\n\t\t>\n\t\t\t{children}\n\t\t</TicketsContext.Provider>\n\t);\n};\n\nexport { TicketsContext, TicketsContextProvider };\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\n\tconst handleDeleteMessage = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst hanldeReplyMessage = () => {\n\t\tsetReplyingMessage(message);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteMessage}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t</>\n\t);\n};\n\nexport default MessageOptionsMenu;\n","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport { Button, Divider, Typography} from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n    useEffect(() => {}, [image, link, description]);\n\n    const handleLocation = async() => {\n        try {\n            window.open(link);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect, useReducer, useRef, useContext } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\nimport LocationPreview from \"../LocationPreview\";\n\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\"; //DARK MODE PLW DESIGN//\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    width: \"100%\",\n    minWidth: 300,\n    minHeight: 200,\n  },\n\n  messagesList: {\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n  \n  textContentItemEdited: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 120px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticket, ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        if (ticketId === undefined) return;\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(\"ready\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      if (data.action === \"create\" && data.message.ticketId === currentTicketId.current) {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\" && data.message.ticketId === currentTicketId.current) {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket, socketManager]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n    if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\n      let locationParts = message.body.split('|')\n      let imageLocation = locationParts[0]\n      let linkLocation = locationParts[1]\n\n      let descriptionLocation = null\n\n      if (locationParts.length > 2)\n        descriptionLocation = message.body.split('|')[2]\n\n      return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n    }\n    /* else if (message.mediaType === \"vcard\") {\n      let array = message.body.split(\"\\n\");\n      let obj = [];\n      let contact = \"\";\n      for (let index = 0; index < array.length; index++) {\n        const v = array[index];\n        let values = v.split(\":\");\n        for (let ind = 0; ind < values.length; ind++) {\n          if (values[ind].indexOf(\"+\") !== -1) {\n            obj.push({ number: values[ind] });\n          }\n          if (values[ind].indexOf(\"FN\") !== -1) {\n            contact = values[ind + 1];\n          }\n        }\n      }\n      return <VcardPreview contact={contact} numbers={obj[0].number} />\n    } */\n    /*else if (message.mediaType === \"multi_vcard\") {\n      console.log(\"multi_vcard\")\n      console.log(message)\n    \t\n      if(message.body !== null && message.body !== \"\") {\n        let newBody = JSON.parse(message.body)\n        return (\n          <>\n            {\n            newBody.map(v => (\n              <VcardPreview contact={v.name} numbers={v.number} />\n            ))\n            }\n          </>\n        )\n      } else return (<></>)\n    }*/\n    else if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    } else if (message.mediaType === \"audio\") {\n      return (\n        <audio controls>\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n        </audio>\n      );\n    } else if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 1) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 4 || message.ack === 5) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderNumberTicket = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n\n      let messageTicket = message.ticketId;\n      let connectionName = message.ticket?.whatsapp?.name;\n      let previousMessageTicket = messagesList[index - 1].ticketId;\n\n      if (messageTicket !== previousMessageTicket) {\n        return (\n          <center>\n            <div className={classes.ticketNunberClosed}>\n              Conversa encerrada: {format(parseISO(messagesList[index - 1].createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n\n            <div className={classes.ticketNunberOpen}>\n              Conversa iniciada: {format(parseISO(message.createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n          </center>\n        );\n      }\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n\n          {message.quotedMsg.mediaType === \"audio\"\n            && (\n              <div className={classes.downloadMedia}>\n                <audio controls>\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source>\n                </audio>\n              </div>\n            )\n          }\n          {message.quotedMsg.mediaType === \"video\"\n            && (\n              <video\n                className={classes.messageMedia}\n                src={message.quotedMsg.mediaUrl}\n                controls\n              />\n            )\n          }\n          {message.quotedMsg.mediaType === \"application\"\n            && (\n              <div className={classes.downloadMedia}>\n                <Button\n                  startIcon={<GetApp />}\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  target=\"_blank\"\n                  href={message.quotedMsg.mediaUrl}\n                >\n                  Download\n                </Button>\n              </div>\n            )\n          }\n\n          {message.quotedMsg.mediaType === \"image\"\n            && (\n              <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />)\n            || message.quotedMsg?.body}\n\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n\n        if (message.mediaType === \"call_log\") {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageCenter}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                <div>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                  </svg> <span>Chamada de voz/vídeo perdida às {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageLeft}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n\n                {/* aviso de mensagem apagado pelo contato */}\n                {message.isDeleted && (\n                  <div>\n                    <span className={\"message-deleted\"}\n                    >Essa mensagem foi apagada pelo contato &nbsp;\n                      <Block\n                        color=\"error\"\n                        fontSize=\"small\"\n                        className={classes.deletedIcon}\n                      />\n                    </span>\n                  </div>\n                )}\n\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.mediaType === \"locationMessage\" ? null : message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n\t\t\t\t    {message.isEdited && <span>Editada </span>}\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageRight}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n\t\t\t\t\t[classes.textContentItemEdited]: message.isEdited,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n\t\t\t\t    {message.isEdited && <span>Editada </span>}\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Diga olá para seu novo contato!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexWrap: \"wrap\"\n\t\t}\n\t},\n}));\n\n\nconst TicketHeader = ({ loading, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<TicketHeaderSkeleton />\n\t\t\t) : (\n\t\t\t\t<Card square className={classes.ticketHeader}>\n\t\t\t\t\t{children}\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default TicketHeader;\n","import React, { useState, useEffect } from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\tconst { user } = ticket\n\tconst [userName, setUserName] = useState('')\n\tconst [contactName, setContactName] = useState('')\n\n\tuseEffect(() => {\n\t\tif (contact) {\n\t\t\tsetContactName(contact.name);\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tif (contact.name.length > 10) {\n\t\t\t\t\tconst truncadName = contact.name.substring(0, 10) + '...';\n\t\t\t\t\tsetContactName(truncadName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (user && contact) {\n\t\t\tsetUserName(`${i18n.t(\"messagesList.header.assignedTo\")} ${user.name}`);\n\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tsetUserName(`${user.name}`);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contactName} #${ticket.id}`}\n\t\t\tsubheader={ticket.user && `${userName}`}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessagesList from \"../MessagesList\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    let delayDebounceFn = null;\n    if (open) {\n      setLoading(true);\n      delayDebounceFn = setTimeout(() => {\n        const fetchTicket = async () => {\n          try {\n            const { data } = await api.get(\"/tickets/\" + ticketId);\n            const { queueId } = data;\n            const { queues, profile } = user;\n\n            const queueAllowed = queues.find((q) => q.id === queueId);\n            if (queueAllowed === undefined && profile !== \"admin\") {\n              toast.error(\"Acesso não permitido\");\n              history.push(\"/tickets\");\n              return;\n            }\n\n            setContact(data.contact);\n            setTicket(data);\n            setLoading(false);\n          } catch (err) {\n            setLoading(false);\n            toastError(err);\n          }\n        };\n        fetchTicket();\n      }, 500);\n    }\n    return () => {\n      if (delayDebounceFn !== null) {\n        clearTimeout(delayDebounceFn);\n      }\n    };\n  }, [ticketId, user, history, open]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    let socket = null;\n\n    if (open) {\n      const socket = socketManager.getSocket(companyId);\n      socket.on(\"ready\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n      socket.on(`company-${companyId}-ticket`, (data) => {\n        if (data.action === \"update\" && data.ticket.id === ticket.id) {\n          setTicket(data.ticket);\n        }\n\n        if (data.action === \"delete\" && data.ticketId === ticket.id) {\n          // toast.success(\"Ticket deleted sucessfully.\");\n          history.push(\"/tickets\");\n        }\n      });\n\n      socket.on(`company-${companyId}-contact`, (data) => {\n        if (data.action === \"update\") {\n          setContact((prevState) => {\n            if (prevState.id === data.contact?.id) {\n              return { ...prevState, ...data.contact };\n            }\n            return prevState;\n          });\n        }\n      });\n    }\n\n    return () => {\n      if (socket !== null) {\n        socket.disconnect();\n      }\n    };\n  }, [ticketId, ticket, history, open, socketManager]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <Box className={classes.root}>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n      </Box>\n    );\n  };\n\n  return (\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\n      <TicketHeader loading={loading}>{renderTicketInfo()}</TicketHeader>\n      <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","function getRGB(c) {\n  return parseInt(c, 16) || c\n}\n\nfunction getsRGB(c) {\n  return getRGB(c) / 255 <= 0.03928\n    ? getRGB(c) / 255 / 12.92\n    : Math.pow((getRGB(c) / 255 + 0.055) / 1.055, 2.4)\n}\n\nfunction getLuminance(hexColor) {\n  return (\n    0.2126 * getsRGB(hexColor.substr(1, 2)) +\n    0.7152 * getsRGB(hexColor.substr(3, 2)) +\n    0.0722 * getsRGB(hexColor.substr(-2))\n  )\n}\n\nfunction getContrast(f, b) {\n  const L1 = getLuminance(f)\n  const L2 = getLuminance(b)\n  return (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05)\n}\n\nfunction getTextColor(bgColor) {\n  const whiteContrast = getContrast(bgColor, '#ffffff')\n  const blackContrast = getContrast(bgColor, '#000000')\n\n  return whiteContrast > blackContrast ? '#ffffff' : '#000000'\n}\n\nconst contrastColor = (color) => {\n    return getTextColor(color);\n}\n\nexport default contrastColor;","import { makeStyles } from \"@material-ui/styles\";\nimport React from \"react\";\n\nconst useStyles = makeStyles(theme => ({\n    tag: {\n        padding: \"1px 5px\",\n        borderRadius: \"3px\",\n        fontSize: \"0.8em\",\n        fontWeight: \"bold\",\n        color: \"#FFF\",\n        marginRight: \"5px\",\n        whiteSpace: \"nowrap\"\n    }\n}));\n\nconst ContactTag = ({ tag }) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: \"2px\" }}>\n            {tag.name.toUpperCase()}\n        </div>\n    )\n}\n\nexport default ContactTag;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, grey, red, blue } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Box from \"@material-ui/core/Box\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport toastError from \"../../errors/toastError\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport RoomIcon from '@material-ui/icons/Room';\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport AndroidIcon from \"@material-ui/icons/Android\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport contrastColor from \"../../helpers/contrastColor\";\nimport ContactTag from \"../ContactTag\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n  queueTag: {\n    background: \"#FCFCFC\",\n    color: \"#000\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  newMessagesCount: {\n    position: \"absolute\",\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n    top: \"10px\",\n    left: \"20px\",\n    borderRadius: 0,\n  },\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginLeft: \"5px\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    top: -21\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: \"0%\",\n    marginLeft: \"5px\",\n  },\n\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    right: \"108px\",\n  },\n\n\n  acceptButton: {\n    position: \"absolute\",\n    left: \"50%\",\n  },\n\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n\n  ticketInfo: {\n    position: \"relative\",\n    top: -13\n  },\n  secondaryContentSecond: {\n    display: 'flex',\n    // marginTop: 5,\n    //marginLeft: \"5px\",\n    alignItems: \"flex-start\",\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    alignContent: \"flex-start\",\n  },\n  ticketInfo1: {\n    position: \"relative\",\n    top: 13,\n    right: 0\n  },\n  Radiusdot: {\n    \"& .MuiBadge-badge\": {\n      borderRadius: 2,\n      position: \"inherit\",\n      height: 16,\n      margin: 2,\n      padding: 3\n    },\n    \"& .MuiBadge-anchorOriginTopRightRectangle\": {\n      transform: \"scale(1) translate(0%, -40%)\",\n    },\n\n  }\n}));\n  {/*PLW DESIGN INSERIDO O dentro do const handleChangeTab*/}\n  const TicketListItemCustom = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [ticketUser, setTicketUser] = useState(null);\n  const [ticketQueueName, setTicketQueueName] = useState(null);\n  const [ticketQueueColor, setTicketQueueColor] = useState(null);\n  const [tag, setTag] = useState([]);\n  const [whatsAppName, setWhatsAppName] = useState(null);\n\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { setCurrentTicket } = useContext(TicketsContext);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  useEffect(() => {\n    if (ticket.userId && ticket.user) {\n      setTicketUser(ticket.user?.name?.toUpperCase());\n    }\n    setTicketQueueName(ticket.queue?.name?.toUpperCase());\n    setTicketQueueColor(ticket.queue?.color);\n\n    if (ticket.whatsappId && ticket.whatsapp) {\n      setWhatsAppName(ticket.whatsapp.name?.toUpperCase());\n    }\n\n    setTag(ticket?.tags);\n\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  {/*CÓDIGO NOVO SAUDAÇÃO*/}\n  const handleCloseTicket = async (id) => {\n    setTag(ticket?.tags);\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"closed\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id,\n        useIntegration: false,\n        promptId: null,\n        integrationId: null\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/`);\n  };\n\n  const handleReopenTicket = async (id) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"open\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n    const handleAcepptTicket = async (id) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${id}`, {\n                status: \"open\",\n                userId: user?.id,\n            });\n            \n            let settingIndex;\n\n            try {\n                const { data } = await api.get(\"/settings/\");\n                \n                settingIndex = data.filter((s) => s.key === \"sendGreetingAccepted\");\n                \n            } catch (err) {\n                toastError(err);\n                   \n            }\n            \n            if (settingIndex[0].value === \"enabled\" && !ticket.isGroup) {\n                handleSendMessage(ticket.id);\n                \n            }\n\n        } catch (err) {\n            setLoading(false);\n            \n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n\n        // handleChangeTab(null, \"tickets\");\n        // handleChangeTab(null, \"open\");\n        history.push(`/tickets/${ticket.uuid}`);\n    };\n\t\n\t    const handleSendMessage = async (id) => {\n        \n        const msg = `{{ms}} *{{name}}*, meu nome é *${user?.name}* e agora vou prosseguir com seu atendimento!`;\n        const message = {\n            read: 1,\n            fromMe: true,\n            mediaUrl: \"\",\n            body: `*Mensagem Automática:*\\n${msg.trim()}`,\n        };\n        try {\n            await api.post(`/messages/${id}`, message);\n        } catch (err) {\n            toastError(err);\n            \n        }\n    };\n\t{/*CÓDIGO NOVO SAUDAÇÃO*/}\n\n  const handleSelectTicket = (ticket) => {\n    const code = uuidv4();\n    const { id, uuid } = ticket;\n    setCurrentTicket({ id, uuid, code });\n  };\n\n\n  const renderTicketInfo = () => {\n    if (ticketUser) {\n\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n\n          {/* </span> */}\n        </>\n      );\n    } else {\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n        </>\n      );\n    }\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n      <TicketMessagesDialog\n        open={openTicketMessageDialog}\n\n        handleClose={() => setOpenTicketMessageDialog(false)}\n        ticketId={ticket.id}\n      ></TicketMessagesDialog>\n      <ListItem dense button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip arrow placement=\"right\" title={ticket.queue?.name?.toUpperCase() || \"SEM FILA\"} >\n          <span style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }} className={classes.ticketQueueColor}></span>\n        </Tooltip>\n        <ListItemAvatar>\n          {ticket.status !== \"pending\" ?\n            <Avatar\n              style={{\n                marginTop: \"-20px\",\n                marginLeft: \"-3px\",\n                width: \"55px\",\n                height: \"55px\",\n                borderRadius: \"10%\",\n              }}\n              src={ticket?.contact?.profilePicUrl}\n            />\n            :\n            <Avatar\n              style={{\n                marginTop: \"-30px\",\n                marginLeft: \"0px\",\n                width: \"50px\",\n                height: \"50px\",\n                borderRadius: \"10%\",\n              }}\n              src={ticket?.contact?.profilePicUrl}\n            />\n          }\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n\n          primary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {ticket.contact.name}\n                {profile === \"admin\" && (\n                  <Tooltip title=\"Espiar Conversa\">\n                    <VisibilityIcon\n                      onClick={() => setOpenTicketMessageDialog(true)}\n                      fontSize=\"small\"\n                      style={{\n                        color: blue[700],\n                        cursor: \"pointer\",\n                        marginLeft: 10,\n                        verticalAlign: \"middle\"\n                      }}\n                    />\n                  </Tooltip>\n                )}\n              </Typography>\n              <ListItemSecondaryAction>\n                <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\n              </ListItemSecondaryAction>\n            </span>\n\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              > {ticket.lastMessage.includes('data:image/png;base64') ? <MarkdownWrapper> Localização</MarkdownWrapper> : <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>}\n                <span className={classes.secondaryContentSecond} >\n                  {ticket?.whatsapp?.name ? <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name?.toUpperCase()}</Badge> : <br></br>}\n                  {ticketUser ? <Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticketUser}</Badge> : <br></br>}\n                  <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name?.toUpperCase() || \"SEM FILA\"}</Badge>\n                </span>\n                <span style={{ paddingTop: \"2px\" }} className={classes.secondaryContentSecond} >\n                  {tag?.map((tag) => {\n                    return (\n                      <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\n                    );\n                  })}\n                </span>\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n\n        />\n        <ListItemSecondaryAction>\n          {ticket.lastMessage && (\n            <>\n\n              <Typography\n                className={classes.lastMessageTime}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n\n                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                  <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                ) : (\n                  <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                )}\n              </Typography>\n\n              <br />\n\n            </>\n          )}\n\n        </ListItemSecondaryAction>\n        <span className={classes.secondaryContentSecond} >\n          {ticket.status === \"pending\" && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'green', color: 'white', padding: '0px', bottom: '17px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n\t\t\t  //PLW DESIGN INSERIDO O handleChangeTab\n              onClick={e => handleAcepptTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.accept\")}\n            </ButtonWithSpinner>\n\n          )}\n          {(ticket.status !== \"closed\") && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '0px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleCloseTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.closed\")}\n            </ButtonWithSpinner>\n\n          )}\n          {(ticket.status === \"closed\") && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '0px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleReopenTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.reopen\")}\n            </ButtonWithSpinner>\n\n          )}\n        </span>\n      </ListItem>\n\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItemCustom;","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n  searchParam,\n  tags,\n  users,\n  pageNumber,\n  status,\n  date,\n  updatedAt,\n  showAll,\n  queueIds,\n  withUnreadMessages,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        try {\n          const { data } = await api.get(\"/tickets\", {\n            params: {\n              searchParam,\n              pageNumber,\n              tags,\n              users,\n              status,\n              date,\n              updatedAt,\n              showAll,\n              queueIds,\n              withUnreadMessages,\n            },\n          });\n          setTickets(data.tickets);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n  ]);\n\n  return { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = (volume) => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [showPendingTickets, setShowPendingTickets] = useState(false);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\n\tconst [play] = useSound(alertSound, volume);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n  const socketManager = useContext(SocketContext);\n\n\tuseEffect(() => {\n\t\tconst fetchSettings = async () => {\n\t\t\ttry {\n\n\t\t\t\tif (user.allTicket === \"enable\") {\n\t\t\t\t\tsetShowPendingTickets(true);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t  \ttoastError(err);\n\t\t\t}\n\t\t}\n\t  \n\t\tfetchSettings();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tconst processNotifications = () => {\n\t\t\tif (showPendingTickets) {\n\t\t\t\tsetNotifications(tickets);\n\t\t\t} else {\n\t\t\t\tconst newNotifications = tickets.filter(ticket => ticket.status !== \"pending\");\n\n\t\t\t\tsetNotifications(newNotifications);\n\t\t\t}\n\t\t}\n\n\t\tprocessNotifications();\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n    const socket = socketManager.getSocket(user.companyId);\n\n\t\tsocket.on(\"ready\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(`company-${user.companyId}-ticket`, data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(`company-${user.companyId}-appMessage`, data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" && !data.message.fromMe && \n\t\t\t\t(data.ticket.status !== \"pending\" ) &&\n\t\t\t\t(!data.message.read || data.ticket.status === \"pending\") &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId) &&\n\t\t\t\t(user?.queues?.some(queue => (queue.id === data.ticket.queueId)) || !data.ticket.queueId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user, showPendingTickets, socketManager]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.urlPicture,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.uuid}`);\n\t\t\t// handleChangeTab(null, ticket.isGroup? \"group\" : \"open\");\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t\tstyle={{color:\"white\"}}\n\t\t\t>\n\t\t\t\t<Badge overlap=\"rectangular\" badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useState, useRef } from \"react\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\n\nimport { Grid, Slider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    tabContainer: {\n        padding: theme.spacing(2),\n    },\n    popoverPaper: {\n        width: \"100%\",\n        maxWidth: 350,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.down(\"sm\")]: {\n            maxWidth: 270,\n        },\n    },\n    noShadow: {\n        boxShadow: \"none !important\",\n    },\n    icons: {\n        color: \"#fff\",\n    },\n    customBadge: {\n        backgroundColor: \"#f44336\",\n        color: \"#fff\",\n    },\n}));\n\nconst NotificationsVolume = ({ volume, setVolume }) => {\n    const classes = useStyles();\n\n    const anchorEl = useRef();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const handleClick = () => {\n        setIsOpen((prevState) => !prevState);\n    };\n\n    const handleClickAway = () => {\n        setIsOpen(false);\n    };\n\n    const handleVolumeChange = (value) => {\n        setVolume(value);\n        localStorage.setItem(\"volume\", value);\n    };\n\n    return (\n        <>\n            <IconButton\n                className={classes.icons}\n                onClick={handleClick}\n                ref={anchorEl}\n                aria-label=\"Open Notifications\"\n                // color=\"inherit\"\n                // color=\"secondary\"\n            >\n                <VolumeUpIcon color=\"inherit\" />\n            </IconButton>\n            <Popover\n                disableScrollLock\n                open={isOpen}\n                anchorEl={anchorEl.current}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n                classes={{ paper: classes.popoverPaper }}\n                onClose={handleClickAway}\n            >\n                <List dense className={classes.tabContainer}>\n                    <Grid container spacing={2}>\n                        <Grid item>\n                            <VolumeDownIcon />\n                        </Grid>\n                        <Grid item xs>\n                            <Slider\n                                value={volume}\n                                aria-labelledby=\"continuous-slider\"\n                                step={0.1}\n                                min={0}\n                                max={1}\n                                onChange={(e, value) =>\n                                    handleVolumeChange(value)\n                                }\n                            />\n                        </Grid>\n                        <Grid item>\n                            <VolumeUpIcon />\n                        </Grid>\n                    </Grid>\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default NotificationsVolume;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange, multiple = true, title = i18n.t(\"queueSelect.inputLabel\") }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\n\t\tfetchQueues();\n\n\t}, []);\n\n\tconst fetchQueues = async () => {\n\t\ttry {\n\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\tsetQueues(data);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div >\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel shrink={selectedQueueIds ? true : false} >{title}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tlabel={title}\n\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\n\t\t\t\t\trenderValue={selected => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t\t{selected?.length > 0 && multiple ? (\n\t\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t) :\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={selected}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queues.find(q => q.id === selected)?.color }}\n\t\t\t\t\t\t\t\t\t\t\tlabel={queues.find(q => q.id === selected)?.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{!multiple && <MenuItem value={null}>Nenhum</MenuItem>}\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t\tallTicket: \"desabled\"\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds, allTicket: values.allTicket };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className={classes.divider}>\n\t\t\t\t\t\t\t\t\t<span className={classes.dividerText}>Liberações</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\tyes={() => (!loading &&\n\t\t\t\t\t\t\t\t\t\t<div className={classes.textField}>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"allTicket.form.viewTags\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"allTicket-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"allTicket-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allTicketEnabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"desabled\">{i18n.t(\"userModal.form.allTicketDesabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CssBaseline, IconButton } from \"@material-ui/core\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\n\nconst useStyles = makeStyles((theme) => ({\n    icons: {\n        color: \"#fff\",\n    },\n    switch: {\n        color: \"#fff\",\n    },\n    visible: {\n        display: \"none\",\n    },\n    btnHeader: {\n        color: \"#fff\",\n    },\n}));\n\nconst DarkMode = (props) => {\n    const classes = useStyles();\n\n    const [theme, setTheme] = useState(\"light\");\n\n    const themeToggle = () => {\n        theme === \"light\" ? setTheme(\"dark\") : setTheme(\"light\");\n    };\n\n    const handleClick = () => {\n        props.themeToggle();\n        themeToggle();\n    };\n\n    return (\n        <>\n            {theme === \"light\" ? (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness4Icon />\n                    </IconButton>\n                </>\n            ) : (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness7Icon />\n                    </IconButton>\n                </>\n            )}\n        </>\n    );\n};\n\nexport default DarkMode;\n","import React, { useEffect, useReducer, useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport Notifications from \"@material-ui/icons/Notifications\"\n\nimport {\n  Avatar,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Dialog,\n  Paper,\n  Typography,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  DialogContentText,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport moment from \"moment\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 3000,\n    maxWidth: 5000,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose()}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\n      <DialogContent>\n        {announcement.mediaPath && (\n          <div\n            style={{\n              border: \"1px solid #f1f1f1\",\n              margin: \"0 auto 20px\",\n              textAlign: \"center\",\n              width: \"400px\",\n              height: 300,\n              backgroundImage: `url(${getMediaPath(announcement.mediaPath)})`,\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"contain\",\n              backgroundPosition: \"center\",\n            }}\n          ></div>\n        )}\n        <DialogContentText id=\"alert-dialog-description\">\n          {announcement.text}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nexport default function AnnouncementsPopover() {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(false);\n  const [announcement, setAnnouncement] = useState({});\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n    \n    if (!socket) {\n      return () => {}; \n    }\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n        setInvisible(false);\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const borderPriority = (priority) => {\n    if (priority === 1) {\n      return \"4px solid #b81111\";\n    }\n    if (priority === 2) {\n      return \"4px solid orange\";\n    }\n    if (priority === 3) {\n      return \"4px solid grey\";\n    }\n  };\n\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\n  };\n\n  const handleShowAnnouncementDialog = (record) => {\n    setAnnouncement(record);\n    setShowAnnouncementDialog(true);\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <AnnouncementDialog\n        announcement={announcement}\n        open={showAnnouncementDialog}\n        handleClose={() => setShowAnnouncementDialog(false)}\n      />\n      <IconButton\n        variant=\"contained\"\n        aria-describedby={id}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge\n          color=\"secondary\"\n          variant=\"dot\"\n          invisible={invisible || announcements.length < 1}\n        >\n          <Notifications />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(announcements) &&\n              announcements.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    //background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    borderLeft: borderPriority(item.priority),\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => handleShowAnnouncementDialog(item)}\n                >\n                  {item.mediaPath && (\n                    <ListItemAvatar>\n                      <Avatar\n                        alt={item.mediaName}\n                        src={getMediaPath(item.mediaPath)}\n                      />\n                    </ListItemAvatar>\n                  )}\n                  <ListItemText\n                    primary={item.title}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {item.text}\n                        </Typography>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(announcements) && announcements.length === 0 && (\n              <ListItemText primary=\"Nenhum registro\" />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import moment from \"moment\";\n\nexport function useDate() {\n  function dateToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY\");\n    }\n    return strDate;\n  }\n\n  function datetimeToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\n    }\n    return strDate;\n  }\n\n  function dateToDatabase(strDate) {\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n    return strDate;\n  }\n\n  return {\n    dateToClient,\n    datetimeToClient,\n    dateToDatabase,\n  };\n}\n","import React, {\n  useContext,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport {\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport notifySound from \"../../assets/chat_notify.mp3\";\nimport useSound from \"use-sound\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nexport default function ChatPopover() {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(true);\n  const { datetimeToClient } = useDate();\n  const [play] = useSound(notifySound);\n  const soundAlertRef = useRef();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n    if (!socket) {\n      return () => {}; \n    }\n    \n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        const userIds = data.newMessage.chat.users.map(userObj => userObj.userId);\n\n        if (userIds.includes(user.id) && data.newMessage.senderId !== user.id) {\n          soundAlertRef.current();\n        }\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager, user.id]);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const goToMessages = (chat) => {\n    window.location.href = `/chats/${chat.uuid}`;\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <IconButton\n        aria-describedby={id}\n        variant=\"contained\"\n        color={invisible ? \"default\" : \"inherit\"}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n          <ForumIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(chats) &&\n              chats.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => goToMessages(item)}\n                  button\n                >\n                  <ListItemText\n                    primary={item.lastMessage}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {datetimeToClient(item.updatedAt)}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(chats) && chats.length === 0 && (\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport moment from \"moment\";\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport NotificationsVolume from \"../components/NotificationsVolume\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport DarkMode from \"../components/DarkMode\";\nimport { i18n } from \"../translate/i18n\";\nimport toastError from \"../errors/toastError\";\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\n\nimport logo from \"../assets/logo.png\";\nimport { SocketContext } from \"../context/Socket/SocketContext\";\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\n\nimport { useDate } from \"../hooks/useDate\";\n\nimport ColorModeContext from \"../layout/themeContext\";\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n    backgroundColor: theme.palette.fancyBackground,\n    '& .MuiButton-outlinedPrimary': {\n      color: theme.mode === 'light' ? '#FFF' : '#FFF',\n\t  //backgroundColor: theme.mode === 'light' ? '#682ee2' : '#682ee2',\n\tbackgroundColor: theme.mode === 'light' ? theme.palette.primary.main : '#1c1c1c',\n      //border: theme.mode === 'light' ? '1px solid rgba(0 124 102)' : '1px solid rgba(255, 255, 255, 0.5)',\n    },\n    '& .MuiTab-textColorPrimary.Mui-selected': {\n      color: theme.mode === 'light' ? 'Primary' : '#FFF',\n    }\n  },\n  avatar: {\n    width: \"100%\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n    color: theme.palette.dark.main,\n    background: theme.palette.barraSuperior,\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"48px\"\n    }\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    fontSize: 14,\n    color: \"white\",\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    },\n    ...theme.scrollbarStylesSoft\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    }\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  containerWithScroll: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  NotificationsPopOver: {\n    // color: theme.barraSuperior.secondary.main,\n  },\n  logo: {\n    width: \"80%\",\n    height: \"auto\",\n    maxWidth: 180,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"auto\",\n      height: \"80%\",\n      maxWidth: 180,\n    },\n    logo: theme.logo\n  },\n}));\n\nconst LoggedInLayout = ({ children, themeToggle }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  // const [dueDate, setDueDate] = useState(\"\");\n  const { user } = useContext(AuthContext);\n\n  const theme = useTheme();\n  const { colorMode } = useContext(ColorModeContext);\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\n\n  const { dateToClient } = useDate();\n\n\n  //################### CODIGOS DE TESTE #########################################\n  // useEffect(() => {\n  //   navigator.getBattery().then((battery) => {\n  //     console.log(`Battery Charging: ${battery.charging}`);\n  //     console.log(`Battery Level: ${battery.level * 100}%`);\n  //     console.log(`Charging Time: ${battery.chargingTime}`);\n  //     console.log(`Discharging Time: ${battery.dischargingTime}`);\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const geoLocation = navigator.geolocation\n\n  //   geoLocation.getCurrentPosition((position) => {\n  //     let lat = position.coords.latitude;\n  //     let long = position.coords.longitude;\n\n  //     console.log('latitude: ', lat)\n  //     console.log('longitude: ', long)\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const nucleos = window.navigator.hardwareConcurrency;\n\n  //   console.log('Nucleos: ', nucleos)\n  // }, []);\n\n  // useEffect(() => {\n  //   console.log('userAgent', navigator.userAgent)\n  //   if (\n  //     navigator.userAgent.match(/Android/i)\n  //     || navigator.userAgent.match(/webOS/i)\n  //     || navigator.userAgent.match(/iPhone/i)\n  //     || navigator.userAgent.match(/iPad/i)\n  //     || navigator.userAgent.match(/iPod/i)\n  //     || navigator.userAgent.match(/BlackBerry/i)\n  //     || navigator.userAgent.match(/Windows Phone/i)\n  //   ) {\n  //     console.log('é mobile ', true) //celular\n  //   }\n  //   else {\n  //     console.log('não é mobile: ', false) //nao é celular\n  //   }\n  // }, []);\n  //##############################################################################\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 1200) {\n      setDrawerOpen(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const userId = localStorage.getItem(\"userId\");\n\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-auth`, (data) => {\n      if (data.user.id === +userId) {\n        toastError(\"Sua conta foi acessada em outro computador.\");\n        setTimeout(() => {\n          localStorage.clear();\n          window.location.reload();\n        }, 1000);\n      }\n    });\n\n    socket.emit(\"userStatus\");\n    const interval = setInterval(() => {\n      socket.emit(\"userStatus\");\n    }, 1000 * 60 * 5);\n\n    return () => {\n      socket.disconnect();\n      clearInterval(interval);\n    };\n  }, [socketManager]);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleRefreshPage = () => {\n    window.location.reload(false);\n  }\n\n  const handleMenuItemClick = () => {\n    const { innerWidth: width } = window;\n    if (width <= 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const toggleColorMode = () => {\n    colorMode.toggleColorMode();\n  }\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <img src={logo} className={classes.logo} alt=\"logo\" />\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List className={classes.containerWithScroll}>\n          <MainListItems drawerClose={drawerClose} collapsed={!drawerOpen} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color=\"primary\"\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            variant=\"contained\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <Typography\n            component=\"h2\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\n            {greaterThenSm && user?.profile === \"admin\" && user?.company?.dueDate ? (\n              <>\n                Olá <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>! (Ativo até {dateToClient(user?.company?.dueDate)})\n              </>\n            ) : (\n              <>\n                Olá  <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>!\n              </>\n            )}\n          </Typography>\n\n          <IconButton edge=\"start\" onClick={toggleColorMode}>\n            {theme.mode === 'dark' ? <Brightness7Icon style={{ color: \"white\" }} /> : <Brightness4Icon style={{ color: \"white\" }} />}\n          </IconButton>\n\n          <NotificationsVolume\n            setVolume={setVolume}\n            volume={volume}\n          />\n\n          <IconButton\n            onClick={handleRefreshPage}\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\n            color=\"inherit\"\n          >\n            <CachedIcon style={{ color: \"white\" }} />\n          </IconButton>\n\n          {user.id && <NotificationsPopOver volume={volume} />}\n\n          <AnnouncementsPopover />\n\n          <ChatPopover />\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              variant=\"contained\"\n              style={{ color: \"white\" }}\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n              <MenuItem onClick={handleClickLogout}>\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\n              </MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\n\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(theme => ({\n\tcardAvatar: {\n\t\tfontSize: '55px',\n\t\tcolor: grey[500],\n\t\tbackgroundColor: '#ffffff',\n\t\twidth: theme.spacing(7),\n\t\theight: theme.spacing(7)\n\t},\n\tcardTitle: {\n\t\tfontSize: '18px',\n\t\tcolor: theme.palette.text.primary\n\t},\n\tcardSubtitle: {\n\t\tcolor: grey[600],\n\t\tfontSize: '14px'\n\t}\n}));\n\nexport default function CardCounter(props) {\n    const { icon, title, value, loading } = props\n\tconst classes = useStyles();\n    return ( !loading ? \n        <Card>\n            <CardHeader\n                avatar={\n                    <Avatar className={classes.cardAvatar}>\n                        {icon}\n                    </Avatar>\n                }\n                title={\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\n                        { title }\n                    </Typography>\n                }\n                subheader={\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\n                        { value }\n                    </Typography>\n                }\n            />\n        </Card>\n        : <Skeleton variant=\"rect\" height={80} />\n    )\n    \n}","import React from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, red } from '@material-ui/core/colors';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport moment from 'moment';\n\nimport Rating from '@material-ui/lab/Rating';\n\nconst useStyles = makeStyles(theme => ({\n\ton: {\n\t\tcolor: green[600],\n\t\tfontSize: '20px'\n\t},\n\toff: {\n\t\tcolor: red[600],\n\t\tfontSize: '20px'\n\t},\n    pointer: {\n        cursor: \"pointer\"\n    }\n}));\n\nexport function RatingBox ({ rating }) {\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\n    return <Rating\n        defaultValue={ratingTrunc}\n        max={3}\n        readOnly\n    />\n}\n\nexport default function TableAttendantsStatus(props) {\n    const { loading, attendants } = props\n\tconst classes = useStyles();\n\n    function renderList () {\n        return attendants.map((a, k) => (\n            <TableRow key={k}>\n                <TableCell>{a.name}</TableCell>\n                <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\n                    <RatingBox rating={a.rating} />\n                </TableCell>\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\n                <TableCell align=\"center\">\n                    { a.online ?\n                        <CheckCircleIcon className={classes.on} />\n                        : <ErrorIcon className={classes.off} />\n                    }\n                </TableCell>\n            </TableRow>\n        ))\n    }\n\n\tfunction formatTime(minutes){\n\t\treturn moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\n\t}\n\n    return ( !loading ?\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Nome</TableCell>\n                        <TableCell align=\"center\">Avaliações</TableCell>\n                        <TableCell align=\"center\">T.M. de Atendimento</TableCell>\n                        <TableCell align=\"center\">Status (Atual)</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    { renderList() }\n                    {/* <TableRow>\n                        <TableCell>Nome 4</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.off} />\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell>Nome 5</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.on} />\n                        </TableCell>\n                    </TableRow> */}\n                </TableBody>\n            </Table>\n        </TableContainer>\n        : <Skeleton variant=\"rect\" height={150} />\n    )\n}","import api from \"../../services/api\";\n\nconst useDashboard = () => {\n\n    const find = async (params) => {\n        const { data } = await api.request({\n            url: `/dashboard`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        find\n    }\n}\n\nexport default useDashboard;","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useContacts = ({ searchParam, pageNumber, date, dateStart, dateEnd }) => {\n    const [loading, setLoading] = useState(true);\n    const [hasMore, setHasMore] = useState(false);\n    const [contacts, setContacts] = useState([]);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async () => {\n                try {\n                    const { data } = await api.get(\"/contacts\", {\n                        params: {\n                            searchParam,\n                            pageNumber,\n                            date,\n                            dateStart,\n                            dateEnd,\n                        },\n                    });\n                    setContacts(data.contacts);\n\n                    setHasMore(data.hasMore);\n                    setCount(data.count);\n                    setLoading(false);\n                } catch (err) {\n                    setLoading(false);\n                    toastError(err);\n                }\n            };\n\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, date, dateStart, dateEnd]);\n\n    return { contacts, loading, hasMore, count };\n};\n\nexport default useContacts;\n","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useMessages = ({ fromMe, dateStart, dateEnd }) => {\n    const [loading, setLoading] = useState(true);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchMessages = async () => {\n                try {\n                    const { data } = await api.get(\"/messages-allMe\", {\n                        params: {\n                            fromMe,\n                            dateStart,\n                            dateEnd,\n                        },\n                    });\n                    setCount(data.count[0].count);\n                    setLoading(false);\n                } catch (err) {\n                    setLoading(false);\n                    toastError(err);\n                }\n            };\n\n            fetchMessages();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [dateStart, dateEnd]);\n\n    return { count };\n};\n\nexport default useMessages;\n","import React, { useEffect, useState } from 'react';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport brLocale from 'date-fns/locale/pt-BR';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { Button, Stack, TextField } from '@mui/material';\nimport Typography from \"@material-ui/core/Typography\";\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport './button.css';\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.padding,\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(2),\n    }\n}));\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n    ChartDataLabels\n);\n\nexport const options = {\n    responsive: true,\n    plugins: {\n        legend: {\n            position: 'top',\n            display: false,\n        },\n        title: {\n            display: true,\n            text: 'Gráfico de Conversas',\n            position: 'left',\n        },\n        datalabels: {\n            display: true,\n            anchor: 'start',\n            offset: -30,\n            align: \"start\",\n            color: \"#fff\",\n            textStrokeColor: \"#000\",\n            textStrokeWidth: 2,\n            font: {\n                size: 20,\n                weight: \"bold\"\n\n            },\n        }\n    },\n};\n\nexport const ChatsUser = () => {\n    // const classes = useStyles();\n    const [initialDate, setInitialDate] = useState(new Date());\n    const [finalDate, setFinalDate] = useState(new Date());\n    const [ticketsData, setTicketsData] = useState({ data: [] });\n\n    const companyId = localStorage.getItem(\"companyId\");\n\n    useEffect(() => {\n        handleGetTicketsInformation();\n    }, []);\n\n    const dataCharts = {\n\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => item.nome),\n        datasets: [\n            {\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\n                    return item.quantidade\n                }),\n                backgroundColor: '#2DDD7F',\n            },\n\n        ],\n    };\n\n    const handleGetTicketsInformation = async () => {\n        try {\n\n            const { data } = await api.get(`/dashboard/ticketsUsers?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\n            setTicketsData(data);\n        } catch (error) {\n            toast.error('Erro ao obter informações da conversa');\n        }\n    }\n\n    return (\n        <>\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n                Total de Conversas por Usuários\n            </Typography>\n\n            <Stack direction={'row'} spacing={2} alignItems={'center'} sx={{ my: 2, }} >\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={initialDate}\n                        onChange={(newValue) => { setInitialDate(newValue) }}\n                        label=\"Inicio\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n\n                    />\n                </LocalizationProvider>\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={finalDate}\n                        onChange={(newValue) => { setFinalDate(newValue) }}\n                        label=\"Fim\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n                    />\n                </LocalizationProvider>\n\n                <Button className=\"buttonHover\" onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\n\n            </Stack>\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\n        </>\n    );\n}","import React, { useEffect, useState } from 'react';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport brLocale from 'date-fns/locale/pt-BR';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { Button, Stack, TextField } from '@mui/material';\nimport Typography from \"@material-ui/core/Typography\";\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport './button.css';\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend\n);\n\nexport const options = {\n    responsive: true,\n    plugins: {\n        legend: {\n            position: 'top',\n            display: false,\n        },\n        title: {\n            display: true,\n            text: 'Gráfico de Conversas',\n            position: 'left',\n        },\n        datalabels: {\n            display: true,\n            anchor: 'start',\n            offset: -30,\n            align: \"start\",\n            color: \"#fff\",\n            textStrokeColor: \"#000\",\n            textStrokeWidth: 2,\n            font: {\n                size: 20,\n                weight: \"bold\"\n\n            },\n        }\n    },\n};\n\nexport const ChartsDate = () => {\n\n    const [initialDate, setInitialDate] = useState(new Date());\n    const [finalDate, setFinalDate] = useState(new Date());\n    const [ticketsData, setTicketsData] = useState({ data: [], count: 0 });\n\n    const companyId = localStorage.getItem(\"companyId\");\n\n    useEffect(() => {\n        handleGetTicketsInformation();\n    }, []);\n\n    const dataCharts = {\n\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => (item.hasOwnProperty('horario') ? `Das ${item.horario}:00 as ${item.horario}:59` : item.data)),\n        datasets: [\n            {\n                // label: 'Dataset 1',\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\n                    return item.total\n                }),\n                backgroundColor: '#2DDD7F',\n            },\n        ],\n    };\n\n    const handleGetTicketsInformation = async () => {\n        try {\n            const { data } = await api.get(`/dashboard/ticketsDay?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\n            setTicketsData(data);\n        } catch (error) {\n            toast.error('Erro ao buscar informações dos tickets');\n        }\n    }\n\n    return (\n        <>\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n                Total ({ticketsData?.count})\n            </Typography>\n\n            <Stack direction={'row'} spacing={2} alignItems={'center'} sx={{ my: 2, }} >\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={initialDate}\n                        onChange={(newValue) => { setInitialDate(newValue) }}\n                        label=\"Inicio\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n\n                    />\n                </LocalizationProvider>\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={finalDate}\n                        onChange={(newValue) => { setFinalDate(newValue) }}\n                        label=\"Fim\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n                    />\n                </LocalizationProvider>\n\n                <Button className=\"buttonHover\" onClick={handleGetTicketsInformation} variant='contained' >Filtrar</Button>\n\n            </Stack>\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\n        </>\n    );\n}","import React, { useContext, useState, useEffect } from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button } from \"@material-ui/core\";\n\nimport SpeedIcon from \"@material-ui/icons/Speed\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport CallIcon from \"@material-ui/icons/Call\";\nimport RecordVoiceOverIcon from \"@material-ui/icons/RecordVoiceOver\";\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\nimport HourglassEmptyIcon from \"@material-ui/icons/HourglassEmpty\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SendIcon from '@material-ui/icons/Send';\nimport MessageIcon from '@material-ui/icons/Message';\nimport AccessAlarmIcon from '@material-ui/icons/AccessAlarm';\nimport TimerIcon from '@material-ui/icons/Timer';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { toast } from \"react-toastify\";\n\nimport Chart from \"./Chart\";\nimport ButtonWithSpinner from \"../../components/ButtonWithSpinner\";\n\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\nimport { isArray } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport useDashboard from \"../../hooks/useDashboard\";\nimport useTickets from \"../../hooks/useTickets\";\nimport useUsers from \"../../hooks/useUsers\";\nimport useContacts from \"../../hooks/useContacts\";\nimport useMessages from \"../../hooks/useMessages\";\nimport { ChatsUser } from \"./ChartsUser\"\n\nimport Filters from \"./Filters\";\nimport { isEmpty } from \"lodash\";\nimport moment from \"moment\";\nimport { ChartsDate } from \"./ChartsDate\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.padding,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(2),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: 240,\n    overflowY: \"auto\",\n    ...theme.scrollbarStyles,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n  iframeDashboard: {\n    width: \"100%\",\n    height: \"calc(100vh - 64px)\",\n    border: \"none\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  customFixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 120,\n  },\n  customFixedHeightPaperLg: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n  },\n  card1: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    //backgroundColor: \"palette\",\n    //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  card2: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    //backgroundColor: \"palette\",\n    //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  card3: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n  //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  card4: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  card5: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  card6: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  card7: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  card8: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  card9: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    //backgroundColor: theme.palette.primary.main,\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.boxticket.main : theme.palette.primary.main,\n    color: \"#eee\",\n  },\n  fixedHeightPaper2: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [counters, setCounters] = useState({});\n  const [attendants, setAttendants] = useState([]);\n  const [period, setPeriod] = useState(0);\n  const [filterType, setFilterType] = useState(1);\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setLoading] = useState(false);\n  const { find } = useDashboard();\n\n  let newDate = new Date();\n  let date = newDate.getDate();\n  let month = newDate.getMonth() + 1;\n  let year = newDate.getFullYear();\n  let now = `${year}-${month < 10 ? `0${month}` : `${month}`}-${date < 10 ? `0${date}` : `${date}`}`;\n\n  const [showFilter, setShowFilter] = useState(false);\n  const [queueTicket, setQueueTicket] = useState(false);\n\n  const { user } = useContext(AuthContext);\n  var userQueueIds = [];\n\n  if (user.queues && user.queues.length > 0) {\n    userQueueIds = user.queues.map((q) => q.id);\n  }\n\n  useEffect(() => {\n    async function firstLoad() {\n      await fetchData();\n    }\n    setTimeout(() => {\n      firstLoad();\n    }, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  \n    async function handleChangePeriod(value) {\n    setPeriod(value);\n  }\n\n  async function handleChangeFilterType(value) {\n    setFilterType(value);\n    if (value === 1) {\n      setPeriod(0);\n    } else {\n      setDateFrom(\"\");\n      setDateTo(\"\");\n    }\n  }\n\n  async function fetchData() {\n    setLoading(true);\n\n    let params = {};\n\n    if (period > 0) {\n      params = {\n        days: period,\n      };\n    }\n\n    if (!isEmpty(dateFrom) && moment(dateFrom).isValid()) {\n      params = {\n        ...params,\n        date_from: moment(dateFrom).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (!isEmpty(dateTo) && moment(dateTo).isValid()) {\n      params = {\n        ...params,\n        date_to: moment(dateTo).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (Object.keys(params).length === 0) {\n      toast.error(\"Parametrize o filtro\");\n      setLoading(false);\n      return;\n    }\n\n    const data = await find(params);\n\n    setCounters(data.counters);\n    if (isArray(data.attendants)) {\n      setAttendants(data.attendants);\n    } else {\n      setAttendants([]);\n    }\n\n    setLoading(false);\n  }\n\n  function formatTime(minutes) {\n    return moment()\n      .startOf(\"day\")\n      .add(minutes, \"minutes\")\n      .format(\"HH[h] mm[m]\");\n  }\n\n  const GetUsers = () => {\n    let count;\n    let userOnline = 0;\n    attendants.forEach(user => {\n      if (user.online === true) {\n        userOnline = userOnline + 1\n      }\n    })\n    count = userOnline === 0 ? 0 : userOnline;\n    return count;\n  };\n  \n    const GetContacts = (all) => {\n    let props = {};\n    if (all) {\n      props = {};\n    }\n    const { count } = useContacts(props);\n    return count;\n  };\n  \n    function renderFilters() {\n    if (filterType === 1) {\n      return (\n        <>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Inicial\"\n              type=\"date\"\n              value={dateFrom}\n              onChange={(e) => setDateFrom(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Final\"\n              type=\"date\"\n              value={dateTo}\n              onChange={(e) => setDateTo(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n        </>\n      );\n    } else {\n      return (\n        <Grid item xs={12} sm={6} md={4}>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"period-selector-label\">Período</InputLabel>\n            <Select\n              labelId=\"period-selector-label\"\n              id=\"period-selector\"\n              value={period}\n              onChange={(e) => handleChangePeriod(e.target.value)}\n            >\n              <MenuItem value={0}>Nenhum selecionado</MenuItem>\n              <MenuItem value={3}>Últimos 3 dias</MenuItem>\n              <MenuItem value={7}>Últimos 7 dias</MenuItem>\n              <MenuItem value={15}>Últimos 15 dias</MenuItem>\n              <MenuItem value={30}>Últimos 30 dias</MenuItem>\n              <MenuItem value={60}>Últimos 60 dias</MenuItem>\n              <MenuItem value={90}>Últimos 90 dias</MenuItem>\n            </Select>\n            <FormHelperText>Selecione o período desejado</FormHelperText>\n          </FormControl>\n        </Grid>\n      );\n    }\n  }\n\n  return (\n    <div>\n      <Container maxWidth=\"lg\" className={classes.container}>\n        <Grid container spacing={3} justifyContent=\"flex-end\">\n\t\t\n\n          {/* EM ATENDIMENTO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card1}\n              style={{ overflow: \"hidden\" }}\n              elevation={4}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Em Conversa\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportHappening}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={2}>\n                  <CallIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#FFFFFF\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* AGUARDANDO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card2}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Aguardando\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportPending}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <HourglassEmptyIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#FFFFFF\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* ATENDENTES ATIVOS */}\n\t\t\t  {/*<Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card6}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Conversas Ativas\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {GetUsers()}\n                      <span\n                        style={{ color: \"#805753\" }}\n                      >\n                        /{attendants.length}\n                      </span>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <RecordVoiceOverIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#805753\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n</Grid>*/}\n\n          {/* FINALIZADOS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card3}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Finalizados\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportFinished}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <CheckCircleIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#FFFFFF\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* NOVOS CONTATOS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card4}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Novos Contatos\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {GetContacts(true)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <GroupAddIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#FFFFFF\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          \n          {/* T.M. DE ATENDIMENTO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card8}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    T.M. de Conversa\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {formatTime(counters.avgSupportTime)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <AccessAlarmIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#FFFFFF\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* T.M. DE ESPERA */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card9}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    T.M. de Espera\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {formatTime(counters.avgWaitTime)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <TimerIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#FFFFFF\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\t\t  \n\t\t  {/* FILTROS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <FormControl className={classes.selectContainer}>\n              <InputLabel id=\"period-selector-label\">Tipo de Filtro</InputLabel>\n              <Select\n                labelId=\"period-selector-label\"\n                value={filterType}\n                onChange={(e) => handleChangeFilterType(e.target.value)}\n              >\n                <MenuItem value={1}>Filtro por Data</MenuItem>\n                <MenuItem value={2}>Filtro por Período</MenuItem>\n              </Select>\n              <FormHelperText>Selecione o período desejado</FormHelperText>\n            </FormControl>\n          </Grid>\n\n          {renderFilters()}\n\n          {/* BOTAO FILTRAR */}\n          <Grid item xs={12} className={classes.alignRight}>\n            <ButtonWithSpinner\n              loading={loading}\n              onClick={() => fetchData()}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Filtrar\n            </ButtonWithSpinner>\n          </Grid>\n\n          {/* USUARIOS ONLINE */}\n          <Grid item xs={12}>\n            {attendants.length ? (\n              <TableAttendantsStatus\n                attendants={attendants}\n                loading={loading}\n              />\n            ) : null}\n          </Grid>\n\n          {/* TOTAL DE ATENDIMENTOS POR USUARIO */}\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper2}>\n              <ChatsUser />\n            </Paper>\n          </Grid>\n\n          {/* TOTAL DE ATENDIMENTOS */}\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper2}>\n              <ChartsDate />\n            </Paper>\n          </Grid>\n\n        </Grid>\n      </Container >\n    </div >\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5541998608485\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.whatsapp\")} {contact?.whatsapp ? contact?.whatsapp.name : \"\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport {  WhatsApp } from \"@material-ui/icons\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { toast } from \"react-toastify\";\n//import ShowTicketOpen from \"../ShowTicketOpenModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  online: {\n    fontSize: 11,\n    color: \"#25d366\"\n  },\n  offline: {\n    fontSize: 11,\n    color: \"#e1306c\"\n  }\n}));\n\nconst filter = createFilterOptions({\n  trim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const [newContact, setNewContact] = useState({});\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  const [ openAlert, setOpenAlert ] = useState(false);\n\tconst [ userTicketOpen, setUserTicketOpen] = useState(\"\");\n\tconst [ queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n\n  useEffect(() => {\n    if (initialContact?.id !== undefined) {\n      setOptions([initialContact]);\n      setSelectedContact(initialContact);\n    }\n  }, [initialContact]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n      };\n\n      if (whatsappId !== null && whatsappId!== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [])\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"contacts\", {\n            params: { searchParam },\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  // const IconChannel = (channel) => {\n  //   switch (channel) {\n  //     case \"facebook\":\n  //       return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\n  //     case \"instagram\":\n  //       return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\n  //     case \"whatsapp\":\n  //       return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\n  //     default:\n  //       return \"error\";\n  //   }\n  // };\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n    setSelectedContact(null);\n  };\n\n  const handleCloseAlert = () => {\n    setOpenAlert(false);\n    setLoading(false);\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n  };\n\n  const handleSaveTicket = async contactId => {\n    if (!contactId) return;\n    if (selectedQueue === \"\" && user.profile !== 'admin') {\n      toast.error(\"Selecione uma fila\");\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\n      const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null;\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        queueId,\n        whatsappId,\n        userId: user.id,\n        status: \"open\",\n      });      \n\n      onClose(ticket);\n    } catch (err) {\n      \n      const ticket  = JSON.parse(err.response.data.error);\n\n      if (ticket.userId !== user?.id) {\n        setOpenAlert(true);\n        setUserTicketOpen(ticket.user.name);\n        setQueueTicketOpen(ticket.queue.name);\n      } else {\n        setOpenAlert(false);\n        setUserTicketOpen(\"\");\n        setQueueTicketOpen(\"\");\n        setLoading(false);\n        onClose(ticket);\n      }\n    }  \n    setLoading(false);\n  };\n\n  const handleSelectOption = (e, newValue) => {\n    if (newValue?.number) {\n      setSelectedContact(newValue);\n    } else if (newValue?.name) {\n      setNewContact({ name: newValue.name });\n      setContactModalOpen(true);\n    }\n  };\n\n  const handleCloseContactModal = () => {\n    setContactModalOpen(false);    \n  };\n\n  const handleAddNewContactTicket = contact => {\n    handleSaveTicket(contact.id);\n  };\n\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`,\n      });\n    }\n    return filtered;\n  };\n\n  const renderOption = option => {\n    if (option.number) {\n      return <>\n        {/* {IconChannel(option.channel)} */}\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n          {option.name} - {option.number}\n        </Typography>\n      </>\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n\n  const renderContactAutocomplete = () => {\n    if (initialContact === undefined || initialContact.id === undefined) {\n      return (\n        <Grid xs={12} item>\n          <Autocomplete\n            fullWidth\n            options={options}\n            loading={loading}\n            clearOnBlur\n            autoHighlight\n            freeSolo\n            clearOnEscape\n            getOptionLabel={renderOptionLabel}\n            renderOption={renderOption}\n            filterOptions={createAddContactOption}\n            onChange={(e, newValue) => handleSelectOption(e, newValue)}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label={i18n.t(\"newTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={e => setSearchParam(e.target.value)}\n                onKeyPress={e => {\n                  if (loading || !selectedContact) return;\n                  else if (e.key === \"Enter\") {\n                    handleSaveTicket(selectedContact.id);\n                  }\n                }}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n        </Grid>\n      )\n    }\n    return null;\n  }\n\n  return (\n    <>\n      <ContactModal\n        open={contactModalOpen}\n        initialValues={newContact}\n        onClose={handleCloseContactModal}\n        onSave={handleAddNewContactTicket}\n      ></ContactModal>\n      <Dialog open={modalOpen} onClose={handleClose}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"newTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Grid style={{ width: 300 }} container spacing={2}>\n            {/* CONTATO */}\n            {renderContactAutocomplete()}\n            {/* FILA */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedQueue}\n                onChange={(e) => {\n                  setSelectedQueue(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedQueue === \"\") {\n                    return \"Selecione uma fila\"\n                  }\n                  const queue = user.queues.find(q => q.id === selectedQueue)\n                  return queue.name\n                }}\n              >\n                {user.queues?.length > 0 &&\n                  user.queues.map((queue, key) => (\n                    <MenuItem dense key={key} value={queue.id}>\n                      <ListItemText primary={queue.name} />\n                    </MenuItem>\n                  ))\n                }\n              </Select>\n            </Grid>\n            {/* CONEXAO */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexão\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {/* {IconChannel(whatsapp.channel)} */}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"newTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"button\"\n            disabled={!selectedContact}\n            onClick={() => handleSaveTicket(selectedContact.id)}\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"newTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n        {/* <ShowTicketOpen\n          isOpen={openAlert}\n          handleClose={handleCloseAlert}\n          user={userTicketOpen}\n          queue={queueTicketOpen}\n\t\t\t  /> */}\n      </Dialog >\n    </>\n  );\n};\nexport default NewTicketModal;","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    maxHeight: \"100%\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsListCustom = (props) => {\n  const {\n    status,\n    searchParam,\n    tags,\n    users,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, tags, users, selectedQueueIds]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    users: JSON.stringify(users),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n\n    if (profile === \"user\") {\n      dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n    } else {\n      dispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n    }\n  }, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"ready\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      \n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      const queueIds = queues.map((q) => q.id);\n      if (\n        profile === \"user\" &&\n        (queueIds.indexOf(data.ticket?.queue?.id) === -1 ||\n          data.ticket.queue === null)\n      ) {\n        return;\n      }\n\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket) && ( status === undefined || data.ticket.status === status)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues, socketManager]);\n\n  useEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList.map((ticket) => (\n                <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsListCustom;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter({ onFiltered }) {\n  const [tags, setTags] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadTags();\n    }\n    fetchData();\n  }, []);\n\n  const loadTags = async () => {\n    try {\n      const { data } = await api.get(`/tags/list`);\n      setTags(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: 10 }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={tags}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        renderTags={(value, getTagProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: option.color || \"#eee\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getTagProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Tags\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function UsersFilter({ onFiltered, initialUsers }) {\n  const [users, setUsers] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadUsers();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialUsers) &&\n      Array.isArray(users) &&\n      users.length > 0\n    ) {\n      onChange(initialUsers);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialUsers, users]);\n\n  const loadUsers = async () => {\n    try {\n      const { data } = await api.get(`/users/list`);\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\n      setUsers(userList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={users}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getUserProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getUserProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Users\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketsWrapper: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflow: \"hidden\",\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t\tborderRadius:0,\n\t},\n\n\ttabsHeader: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t},\n\n\ttabsInternal: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground\n\t},\n\n\tsettingsIcon: {\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\tpadding: 8,\n\t},\n\n\ttab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t},\n\n\tinternalTab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t\tpadding: 5\n\t},\n\n\tticketOptionsBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tbackground: theme.palette.optionsBackground,\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tticketSearchLine: {\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tserachInputWrapper: {\n\t\tflex: 1,\n\t\tbackground: theme.palette.total,\n\t\tdisplay: \"flex\",\n\t\tborderRadius: 40,\n\t\tpadding: 4,\n\t\tmarginRight: theme.spacing(1),\n\t},\n\n\tsearchIcon: {\n\t\tcolor: \"grey\",\n\t\tmarginLeft: 6,\n\t\tmarginRight: 6,\n\t\talignSelf: \"center\",\n\t},\n\n\tsearchInput: {\n\t\tflex: 1,\n\t\tborder: \"none\",\n\t\tborderRadius: 30,\n\t},\n\n\tinsiderTabPanel: {\n\t\theight: '100%',\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\"\n\t},\n\n\tinsiderDoubleTabPanel: {\n\t\tdisplay:\"flex\",\n\t\tflexDirection: \"column\",\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\",\n\t\theight: \"100%\"\n\t},\n\n\tlabelContainer: {\n\t\twidth: \"auto\",\n\t\tpadding: 0\n\t},\n\ticonLabelWrapper: {\n\t\tflexDirection: \"row\",\n\t\t'& > *:first-child': {\n\t\t\tmarginBottom: '3px !important',\n\t\t\tmarginRight: 16\n\t\t}\n\t},\n\tinsiderTabLabel: {\n\t\t[theme.breakpoints.down(1600)]: {\n\t\t\tdisplay:'none'\n\t\t}\n\t},\n\tsmallFormControl: {\n\t\t'& .MuiOutlinedInput-input': {\n\t\t\tpadding: \"12px 10px\",\n\t\t},\n\t\t'& .MuiInputLabel-outlined': {\n\t\t\tmarginTop: \"-6px\"\n\t\t}\n\t}\n}));\n\nconst TicketsManagerTabs = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map((t) => t.id);\n    setSelectedTags(tags);\n  };\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setSelectedUsers(users);\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(ticket) => {\n          \n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TagsFilter onFiltered={handleSelectedTags} />\n        {profile === \"admin\" && (\n          <UsersFilter onFiltered={handleSelectedUsers} />\n        )}\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          tags={selectedTags}\n          users={selectedUsers}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManagerTabs;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Grid } from \"@material-ui/core\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\twidth={60}\n\t\t\t\t\t\t\theight={60}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\n    textCenter: {\n        backgroundColor: 'red'\n    }\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\n\tconst classes = useStyles();\n\n\tconst [contact, setContact] = useState(initialContact);\n\n    useEffect(() => {\n        setContact(initialContact);\n    }, [initialContact]);\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contact.id) {\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n    return (\n        <Formik\n            initialValues={contact}\n            enableReinitialize={true}\n            validationSchema={ContactSchema}\n            onSubmit={(values, actions) => {\n                setTimeout(() => {\n                    handleSaveContact(values);\n                    actions.setSubmitting(false);\n                }, 400);\n            }}\n        >\n            {({ values, errors, touched, isSubmitting }) => (\n                <Form>\n                    <Grid container spacing={1}>\n                        {/* <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\" gutterBottom>\n                                {i18n.t(\"contactModal.form.mainInfo\")}\n                            </Typography>\n                        </Grid> */}\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.name\")}\n                                name=\"name\"\n                                autoFocus\n                                error={touched.name && Boolean(errors.name)}\n                                helperText={touched.name && errors.name}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                className={classes.textField}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.number\")}\n                                name=\"number\"\n                                error={touched.number && Boolean(errors.number)}\n                                helperText={touched.number && errors.number}\n                                placeholder=\"5513912344321\"\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.email\")}\n                                name=\"email\"\n                                error={touched.email && Boolean(errors.email)}\n                                helperText={touched.email && errors.email}\n                                placeholder=\"Email address\"\n                                fullWidth\n                                margin=\"dense\"\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                        <Grid item xs={12} spacing={1}>\n                            <Grid container spacing={1}>\n                                <Grid xs={6} item>\n                                    <Button\n                                        onClick={onCancel}\n                                        color=\"secondary\"\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    >\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\n                                    </Button>\n                                </Grid>\n                                <Grid classes={classes.textCenter} xs={6} item>\n                                    <Button\n                                        type=\"submit\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        variant=\"contained\"\n                                        className={classes.btnWrapper}\n                                        fullWidth\n                                    >\n                                        {contact.id\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                                        {isSubmitting && (\n                                            <CircularProgress\n                                                size={24}\n                                                className={classes.buttonProgress}\n                                            />\n                                        )}\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n    inline: {\n        width: '100%'\n    }\n}));\n\nexport default function ContactNotesDialogListItem (props) {\n    const { note, deleteItem } = props;\n    const classes = useStyles();\n\n    const handleDelete = (item) => {\n        deleteItem(item);\n    }\n\n    return (\n        <ListItem alignItems=\"flex-start\">\n            <ListItemAvatar>\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <>\n                        <Typography\n                            component=\"span\"\n                            variant=\"body2\"\n                            className={classes.inline}\n                            color=\"textPrimary\"\n                        >\n                            {note.note}\n                        </Typography>\n                    </>\n                }\n                secondary={\n                    <>\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\n                    </>\n                }\n            />\n            <ListItemSecondaryAction>\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\n                    <DeleteIcon />\n                </IconButton>\n            </ListItemSecondaryAction>\n        </ListItem>\n    )   \n}\n\nContactNotesDialogListItem.propTypes = {\n    note: PropTypes.object.isRequired,\n    deleteItem: PropTypes.func.isRequired\n}","import api from \"../../services/api\";\n\nconst useTicketNotes = () => {\n\n    const saveNote = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/ticket-notes',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteNote = async (id) => {\n        const { data } = await api.request({\n            url: `/ticket-notes/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const listNotes = async (params) => {\n        const { data } = await api.request({\n            url: '/ticket-notes/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        saveNote,\n        deleteNote,\n        listNotes\n    }\n}\n\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\nimport ConfirmationModal from '../ConfirmationModal';\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ButtonWithSpinner from '../ButtonWithSpinner';\n\nimport useTicketNotes from '../../hooks/useTicketNotes';\nimport { Grid } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto'\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\nconst NoteSchema = Yup.object().shape({\n\tnote: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.required(\"Required\")\n});\nexport function ContactNotes ({ ticket }) {\n    const { id: ticketId, contactId } = ticket\n    const classes = useStyles()\n    const [newNote, setNewNote] = useState({ note: \"\" });\n    const [loading, setLoading] = useState(false)\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\n    const [selectedNote, setSelectedNote] = useState({})\n    const [notes, setNotes] = useState([])\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\n\n    useEffect(() => {\n        async function openAndFetchData () {\n            handleResetState()\n            await loadNotes()\n        }\n        openAndFetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleResetState = () => {\n        setNewNote({ note: \"\" })\n        setLoading(false)\n    }\n\n    const handleChangeComment = (e) => {\n        setNewNote({ note: e.target.value })\n    }\n\n    const handleSave = async values => {\n        setLoading(true)\n        try {\n            await saveNote({\n                ...values,\n                ticketId,\n                contactId\n            })\n            await loadNotes()\n            setNewNote({ note: '' })\n            toast.success('Observação adicionada com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDialogDelete = (item) => {\n        setSelectedNote(item)\n        setShowOnDeleteDialog(true)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await deleteNote(selectedNote.id)\n            await loadNotes()\n            setSelectedNote({})\n            toast.success('Observação excluída com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const loadNotes = async () => {\n        setLoading(true)\n        try {\n            const notes = await listNotes({ ticketId, contactId })\n            setNotes(notes)\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const renderNoteList = () => {\n        return notes.map((note) => {\n            return <ContactNotesDialogListItem\n                note={note}\n                key={note.id}\n                deleteItem={handleOpenDialogDelete}\n            />\n        })\n    }\n\n    return (\n        <>\n            <ConfirmationModal\n                title=\"Excluir Registro\"\n                open={showOnDeleteDialog}\n                onClose={setShowOnDeleteDialog}\n                onConfirm={handleDelete}\n            >\n                Deseja realmente excluir este registro?\n            </ConfirmationModal>\n            <Formik\n                initialValues={newNote}\n                enableReinitialize={true}\n                validationSchema={NoteSchema}\n                onSubmit={(values, actions) => {\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors, setErrors }) => (\n                    <Form>\n                        <Grid container spacing={2}>\n                            <Grid xs={12} item>\n                                <Field\n                                    as={TextField}\n                                    name=\"note\"\n                                    rows={3}\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\n                                    multiline={true}\n                                    error={touched.note && Boolean(errors.note)}\n                                    helperText={touched.note && errors.note}\n                                    variant=\"outlined\"\n                                    onChange={handleChangeComment}\n                                    fullWidth\n                                />\n                            </Grid>\n                            { notes.length > 0 && (\n                                <Grid xs={12} item>\n                                    <List className={classes.list}>\n                                        { renderNoteList() }\n                                    </List>\n                                </Grid>\n                            ) }\n                            <Grid xs={12} item>\n                                <Grid container spacing={2}>\n                                    <Grid xs={6} item>\n                                        <Button\n                                            onClick={() => {\n                                                setNewNote(\"\");\n                                                setErrors({});\n                                            }}\n                                            color=\"primary\"\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        >\n                                            Cancelar\n                                        </Button>\n                                    </Grid>\n                                    <Grid xs={6} item>\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\n                                            Salvar\n                                        </ButtonWithSpinner>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Form>\n                )}\n            </Formik>\n        </>\n    );\n}","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CreateIcon from '@material-ui/icons/Create';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { CardHeader } from \"@material-ui/core\";\nimport { ContactForm } from \"../ContactForm\";\nimport ContactModal from \"../ContactModal\";\nimport { ContactNotes } from \"../ContactNotes\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 100,\n\t\theight: 100,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst [openForm, setOpenForm] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetOpenForm(false);\n\t}, [open, contact]);\n\n\treturn (\n\t\t<>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant=\"persistent\"\n\t\t\t\tanchor=\"right\"\n\t\t\t\topen={open}\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tModalProps={{\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t\t}}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\tonClick={() => {}}\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" style={{ width: 60, height: 60 }} />}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{fontSize: 16, marginLeft: 5}} />\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\n\t\t\t\t\t\t\t\tstyle={{fontSize: 12}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{marginBottom: 10}}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Drawer>\n\t\t</>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import api from \"../../services/api\";\n\nconst useQuickMessages = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/quick-messages',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/quick-messages/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteRecord = async (id) => {\n        const { data } = await api.request({\n            url: `/quick-messages/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/quick-messages/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        save,\n        update,\n        deleteRecord,\n        list\n    }\n}\n\nexport default useQuickMessages;","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { isNil } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { isString, isEmpty, isObject, has } from \"lodash\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport axios from \"axios\";\n\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    backgroundColor: theme.palette.bordabox, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  newMessageBox: {\n    backgroundColor: theme.palette.newmessagebox, //DARK MODE PLW DESIGN//\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    backgroundColor: theme.palette.inputdigita, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n}));\n\nconst EmojiOptions = (props) => {\n  const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <IconButton\n        aria-label=\"emojiPicker\"\n        component=\"span\"\n        disabled={disabled}\n        onClick={(e) => setShowEmoji((prevState) => !prevState)}\n      >\n        <MoodIcon className={classes.sendMessageIcons} />\n      </IconButton>\n      {showEmoji ? (\n        <div className={classes.emojiBox}>\n          <Picker\n            perLine={16}\n            showPreview={false}\n            showSkinTones={false}\n            onSelect={handleAddEmoji}\n          />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nconst SignSwitch = (props) => {\n  const { width, setSignMessage, signMessage } = props;\n  if (isWidthUp(\"md\", width)) {\n    return (\n      <FormControlLabel\n        style={{ marginRight: 7, color: \"gray\" }}\n        label={i18n.t(\"messagesInput.signMessage\")}\n        labelPlacement=\"start\"\n        control={\n          <Switch\n            size=\"small\"\n            checked={signMessage}\n            onChange={(e) => {\n              setSignMessage(e.target.checked);\n            }}\n            name=\"showAllTickets\"\n            color=\"primary\"\n          />\n        }\n      />\n    );\n  }\n  return null;\n};\n\nconst FileInput = (props) => {\n  const { handleChangeMedias, disableOption } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <input\n        multiple\n        type=\"file\"\n        id=\"upload-button\"\n        disabled={disableOption()}\n        className={classes.uploadInput}\n        onChange={handleChangeMedias}\n      />\n      <label htmlFor=\"upload-button\">\n        <IconButton\n          aria-label=\"upload\"\n          component=\"span\"\n          disabled={disableOption()}\n        >\n          <AttachFileIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nconst ActionButtons = (props) => {\n  const {\n    inputMessage,\n    loading,\n    recording,\n    ticketStatus,\n    handleSendMessage,\n    handleCancelAudio,\n    handleUploadAudio,\n    handleStartRecording,\n  } = props;\n  const classes = useStyles();\n  if (inputMessage) {\n    return (\n      <IconButton\n        aria-label=\"sendMessage\"\n        component=\"span\"\n        onClick={handleSendMessage}\n        disabled={loading}\n      >\n        <SendIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  } else if (recording) {\n    return (\n      <div className={classes.recorderWrapper}>\n        <IconButton\n          aria-label=\"cancelRecording\"\n          component=\"span\"\n          fontSize=\"large\"\n          disabled={loading}\n          onClick={handleCancelAudio}\n        >\n          <HighlightOffIcon className={classes.cancelAudioIcon} />\n        </IconButton>\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.audioLoading} />\n          </div>\n        ) : (\n          <RecordingTimer />\n        )}\n\n        <IconButton\n          aria-label=\"sendRecordedAudio\"\n          component=\"span\"\n          onClick={handleUploadAudio}\n          disabled={loading}\n        >\n          <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n        </IconButton>\n      </div>\n    );\n  } else {\n    return (\n      <IconButton\n        aria-label=\"showRecorder\"\n        component=\"span\"\n        disabled={loading || ticketStatus !== \"open\"}\n        onClick={handleStartRecording}\n      >\n        <MicIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  }\n};\n\nconst CustomInput = (props) => {\n  const {\n    loading,\n    inputRef,\n    ticketStatus,\n    inputMessage,\n    setInputMessage,\n    handleSendMessage,\n    handleInputPaste,\n    disableOption,\n    handleQuickAnswersClick,\n  } = props;\n  const classes = useStyles();\n  const [quickMessages, setQuickMessages] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n          mediaPath: m.mediaPath,\n        };\n      });\n      setQuickMessages(options);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length > 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\n\n      const filteredOptions = quickMessages.filter(\n        (m) => m.label.indexOf(inputMessage) > -1\n      );\n      setOptions(filteredOptions);\n    } else {\n      setPopupOpen(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const onKeyPress = (e) => {\n    if (loading || e.shiftKey) return;\n    else if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const onPaste = (e) => {\n    if (ticketStatus === \"open\") {\n      handleInputPaste(e);\n    }\n  };\n\n  const renderPlaceholder = () => {\n    if (ticketStatus === \"open\") {\n      return i18n.t(\"messagesInput.placeholderOpen\");\n    }\n    return i18n.t(\"messagesInput.placeholderClosed\");\n  };\n\n\n  const setInputRef = (input) => {\n    if (input) {\n      input.focus();\n      inputRef.current = input;\n    }\n  };\n\n  return (\n    <div className={classes.messageInputWrapper}>\n      <Autocomplete\n        freeSolo\n        open={popupOpen}\n        id=\"grouped-demo\"\n        value={inputMessage}\n        options={options}\n        closeIcon={null}\n        getOptionLabel={(option) => {\n          if (isObject(option)) {\n            return option.label;\n          } else {\n            return option;\n          }\n        }}\n        onChange={(event, opt) => {\n         \n          if (isObject(opt) && has(opt, \"value\") && isNil(opt.mediaPath)) {\n            setInputMessage(opt.value);\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          } else if (isObject(opt) && has(opt, \"value\") && !isNil(opt.mediaPath)) {\n            handleQuickAnswersClick(opt);\n\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          }\n        }}\n        onInputChange={(event, opt, reason) => {\n          if (reason === \"input\") {\n            setInputMessage(event.target.value);\n          }\n        }}\n        onPaste={onPaste}\n        onKeyPress={onKeyPress}\n        style={{ width: \"100%\" }}\n        renderInput={(params) => {\n          const { InputLabelProps, InputProps, ...rest } = params;\n          return (\n            <InputBase\n              {...params.InputProps}\n              {...rest}\n              disabled={disableOption()}\n              inputRef={setInputRef}\n              placeholder={renderPlaceholder()}\n              multiline\n              className={classes.messageInput}\n              maxRows={5}\n            />\n          );\n        }}\n      />\n    </div>\n  );\n};\n\nconst MessageInputCustom = (props) => {\n  const { ticketStatus, ticketId } = props;\n  const classes = useStyles();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const inputRef = useRef();\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  // const handleChangeInput = e => {\n  // \tif (isObject(e) && has(e, 'value')) {\n  // \t\tsetInputMessage(e.value);\n  // \t} else {\n  // \t\tsetInputMessage(e.target.value)\n  // \t}\n  // };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadQuickMessageMedia = async (blob, message) => {\n    setLoading(true);\n    try {\n      const extension = blob.type.split(\"/\")[1];\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.${extension}`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\",  message);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n  \n  const handleQuickAnswersClick = async (value) => {\n    if (value.mediaPath) {\n      try {\n        const { data } = await axios.get(value.mediaPath, {\n          responseType: \"blob\",\n        });\n\n        handleUploadQuickMessageMedia(data, value.value);\n        setInputMessage(\"\");\n        return;\n        //  handleChangeMedias(response)\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setInputMessage(\"\");\n    setInputMessage(value.value);\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\";\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <EmojiOptions\n            disabled={disableOption()}\n            handleAddEmoji={handleAddEmoji}\n            showEmoji={showEmoji}\n            setShowEmoji={setShowEmoji}\n          />\n\n          <FileInput\n            disableOption={disableOption}\n            handleChangeMedias={handleChangeMedias}\n          />\n\n          <SignSwitch\n            width={props.width}\n            setSignMessage={setSignMessage}\n            signMessage={signMessage}\n          />\n\n          <CustomInput\n            loading={loading}\n            inputRef={inputRef}\n            ticketStatus={ticketStatus}\n            inputMessage={inputMessage}\n            setInputMessage={setInputMessage}\n            // handleChangeInput={handleChangeInput}\n            handleSendMessage={handleSendMessage}\n            handleInputPaste={handleInputPaste}\n            disableOption={disableOption}\n            handleQuickAnswersClick={handleQuickAnswersClick}\n          />\n\n          <ActionButtons\n            inputMessage={inputMessage}\n            loading={loading}\n            recording={recording}\n            ticketStatus={ticketStatus}\n            handleSendMessage={handleSendMessage}\n            handleCancelAudio={handleCancelAudio}\n            handleUploadAudio={handleUploadAudio}\n            handleStartRecording={handleStartRecording}\n          />\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default withWidth()(MessageInputCustom);\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Grid, ListItemText, Typography, makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n  trim: true,\n});\n\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid }) => {\n  const history = useHistory();\n  const [options, setOptions] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [allQueues, setAllQueues] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const classes = useStyles();\n  const { findAll: findAllQueues } = useQueues();\n  const isMounted = useRef(true);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n      };\n\n      if (whatsappId !== null && whatsappId !== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [])\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam },\n          });\n          setOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedUser(null);\n  };\n\n  const handleSaveTicket = async (e) => {\n    e.preventDefault();\n    if (!ticketid) return;\n    if (!selectedQueue || selectedQueue === \"\") return;\n    setLoading(true);\n    try {\n      let data = {};\n\n      if (selectedUser) {\n        data.userId = selectedUser.id;\n      }\n\n      if (selectedQueue && selectedQueue !== null) {\n        data.queueId = selectedQueue;\n\n        if (!selectedUser) {\n          data.status = \"pending\";\n          data.userId = null;\n        }\n      }\n\n      if (selectedWhatsapp) {\n        data.whatsappId = selectedWhatsapp\n      }\n      await api.put(`/tickets/${ticketid}`, data);\n\n      history.push(`/tickets`);\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n  };\n\n  return (\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n      <form onSubmit={handleSaveTicket}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"transferTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Autocomplete\n            style={{ width: 300, marginBottom: 20 }}\n            getOptionLabel={(option) => `${option.name}`}\n            onChange={(e, newValue) => {\n              setSelectedUser(newValue);\n              if (newValue != null && Array.isArray(newValue.queues)) {\n                setQueues(newValue.queues);\n              } else {\n                setQueues(allQueues);\n                setSelectedQueue(\"\");\n              }\n            }}\n            options={options}\n            filterOptions={filterOptions}\n            freeSolo\n            autoHighlight\n            noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n            loading={loading}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={(e) => setSearchParam(e.target.value)}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n          <FormControl variant=\"outlined\" className={classes.maxWidth}>\n            <InputLabel>\n              {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n            </InputLabel>\n            <Select\n              value={selectedQueue}\n              onChange={(e) => setSelectedQueue(e.target.value)}\n              label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n            >\n              {queues.map((queue) => (\n                <MenuItem key={queue.id} value={queue.id}>\n                  {queue.name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          {/* CONEXAO */}\n          <Grid container spacing={2} style={{marginTop: '15px'}}>\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexão\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {/* {IconChannel(whatsapp.channel)} */}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"transferTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"submit\"\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"transferTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default TransferTicketModalCustom;\n","import React from \"react\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nconst InputComponent = ({ inputRef, ...other }) => <div {...other} />;\n\nconst OutlinedDiv = ({\n  InputProps,\n  children,\n  InputLabelProps,\n  label,\n  ...other\n}) => {\n  return (\n    <TextField\n      {...other}\n      variant=\"outlined\"\n      label={label}\n      multiline\n      InputLabelProps={{ shrink: true, ...InputLabelProps }}\n      InputProps={{\n        inputComponent: InputComponent,\n        ...InputProps\n      }}\n      inputProps={{ children: children }}\n    />\n  );\n};\n\nexport default OutlinedDiv;","import React from \"react\";\nimport { Chip, makeStyles } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport OutlinedDiv from \"../OutlinedDiv\";\n\nconst useStyles = makeStyles(theme => ({\n    chip: {\n        margin: theme.spacing(0.5),\n        cursor: \"pointer\"\n    }\n}));\n\nconst MessageVariablesPicker = ({ onClick, disabled }) => {\n    const classes = useStyles();\n\n    const handleClick = (e, value) => {\n        e.preventDefault();\n        if (disabled) return;\n        onClick(value);\n    };\n\n    const msgVars = [\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactFirstName\"),\n            value: \"{{firstName}}\"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactName\"),\n            value: \"{{name}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.greeting\"),\n            value: \"{{ms}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.protocolNumber\"),\n            value: \"{{protocol}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.hour\"),\n            value: \"{{hora}} \"\n        },\n    ];\n\n    return (\n        <OutlinedDiv\n            margin=\"dense\"\n            fullWidth\n            label={i18n.t(\"messageVariablesPicker.label\")}\n            disabled={disabled}\n        >\n            {msgVars.map(msgVar => (\n                <Chip\n                    key={msgVar.value}\n                    onMouseDown={e => handleClick(e, msgVar.value)}\n                    label={msgVar.name}\n                    size=\"small\"\n                    className={classes.chip}\n                    color=\"primary\"\n                />\n            ))}\n        </OutlinedDiv>\n    );\n};\n\nexport default MessageVariablesPicker;","import React, { useState, useEffect, useContext, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { FormControl, Grid, IconButton } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport AttachFile from \"@material-ui/icons/AttachFile\";\nimport { head } from \"lodash\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\"),\n\tcontactId: Yup.number().required(\"Obrigatório\"),\n\tsendAt: Yup.string().required(\"Obrigatório\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\"\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\tconst [attachment, setAttachment] = useState(null);\n\tconst attachmentFile = useRef(null);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst messageInputRef = useRef();\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\tconst { companyId } = user;\n\t\tif (open) {\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name }));\n\t\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\" }, ...customList]);\n\t\t\t\t\t}\n\t\t\t\t\tif (contactId) {\n\t\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t\t});\n\t\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t\t})()\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\t}, [scheduleId, contactId, open, user]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetAttachment(null);\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleAttachmentFile = (e) => {\n\t\tconst file = head(e.target.files);\n\t\tif (file) {\n\t\t\tsetAttachment(file);\n\t\t}\n\t};\n\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\n\t\t\t\t\t\tformData\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tif (contactId) {\n\t\t\t\tif (typeof cleanContact === 'function') {\n\t\t\t\t\tcleanContact();\n\t\t\t\t\thistory.push('/schedules');\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetCurrentContact(initialContact);\n\t\tsetSchedule(initialState);\n\t\thandleClose();\n\t};\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\n\t\tconst el = messageInputRef.current;\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\n\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n\t\tawait new Promise(r => setTimeout(r, 100));\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n\t};\n\n\tconst deleteMedia = async () => {\n\t\tif (attachment) {\n\t\t\tsetAttachment(null);\n\t\t\tattachmentFile.current.value = null;\n\t\t}\n\n\t\tif (schedule.mediaPath) {\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\n\t\t\tsetSchedule((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tmediaPath: null,\n\t\t\t}));\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\n\t\t\tif (typeof reload == \"function\") {\n\t\t\t\tconsole.log(reload);\n\t\t\t\tconsole.log(\"1\");\n\t\t\t\treload();\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\n\t\t\t\tonConfirm={deleteMedia}\n\t\t\t>\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<div style={{ display: \"none\" }}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\n\t\t\t\t\t\tref={attachmentFile}\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport ScheduleModal from \"../ScheduleModal\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tconst [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n\tconst [contactId, setContactId] = useState(null);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\tconst handleOpenScheduleModal = () => {\n\t\thandleClose();\n\t\tsetContactId(ticket.contact.id);\n\t\tsetScheduleModalOpen(true);\n\t}\n\n\tconst handleCloseScheduleModal = () => {\n\t\tsetScheduleModalOpen(false);\n\t\tsetContactId(null);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenScheduleModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.schedule\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModalCustom\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t/>\n\t\t\t<ScheduleModal\n\t\t\t\topen={scheduleModalOpen}\n\t\t\t\tonClose={handleCloseScheduleModal}\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\tcontactId={contactId}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles, createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport UndoRoundedIcon from '@material-ui/icons/UndoRounded';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { green } from '@material-ui/core/colors';\n\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(0.5),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtonsCustom = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\tconst { setCurrentTicket } = useContext(TicketsContext);\n\n\tconst customTheme = createTheme({\n\t\tpalette: {\n\t\t  \tprimary: green,\n\t\t}\n\t});\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t\tuseIntegration: status === \"closed\" ? false : ticket.useIntegration,\n\t\t\t\tpromptId: status === \"closed\" ? false : ticket.promptId,\n\t\t\t\tintegrationId: status === \"closed\" ? false : ticket.integrationId\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\tsetCurrentTicket({ ...ticket, code: \"#open\" });\n\t\t\t} else {\n\t\t\t\tsetCurrentTicket({ id: null, code: null })\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.return\")}>\n\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"pending\", null)}>\n\t\t\t\t\t\t\t<UndoRoundedIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<ThemeProvider theme={customTheme}>\n\t\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\n\t\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)} color=\"primary\">\n\t\t\t\t\t\t\t\t<CheckCircleIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t{/* <ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner> */}\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtonsCustom;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer({ ticket }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false\n        }\n    }, [])\n\n    useEffect(() => {\n        if (isMounted.current) {\n            loadTags().then(() => {\n                if (Array.isArray(ticket.tags)) {\n                    setSelecteds(ticket.tags);\n                } else {\n                    setSelecteds([]);\n                }\n            });\n        }\n    }, [ticket]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\n    }\n\n    return (\n        <Paper style={{ padding: 12 }}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{\n                                background: option.color || '#eee',\n                                color: \"#FFF\",\n                                marginRight: 1,\n                                fontWeight: 600,\n                                borderRadius: 3,\n                                fontSize: \"0.8em\",\n                                whiteSpace: \"nowrap\"\n                            }}\n                            label={option.name.toUpperCase()}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper style={{ width: 400, marginLeft: 12 }}>\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInputCustom/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TagsContainer } from \"../TagsContainer\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/u/\" + ticketId);\n          const { queueId } = data;\n          const { queues, profile } = user;\n\n          const queueAllowed = queues.find((q) => q.id === queueId);\n          if (queueAllowed === undefined && profile !== \"admin\") {\n            toast.error(\"Acesso não permitido\");\n            history.push(\"/tickets\");\n            return;\n          }\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, user, history]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(\"ready\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"update\" && data.ticket.id === ticket.id) {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\" && data.ticketId === ticket.id) {\n        // toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket, history, socketManager]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n        <MessageInput ticketId={ticket.id} ticketStatus={ticket.status} />\n      </>\n    );\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          {renderTicketInfo()}\n          <TicketActionButtons ticket={ticket} />\n        </TicketHeader>\n        <Paper>\n          <TagsContainer ticket={ticket} />\n        </Paper>\n        <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n        ticket={ticket}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport logo from \"../../assets/logo.png\"; //PLW DESIGN LOGO//\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchatContainer: {\n\t\tflex: 1,\n\t\t// backgroundColor: \"#eee\",\n\t\tpadding: theme.spacing(1), //Aqui ele ajusta espaço na tela de ticket\n\t\theight: `calc(100% - 48px)`,\n\t\toverflowY: \"hidden\",\n\t},\n\n\tchatPapper: {\n\t\t// backgroundColor: \"red\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t},\n\n\tcontactsWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflowY: \"hidden\",\n\t},\n\tmessagesWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t},\n\twelcomeMsg: {\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\talignItems: \"center\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t},\n}));\n\nconst TicketsCustom = () => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\n\treturn (\n\t\t<div className={classes.chatContainer}>\n\t\t\t<div className={classes.chatPapper}>\n\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t<Grid item xs={4} className={classes.contactsWrapper}>\n\t\t\t\t\t\t<TicketsManager />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={8} className={classes.messagesWrapper}>\n\t\t\t\t\t\t{ticketId ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Ticket />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\n\t\t\t\t\t\t\t{/* PLW DESIGN LOGO */}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"logologin\" /></center>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* PLW DESIGN LOGO */}\n\t\t\t\t\t\t\t{/*<span>{i18n.t(\"chat.noTicketMessage\")}</span>*/}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TicketsCustom;\n","import { styled } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst TicketAdvancedLayout = styled(Paper)({\n    height: `calc(100% - 48px)`,\n    display: \"grid\",\n    gridTemplateRows: \"56px 1fr\"\n})\n\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\nimport logo from \"../../assets/logo.png\"; //PLW DESIGN LOGO//\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n    },\n    content: {\n        overflow: \"auto\"\n    },\n    placeholderContainer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100%\",\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\n    },\n    placeholderItem: {\n    }\n}));\n\nconst TicketAdvanced = (props) => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\tconst [option, setOption] = useState(0);\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\n\n    useEffect(() => {\n        if(currentTicket.id !== null) {\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\n        }\n        if (!ticketId) {\n            setOption(1)\n        }\n        return () => {\n            setCurrentTicket({ id: null, code: null })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            setOption(0)\n        }\n    }, [currentTicket])\n\n\tconst renderPlaceholder = () => {\n\t\treturn <Box className={classes.placeholderContainer}>\n             {/*<div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div>*/}\n\t\t\t//PLW DESIGN LOGO//\n\t\t\t<div>\n\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"logologin\" /></center>\n\t\t\t</div>\n\t\t\t//PLW DESIGN LOGO//\n\t\t\t<br />\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\n                Selecionar Ticket\n            </Button>\n        </Box>\n\t}\n\n\tconst renderMessageContext = () => {\n\t\tif (ticketId) {\n\t\t\treturn <Ticket />\n\t\t}\n\t\treturn renderPlaceholder()\n\t}\n\n\tconst renderTicketsManagerTabs = () => {\n\t\treturn <TicketsManagerTabs />\n\t}\n\n\treturn (\n        <TicketAdvancedLayout>\n            <Box className={classes.header}>\n                <BottomNavigation\n                    value={option}\n                    onChange={(event, newValue) => {\n                        setOption(newValue);\n                    }}\n                    showLabels\n                    className={classes.root}\n                >\n                    <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\n                    <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\n                </BottomNavigation>\n            </Box>\n            <Box className={classes.content}>\n                { option === 0 ? renderMessageContext() : renderTicketsManagerTabs() }\n            </Box>\n        </TicketAdvancedLayout>\n\t);\n};\n\nexport default TicketAdvanced;\n","import React from \"react\";\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Tickets from \"../TicketsCustom\"\nimport TicketAdvanced from \"../TicketsAdvanced\";\n\nfunction TicketResponsiveContainer (props) {\n    if (isWidthUp('md', props.width)) {\n        return <Tickets />;    \n    }\n    return <TicketAdvanced />\n}\n\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState, useEffect } from \"react\";\nimport qs from 'query-string'\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\nimport usePlans from \"../../hooks/usePlans\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport InputMask from 'react-input-mask';\nimport {\n\tFormControl,\n\tInputLabel,\n\tMenuItem,\n\tSelect,\n} from \"@material-ui/core\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport logo from \"../../assets/logo.png\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport { openApi } from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nconst Copyright = () => {\n\treturn (\n\t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n\t\t\t{\"Copyright © \"}\n\t\t\t<Link color=\"inherit\" href=\"#\">\n\t\t\t\tPLW\n\t\t\t</Link>{\" \"}\n\t\t   {new Date().getFullYear()}\n\t\t\t{\".\"}\n\t\t</Typography>\n\t);\n};\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tlet companyId = null\n\n\tconst params = qs.parse(window.location.search)\n\tif (params.companyId !== undefined) {\n\t\tcompanyId = params.companyId\n\t}\n\n\tconst initialState = { name: \"\", email: \"\", phone: \"\", password: \"\", planId: \"\", };\n\n\tconst [user] = useState(initialState);\n\tconst dueDate = moment().add(3, \"day\").format();\n\tconst handleSignUp = async values => {\n\t\tObject.assign(values, { recurrence: \"MENSAL\" });\n\t\tObject.assign(values, { dueDate: dueDate });\n\t\tObject.assign(values, { status: \"t\" });\n\t\tObject.assign(values, { campaignsEnabled: true });\n\t\ttry {\n\t\t\tawait openApi.post(\"/companies/cadastro\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst [plans, setPlans] = useState([]);\n\tconst { list: listPlans } = usePlans();\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst list = await listPlans();\n\t\t\tsetPlans(list);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<div>\n\t\t\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"Whats\" /></center>\n\t\t\t\t</div>\n\t\t\t\t{/*<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>*/}\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nome da Empresa\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={InputMask}\n\t\t\t\t\t\t\t\t\tmask=\"(99) 99999-9999\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\terror={touched.phone && Boolean(errors.phone)}\n\t\t\t\t\t\t\t\t\thelperText={touched.phone && errors.phone}\n\t\t\t\t\t\t\t\t\tautoComplete=\"phone\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Telefone com (DDD)\"\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{ maxLength: 11 }} // Definindo o limite de caracteres\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"plan-selection\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Plano\"\n\t\t\t\t\t\t\t\t\t\tname=\"planId\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{plans.map((plan, key) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={key} value={plan.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{plan.name} - Atendentes: {plan.users} - WhatsApp: {plan.connections} - Filas: {plan.queues} - R$ {plan.value}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useContext } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\"; \nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { versionSystem } from \"../../../package.json\";\nimport { i18n } from \"../../translate/i18n\";\nimport { nomeEmpresa } from \"../../../package.json\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport logo from \"../../assets/logo.png\";\n\n\nconst Copyright = () => {\n\treturn (\n\t\t<Typography variant=\"body2\" color=\"primary\" align=\"center\">\n\t\t\t{\"Copyright \"}\n \t\t\t<Link color=\"primary\" href=\"#\">\n \t\t\t\t{ nomeEmpresa } - v { versionSystem }\n \t\t\t</Link>{\" \"}\n \t\t\t{new Date().getFullYear()}\n \t\t\t{\".\"}\n \t\t</Typography>\n \t);\n };\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: \"100vw\",\n\t\theight: \"100vh\",\n\t\t//background: \"linear-gradient(to right, #682EE3 , #682EE3 , #682EE3)\",\n\t\t//backgroundImage: \"url(https://i.imgur.com/CGby9tN.png)\",\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundSize: \"100% 100%\",\n\t\tbackgroundPosition: \"center\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\ttextAlign: \"center\",\n\t},\n\tpaper: {\n\t\tbackgroundColor: theme.palette.login,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tpadding: \"55px 30px\",\n\t\tborderRadius: \"12.5px\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),  \n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\", // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n\tpowered: {\n\t\tcolor: \"white\"\n\t}\n}));\n\nconst Login = () => {\n\tconst classes = useStyles();\n\n\tconst [user, setUser] = useState({ email: \"\", password: \"\" });\n\n\tconst { handleLogin } = useContext(AuthContext);\n\n\tconst handleChangeInput = e => {\n\t\tsetUser({ ...user, [e.target.name]: e.target.value });\n\t};\n\n\tconst handlSubmit = e => {\n\t\te.preventDefault();\n\t\thandleLogin(user);\n\t};\n\n\t\n\treturn (\n\t\t<div className={classes.root}>\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline/>\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<div>\n\t\t\t\t\t<img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"Whats\" />\n\t\t\t\t</div>\n\t\t\t\t{/*<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"login.title\")}\n\t\t\t\t</Typography>*/}\n\t\t\t\t<form className={classes.form} noValidate onSubmit={handlSubmit}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tlabel={i18n.t(\"login.form.email\")}\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel={i18n.t(\"login.form.password\")}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tvalue={user.password}\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t{/* <Grid container justify=\"flex-end\">\n\t\t\t\t\t  <Grid item xs={6} style={{ textAlign: \"right\" }}>\n\t\t\t\t\t\t<Link component={RouterLink} to=\"/forgetpsw\" variant=\"body2\">\n\t\t\t\t\t\t  Esqueceu sua senha?\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t  </Grid>\n\t\t\t\t\t</Grid>*/}\n\t\t\t\t\t\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"login.buttons.submit\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{ <Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\tto=\"/signup\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"login.buttons.register\")}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid> }\n\t\t\t\t</form>\n\t\t\t\n\t\t\t</div>\n\t\t\t<Box mt={8}><Copyright /></Box>\n\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2),\n\t\theight: `calc(100% - 48px)`,\n\t},\n\n\tcontentWrapper: {\n\t\theight: \"100%\",\n\t\toverflowY: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n}));\n\nconst MainContainer = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Container className={classes.mainContainer}>\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\n\t\t</Container>\n\t);\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  TextField,\n  Switch,\n  FormControlLabel,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    complationMessage: \"\",\n    outOfHoursMessage: \"\",\n    ratingMessage: \"\",\n    isDefault: false,\n    token: \"\",\n    provider: \"beta\",\n    //timeSendQueue: 0,\n    //sendIdQueue: 0,\n    expiresInactiveMessage: \"\",\n    expiresTicket: 0,\n    timeUseBotQueues: 0,\n    maxUseBotQueues: 3\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [selectedQueueId, setSelectedQueueId] = useState(null)\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n  \n    useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\n        setWhatsApp(data);\n\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n\t\tsetSelectedQueueId(data.transferQueueId);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queue\");\n        setQueues(data);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  const handleSaveWhatsApp = async (values) => {\nconst whatsappData = {\n      ...values, queueIds: selectedQueueIds, transferQueueId: selectedQueueId,\n      promptId: selectedPrompt ? selectedPrompt : null\n    };\n    delete whatsappData[\"queues\"];\n    delete whatsappData[\"session\"];\n\n    try {\n      if (whatsAppId) {\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n      } else {\n        await api.post(\"/whatsapp\", whatsappData);\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleChangeQueue = (e) => {\n    setSelectedQueueIds(e);\n    setSelectedPrompt(null);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n    setSelectedQueueIds([]);\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n\t  setSelectedQueueId(null);\n    setSelectedQueueIds([]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"md\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Grid spacing={2} container>\n                    <Grid item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.name\")}\n                        autoFocus\n                        name=\"name\"\n                        error={touched.name && Boolean(errors.name)}\n                        helperText={touched.name && errors.name}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.textField}\n                      />\n                    </Grid>\n                    <Grid style={{ paddingTop: 15 }} item>\n                      <FormControlLabel\n                        control={\n                          <Field\n                            as={Switch}\n                            color=\"primary\"\n                            name=\"isDefault\"\n                            checked={values.isDefault}\n                          />\n                        }\n                        label={i18n.t(\"whatsappModal.form.default\")}\n                      />\n                    </Grid>\n                  </Grid>\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.complationMessage\")}\n                    type=\"complationMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"complationMessage\"\n                    error={\n                      touched.complationMessage &&\n                      Boolean(errors.complationMessage)\n                    }\n                    helperText={\n                      touched.complationMessage && errors.complationMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                    type=\"outOfHoursMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"outOfHoursMessage\"\n                    error={\n                      touched.outOfHoursMessage &&\n                      Boolean(errors.outOfHoursMessage)\n                    }\n                    helperText={\n                      touched.outOfHoursMessage && errors.outOfHoursMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.ratingMessage\")}\n                    type=\"ratingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"ratingMessage\"\n                    error={\n                      touched.ratingMessage && Boolean(errors.ratingMessage)\n                    }\n                    helperText={touched.ratingMessage && errors.ratingMessage}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.token\")}\n                    type=\"token\"\n                    fullWidth\n                    name=\"token\"\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <QueueSelect\n                  selectedQueueIds={selectedQueueIds}\n                  onChange={(selectedIds) => handleChangeQueue(selectedIds)}\n                />\n                <FormControl\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  fullWidth\n                >\n                  <InputLabel>\n                    {i18n.t(\"whatsappModal.form.prompt\")}\n                  </InputLabel>\n                  <Select\n                    labelId=\"dialog-select-prompt-label\"\n                    id=\"dialog-select-prompt\"\n                    name=\"promptId\"\n                    value={selectedPrompt || \"\"}\n                    onChange={handleChangePrompt}\n                    label={i18n.t(\"whatsappModal.form.prompt\")}\n                    fullWidth\n                    MenuProps={{\n                      anchorOrigin: {\n                        vertical: \"bottom\",\n                        horizontal: \"left\",\n                      },\n                      transformOrigin: {\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                      },\n                      getContentAnchorEl: null,\n                    }}\n                  >\n                    {prompts.map((prompt) => (\n                      <MenuItem\n                        key={prompt.id}\n                        value={prompt.id}\n                      >\n                        {prompt.name}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n                <div>\n                  <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\n                  <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\n\t\t\t\t<Grid container spacing={2}>\n                  <Grid item sm={6} >\n                    <Field\n                      fullWidth\n                      type=\"number\"\n                      as={TextField}\n                      label='Transferir após x (minutos)'\n                      name=\"timeToTransfer\"\n                      error={touched.timeToTransfer && Boolean(errors.timeToTransfer)}\n                      helperText={touched.timeToTransfer && errors.timeToTransfer}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                      InputLabelProps={{ shrink: values.timeToTransfer ? true : false }}\n                    />\n\n                  </Grid>\n\n                  <Grid item sm={6}>\n                    <QueueSelect\n                      selectedQueueIds={selectedQueueId}\n                      onChange={(selectedId) => {\n                        setSelectedQueueId(selectedId)\n                      }}\n                      multiple={false}\n                      title={'Fila de Transferência'}\n                    />\n                  </Grid>\n\n                  </Grid>\n                  <Grid spacing={2} container>\n                    {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\n                    <Grid xs={12} md={12} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.expiresTicket\")}\n                        fullWidth\n                        name=\"expiresTicket\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.expiresTicket && Boolean(errors.expiresTicket)}\n                        helperText={touched.expiresTicket && errors.expiresTicket}\n                      />\n                    </Grid>\n                  </Grid>\n                  {/* MENSAGEM POR INATIVIDADE*/}\n                  <div>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\n                      multiline\n                      rows={4}\n                      fullWidth\n                      name=\"expiresInactiveMessage\"\n                      error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\n                      helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                    />\n                  </div>\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState, useContext } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography, useTheme } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n  const [qrCode, setQrCode] = useState(\"\");\n  const theme = useTheme();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\n        setQrCode(data.qrcode);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    if (!whatsAppId) return;\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\n        setQrCode(data.session.qrcode);\n      }\n\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\n        onClose();\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [whatsAppId, onClose, socketManager]);\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n      <DialogContent>\n        <Paper elevation={0} style={{ display: \"flex\", alignItems: \"center\" }}>\n          <div style={{ marginRight: \"20px\" }}>\n            <Typography variant=\"h2\" component=\"h2\" color=\"textPrimary\" gutterBottom style={{ fontFamily: \"Montserrat\", fontWeight: \"bold\", fontSize:\"20px\",}}>\n              Utilize o seu WhatsApp:\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\n              1 - Abra o WhatsApp no seu celular\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\n              2 - Toque em Mais opções no Android <svg class=\"MuiSvgIcon-root\" focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\"><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg> ou em Configurações <svg class=\"MuiSvgIcon-root\" focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\"><path d=\"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"></path></svg> no iPhone\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\n              3 - Toque em Dispositivos conectados e, em seguida, em Conectar dispositivos\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\n              4 - Aponte seu celular para essa tela para capturar o QR Code\n            </Typography>\n          </div>\n          <div>\n            {qrCode ? (\n              <QRCode value={qrCode} size={256} />\n            ) : (\n              <span>Waiting for QR Code</span>\n            )}\n          </div>\n        </Paper>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { user } = useContext(AuthContext);\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Can\n\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\tperform=\"connections-page:addConnection\"\n\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles, TextField, Grid, Container } from \"@material-ui/core\";\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\nimport { isArray } from \"lodash\";\nimport NumberFormat from \"react-number-format\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction SchedulesForm(props) {\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\n  const classes = useStyles();\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", endTime: \"\" },\n  ]);\n\n  useEffect(() => {\n    if (isArray(initialValues) && initialValues.length > 0) {\n      setSchedules(initialValues);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialValues]);\n\n  const handleSubmit = (data) => {\n    onSubmit(data);\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      className={classes.fullWidth}\n      initialValues={{ schedules }}\n      onSubmit={({ schedules }) =>\n        setTimeout(() => {\n          handleSubmit(schedules);\n        }, 500)\n      }\n    >\n      {({ values }) => (\n        <Form className={classes.fullWidth}>\n          <FieldArray\n            name=\"schedules\"\n            render={(arrayHelpers) => (\n              <Grid spacing={4} container>\n                {values.schedules.map((item, index) => {\n                  return (\n                      <Container>\n                          <FastField\n                            as={TextField}\n                            label=\"Dia da Semana\"\n                            name={`schedules[${index}].weekday`}\n                            disabled\n                            variant=\"outlined\"\n                            style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                            margin=\"dense\"\n                          />\n                          <FastField\n                            name={`schedules[${index}].startTime`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Hora de Inicial\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                              />\n                            )}\n                          </FastField>\n                          <FastField\n                            name={`schedules[${index}].endTime`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Hora de Final\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                              />\n                            )}\n                          </FastField>\n\n                      </Container>\n\n                  );\n                })}\n              </Grid>\n            )}\n          ></FieldArray>\n          <div style={{ textAlign: \"center\", marginTop: \"2%\" }} className={classes.buttonContainer}>\n            <ButtonWithSpinner\n              loading={loading}\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {labelSaveButton ?? \"Salvar\"}\n            </ButtonWithSpinner>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nexport default SchedulesForm;\n","import api from \"../../services/api\";\n\nconst useCompanies = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/companies',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const findAll = async (id) => {\n        const { data } = await api.request({\n            url: `/companies`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const list = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/list`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const find = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const finding = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const updateSchedules = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}/schedules`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n        save,\n        update,\n        remove,\n        list,\n        find,\n        finding,\n        findAll,\n        updateSchedules\n    }\n}\n\nexport default useCompanies;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelectCustom = ({ selectedQueueIds, companyId, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\", {\n\t\t\t\t\tparams: { companyId }\n\t\t\t\t});\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, [companyId]);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelectCustom;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelectCustom from \"../QueueSelectCustom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst UserSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    profile: \"user\",\n  };\n\n  const { user: loggedInUser } = useContext(AuthContext);\n\n  const [user, setUser] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      if (!userId) return;\n      if (open) {\n        try {\n          const { data } = await api.get(`/users/${userId}`);\n          setUser((prevState) => {\n            return { ...prevState, ...data };\n          });\n          const userQueueIds = data.queues?.map((queue) => queue.id);\n          setSelectedQueueIds(userQueueIds);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n    };\n\n    fetchUser();\n  }, [userId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setUser(initialState);\n  };\n\n  const handleSaveUser = async (values) => {\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\n    try {\n      if (userId) {\n        await api.put(`/users/${userId}`, userData);\n      } else {\n        await api.post(\"/users\", userData);\n      }\n      toast.success(i18n.t(\"userModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {userId\n            ? `${i18n.t(\"userModal.title.edit\")}`\n            : `${i18n.t(\"userModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={user}\n          enableReinitialize={true}\n          validationSchema={UserSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveUser(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.password\")}\n                    type=\"password\"\n                    name=\"password\"\n                    error={touched.password && Boolean(errors.password)}\n                    helperText={touched.password && errors.password}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    margin=\"dense\"\n                  >\n                    <Can\n                      role={loggedInUser.profile}\n                      perform=\"user-modal:editProfile\"\n                      yes={() => (\n                        <>\n                          <InputLabel id=\"profile-selection-input-label\">\n                            {i18n.t(\"userModal.form.profile\")}\n                          </InputLabel>\n\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"userModal.form.profile\")}\n                            name=\"profile\"\n                            labelId=\"profile-selection-label\"\n                            id=\"profile-selection\"\n                            required\n                          >\n                            <MenuItem value=\"admin\">Admin</MenuItem>\n                            <MenuItem value=\"user\">User</MenuItem>\n                          </Field>\n                        </>\n                      )}\n                    />\n                  </FormControl>\n                </div>\n                <Can\n                  role={loggedInUser.profile}\n                  perform=\"user-modal:editQueues\"\n                  yes={() => (\n                    <QueueSelectCustom\n                      companyId={companyId}\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(values) => setSelectedQueueIds(values)}\n                    />\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"userModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {userId\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ModalUsers;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Paper,\n  Grid,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  TextField,\n  Table,\n  TableHead,\n  TableBody,\n  TableCell,\n  TableRow,\n  IconButton,\n  Select,\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from \"formik\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport usePlans from \"../../hooks/usePlans\";\nimport ModalUsers from \"../ModalUsers\";\nimport api from \"../../services/api\";\nimport { head, isArray, has } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    padding: theme.spacing(2),\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    width: \"100%\",\n    overflowX: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nexport function CompanyForm(props) {\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    ...initialValue,\n  });\n\n  const { list: listPlans } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setRecord((prev) => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\n          \"YYYY-MM-DD\"\n        );\n      }\n      return {\n        ...prev,\n        ...initialValue,\n      };\n    });\n  }, [initialValue]);\n\n  const handleSubmit = async (data) => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({ ...initialValue, dueDate: \"\" });\n  };\n\n  const handleOpenModalUsers = async () => {\n    try {\n      const { data } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id,\n        },\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n\n  const incrementDueDate = () => {\n    const data = { ...record };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(1, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(2, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(3, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(6, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(12, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n\n  return (\n    <>\n      <ModalUsers\n        userId={firstUser.id}\n        companyId={initialValue.id}\n        open={modalUser}\n        onClose={handleCloseModalUsers}\n      />\n      <Formik\n        enableReinitialize\n        className={classes.fullWidth}\n        initialValues={record}\n        onSubmit={(values, { resetForm }) =>\n          setTimeout(() => {\n            handleSubmit(values);\n            resetForm();\n          }, 500)\n        }\n      >\n        {(values, setValues) => (\n          <Form className={classes.fullWidth}>\n            <Grid spacing={2} justifyContent=\"flex-end\" container>\n              <Grid xs={12} sm={6} md={4} item>\n                <Field\n                  as={TextField}\n                  label=\"Nome\"\n                  name=\"name\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"E-mail\"\n                  name=\"email\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                  required\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"Telefone\"\n                  name=\"phone\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"plan-selection\"\n                    label=\"Plano\"\n                    labelId=\"plan-selection-label\"\n                    name=\"planId\"\n                    margin=\"dense\"\n                    required\n                  >\n                    {plans.map((plan, key) => (\n                      <MenuItem key={key} value={plan.id}>\n                        {plan.name}\n                      </MenuItem>\n                    ))}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Status</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"status-selection\"\n                    label=\"Status\"\n                    labelId=\"status-selection-label\"\n                    name=\"status\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Sim</MenuItem>\n                    <MenuItem value={false}>Não</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"campaigns-selection\"\n                    label=\"Campanhas\"\n                    labelId=\"campaigns-selection-label\"\n                    name=\"campaignsEnabled\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Habilitadas</MenuItem>\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <Field\n                    as={TextField}\n                    label=\"Data de Vencimento\"\n                    type=\"date\"\n                    name=\"dueDate\"\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    margin=\"dense\"\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"recorrencia-selection\">\n                    Recorrência\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    label=\"Recorrência\"\n                    labelId=\"recorrencia-selection-label\"\n                    id=\"recurrence\"\n                    name=\"recurrence\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value=\"MENSAL\">Mensal</MenuItem>\n                    {/*<MenuItem value=\"BIMESTRAL\">Bimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"TRIMESTRAL\">Trimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"SEMESTRAL\">Semestral</MenuItem>*/}\n                    {/*<MenuItem value=\"ANUAL\">Anual</MenuItem>*/}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} item>\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\n                  <Grid xs={4} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      onClick={() => onCancel()}\n                      variant=\"contained\"\n                    >\n                      Limpar\n                    </ButtonWithSpinner>\n                  </Grid>\n                  {record.id !== undefined ? (\n                    <>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => onDelete(record)}\n                          variant=\"contained\"\n                          color=\"secondary\"\n                        >\n                          Excluir\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={2} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => incrementDueDate()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          + Vencimento\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => handleOpenModalUsers()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          Usuário\n                        </ButtonWithSpinner>\n                      </Grid>\n                    </>\n                  ) : null}\n                  <Grid xs={6} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Salvar\n                    </ButtonWithSpinner>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n}\n\nexport function CompaniesManagerGrid(props) {\n  const { records, onSelect } = props;\n  const classes = useStyles();\n  const { dateToClient } = useDate();\n\n  const renderStatus = (row) => {\n    return row.status === false ? \"Não\" : \"Sim\";\n  };\n\n  const renderPlan = (row) => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n\n  const renderCampaignsStatus = (row) => {\n    if (\n      has(row, \"settings\") &&\n      isArray(row.settings) &&\n      row.settings.length > 0\n    ) {\n      const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\n      if (setting) {\n        return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\n      }\n    }\n    return \"Desabilitadas\";\n  };\n\n  const rowStyle = (record) => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff === 5) {\n        return { backgroundColor: \"#fffead\" };\n      }\n      if (diff >= -3 && diff <= 4) {\n        return { backgroundColor: \"#f7cc8f\" };\n      }\n      if (diff === -4) {\n        return { backgroundColor: \"#fa8c8c\" };\n      }\n    }\n    return {};\n  };\n\n  return (\n    <Paper className={classes.tableContainer}>\n      <Table\n        className={classes.fullWidth}\n        size=\"small\"\n        aria-label=\"a dense table\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>\n              #\n            </TableCell>\n            <TableCell align=\"left\">Nome</TableCell>\n            <TableCell align=\"left\">E-mail</TableCell>\n            <TableCell align=\"left\">Telefone</TableCell>\n            <TableCell align=\"left\">Plano</TableCell>\n            <TableCell align=\"left\">Campanhas</TableCell>\n            <TableCell align=\"left\">Status</TableCell>\n            <TableCell align=\"left\">Criada Em</TableCell>\n            <TableCell align=\"left\">Vencimento</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {records.map((row, key) => (\n            <TableRow style={rowStyle(row)} key={key}>\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                  <EditIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.email || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.phone || \"-\"}</TableCell>\n              <TableCell align=\"left\">{renderPlan(row)}</TableCell>\n              <TableCell align=\"left\">{renderCampaignsStatus(row)}</TableCell>\n              <TableCell align=\"left\">{renderStatus(row)}</TableCell>\n              <TableCell align=\"left\">{dateToClient(row.createdAt)}</TableCell>\n              <TableCell align=\"left\">\n                {dateToClient(row.dueDate)}\n                <br />\n                <span>{row.recurrence}</span>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const { list, save, update, remove } = useCompanies();\n\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n  });\n\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const handleSubmit = async (data) => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\n        \"Não foi possível realizar a operação. Verifique se já existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\n      );\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\"Não foi possível realizar a operação\");\n    }\n    setLoading(false);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancel = () => {\n    setRecord((prev) => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\",\n    }));\n  };\n\n  const handleSelect = (data) => {\n    let campaignsEnabled = false;\n\n    const setting = data.settings.find(\n      (s) => s.key.indexOf(\"campaignsEnabled\") > -1\n    );\n    if (setting) {\n      campaignsEnabled =\n        setting.value === \"true\" || setting.value === \"enabled\";\n    }\n\n    setRecord((prev) => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\",\n    }));\n  };\n\n  return (\n    <Paper className={classes.mainPaper} elevation={0}>\n      <Grid spacing={2} container>\n        <Grid xs={12} item>\n          <CompanyForm\n            initialValue={record}\n            onDelete={handleOpenDeleteDialog}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            loading={loading}\n          />\n        </Grid>\n        <Grid xs={12} item>\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\n        </Grid>\n      </Grid>\n      <ConfirmationModal\n        title=\"Exclusão de Registro\"\n        open={showConfirmDialog}\n        onClose={() => setShowConfirmDialog(false)}\n        onConfirm={() => handleDelete()}\n      >\n        Deseja realmente excluir esse registro?\n      </ConfirmationModal>\n    </Paper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    Select\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { i18n } from \"../../translate/i18n\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%'\n    },\n    mainPaper: {\n        width: '100%',\n        flex: 1,\n        padding: theme.spacing(2)\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    tableContainer: {\n        width: '100%',\n        overflowX: \"scroll\",\n        ...theme.scrollbarStyles\n    },\n    textfield: {\n        width: '100%'\n    },\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2)\n    },\n    control: {\n        paddingRight: theme.spacing(1),\n        paddingLeft: theme.spacing(1)\n    },\n    buttonContainer: {\n        textAlign: 'right',\n        padding: theme.spacing(1)\n    }\n}));\n\nexport function PlanManagerForm(props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        value: 0,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n    });\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async (data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={1} justifyContent=\"flex-start\" container>\n                        {/* NOME */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.name\")}\n                                name=\"name\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n\n                        {/* USUARIOS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.users\")}\n                                name=\"users\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* CONEXOES */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.connections\")}\n                                name=\"connections\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* FILAS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Filas\"\n                                name=\"queues\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* VALOR */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Valor\"\n                                name=\"value\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"text\"\n                            />\n                        </Grid>\n\n                        {/* CAMPANHAS */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useCampaigns-selection\">{i18n.t(\"plans.form.campaigns\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useCampaigns-selection\"\n                                    label={i18n.t(\"plans.form.campaigns\")}\n                                    labelId=\"useCampaigns-selection-label\"\n                                    name=\"useCampaigns\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* AGENDAMENTOS */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useSchedules-selection\">{i18n.t(\"plans.form.schedules\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useSchedules-selection\"\n                                    label={i18n.t(\"plans.form.schedules\")}\n                                    labelId=\"useSchedules-selection-label\"\n                                    name=\"useSchedules\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* CHAT INTERNO */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInternalChat-selection\"\n                                    label=\"Chat Interno\"\n                                    labelId=\"useInternalChat-selection-label\"\n                                    name=\"useInternalChat\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* API Externa */}\n                        <Grid xs={12} sm={8} md={4} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useExternalApi-selection\"\n                                    label=\"API Externa\"\n                                    labelId=\"useExternalApi-selection-label\"\n                                    name=\"useExternalApi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* KANBAN */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useKanban-selection\">Kanban</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useKanban-selection\"\n                                    label=\"Kanban\"\n                                    labelId=\"useKanban-selection-label\"\n                                    name=\"useKanban\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* OPENAI */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useOpenAi-selection\">Open.Ai</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useOpenAi-selection\"\n                                    label=\"Talk.Ai\"\n                                    labelId=\"useOpenAi-selection-label\"\n                                    name=\"useOpenAi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* INTEGRACOES */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useIntegrations-selection\">Integrações</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useIntegrations-selection\"\n                                    label=\"Integrações\"\n                                    labelId=\"useIntegrations-selection-label\"\n                                    name=\"useIntegrations\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                {i18n.t(\"plans.form.clear\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                        {record.id !== undefined ? (\n                            <Grid sm={3} md={2} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    {i18n.t(\"plans.form.delete\")}\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                {i18n.t(\"plans.form.save\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function PlansManagerGrid(props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n    \n    const renderCampaigns = (row) => {\n        return row.useCampaigns === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderSchedules = (row) => {\n        return row.useSchedules === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderInternalChat = (row) => {\n        return row.useInternalChat === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderExternalApi = (row) => {\n        return row.useExternalApi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderKanban = (row) => {\n        return row.useKanban === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderOpenAi = (row) => {\n        return row.useOpenAi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderIntegrations = (row) => {\n        return row.useIntegrations === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table\n                className={classes.fullWidth}\n                // size=\"small\"\n                padding=\"none\"\n                aria-label=\"a dense table\"\n            >\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\n                        <TableCell align=\"left\">{i18n.t(\"plans.form.name\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.users\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.connections\")}</TableCell>\n                        <TableCell align=\"center\">Filas</TableCell>\n                        <TableCell align=\"center\">Valor</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.campaigns\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.schedules\")}</TableCell>\n                        <TableCell align=\"center\">Chat Interno</TableCell>\n                        <TableCell align=\"center\">API Externa</TableCell>\n                        <TableCell align=\"center\">Kanban</TableCell>\n                        <TableCell align=\"center\">Open.Ai</TableCell>\n                        <TableCell align=\"center\">Integrações</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {records.map((row) => (\n                        <TableRow key={row.id}>\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                    <EditIcon />\n                                </IconButton>\n                            </TableCell>\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"plans.form.money\")} {row.value ? row.value.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderKanban(row)}</TableCell>\n                            <TableCell align=\"center\">{renderOpenAi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderIntegrations(row)}</TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function PlansManager() {\n    const classes = useStyles()\n    const { list, save, update, remove } = usePlans()\n\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        value: 0,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n    })\n\n    useEffect(() => {\n        async function fetchData() {\n            await loadPlans()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [record])\n\n    const loadPlans = async () => {\n        setLoading(true)\n        try {\n            const planList = await list()\n            setRecords(planList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        console.log(data)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            id: undefined,\n            name: '',\n            users: 0,\n            connections: 0,\n            queues: 0,\n            value: 0,\n            useCampaigns: true,\n            useSchedules: true,\n            useInternalChat: true,\n            useExternalApi: true,\n            useKanban: true,\n            useOpenAi: true,\n            useIntegrations: true\n        })\n    }\n\n    const handleSelect = (data) => {\n\n        let useCampaigns = data.useCampaigns === false ? false : true\n        let useSchedules = data.useSchedules === false ? false : true\n        let useInternalChat = data.useInternalChat === false ? false : true\n        let useExternalApi = data.useExternalApi === false ? false : true\n        let useKanban = data.useKanban === false ? false : true\n        let useOpenAi = data.useOpenAi === false ? false : true\n        let useIntegrations = data.useIntegrations === false ? false : true\n\n        setRecord({\n            id: data.id,\n            name: data.name || '',\n            users: data.users || 0,\n            connections: data.connections || 0,\n            queues: data.queues || 0,\n            value: data.value?.toLocaleString('pt-br', { minimumFractionDigits: 0 }) || 0,\n            useCampaigns,\n            useSchedules,\n            useInternalChat,\n            useExternalApi,\n            useKanban,\n            useOpenAi,\n            useIntegrations\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <PlanManagerForm\n                        initialValue={record}\n                        onDelete={handleOpenDeleteDialog}\n                        onSubmit={handleSubmit}\n                        onCancel={handleCancel}\n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <PlansManagerGrid\n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const findAll = async (params) => {\n        const { data } = await api.request({\n            url: `/helps`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/helps/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/helps',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/helps/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/helps/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    return {\n        findAll,\n        list,\n        save,\n        update,\n        remove\n    }\n}\n\nexport default usePlans;","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useHelps from \"../../hooks/useHelps\";\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n    mainPaper: {\n\t\twidth: '100%',\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2)\n    },\n\tfullWidth: {\n\t\twidth: '100%'\n\t},\n    tableContainer: {\n\t\twidth: '100%',\n\t\toverflowX: \"scroll\",\n\t\t...theme.scrollbarStyles\n    },\n\ttextfield: {\n\t\twidth: '100%'\n\t},\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n\t\tpaddingTop: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2)\n    },\n    control: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(1)\n\t},\n    buttonContainer: {\n        textAlign: 'right',\n\t\tpadding: theme.spacing(1)\n\t}\n}));\n\nexport function HelpManagerForm (props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState(initialValue);\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async(data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Título\"\n                                name=\"title\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Código do Vídeo\"\n                                name=\"video\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={12} md={6} item>\n                            <Field\n                                as={TextField}\n                                label=\"Descrição\"\n                                name=\"description\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                Limpar\n                            </ButtonWithSpinner>\n                        </Grid>\n                        { record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    Excluir\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                Salvar\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function HelpsManagerGrid (props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\n                    <TableCell align=\"left\">Título</TableCell>\n                    <TableCell align=\"left\">Descrição</TableCell>\n                    <TableCell align=\"left\">Vídeo</TableCell>\n                </TableRow>\n                </TableHead>\n                <TableBody>\n                {records.map((row) => (\n                    <TableRow key={row.id}>\n                        <TableCell align=\"center\" style={{width: '1%'}}>\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                <EditIcon />\n                            </IconButton>\n                        </TableCell>\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\n                    </TableRow>\n                ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function HelpsManager () {\n    const classes = useStyles()\n    const { list, save, update, remove } = useHelps()\n    \n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        title: '',\n        description: '',\n        video: ''\n    })\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadHelps()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadHelps = async () => {\n        setLoading(true)\n        try {\n            const helpList = await list()\n            setRecords(helpList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            title: '',\n            description: '',\n            video: ''\n        })\n    }\n\n    const handleSelect = (data) => {\n        setRecord({\n            id: data.id,\n            title: data.title || '',\n            description: data.description || '',\n            video: data.video || ''\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <HelpManagerForm \n                        initialValue={record} \n                        onDelete={handleOpenDeleteDialog} \n                        onSubmit={handleSubmit} \n                        onCancel={handleCancel} \n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <HelpsManagerGrid \n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst useSettings = () => {\n\n    const getAll = async (params) => {\n        const { data } = await api.request({\n            url: '/settings',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/settings/${data.key}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n\t\tgetAll,\n        update\n    }\n}\n\nexport default useSettings;","import React, { useEffect, useState } from \"react\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Title from \"../Title\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useSettings from \"../../hooks/useSettings\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { Tabs, Tab } from \"@material-ui/core\";\n\n//import 'react-toastify/dist/ReactToastify.css';\n \nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  tab: {\n    backgroundColor: theme.palette.options,  //DARK MODE PLW DESIGN//\n    borderRadius: 4,\n    width: \"100%\",\n    \"& .MuiTab-wrapper\": {\n      color: theme.palette.fontecor,\n    },   //DARK MODE PLW DESIGN//\n    \"& .MuiTabs-flexContainer\": {\n      justifyContent: \"center\"\n    }\n\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n    width: \"100%\",\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nexport default function Options(props) {\n  const { settings, scheduleTypeChanged } = props;\n  const classes = useStyles();\n  const [userRating, setUserRating] = useState(\"disabled\");\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\n  const [callType, setCallType] = useState(\"enabled\");\n  const [chatbotType, setChatbotType] = useState(\"\");\n  const [CheckMsgIsGroup, setCheckMsgIsGroupType] = useState(\"enabled\");\n\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\n  const [loadingCallType, setLoadingCallType] = useState(false);\n  const [loadingChatbotType, setLoadingChatbotType] = useState(false);\n  const [loadingCheckMsgIsGroup, setCheckMsgIsGroup] = useState(false);\n\n\n  //const [ipixcType, setIpIxcType] = useState(\"\");\n  //const [loadingIpIxcType, setLoadingIpIxcType] = useState(false);\n  //const [tokenixcType, setTokenIxcType] = useState(\"\");\n  //const [loadingTokenIxcType, setLoadingTokenIxcType] = useState(false);\n\n  //const [ipmkauthType, setIpMkauthType] = useState(\"\");\n  //const [loadingIpMkauthType, setLoadingIpMkauthType] = useState(false);\n  //const [clientidmkauthType, setClientIdMkauthType] = useState(\"\");\n  //const [loadingClientIdMkauthType, setLoadingClientIdMkauthType] = useState(false);\n  //const [clientsecretmkauthType, setClientSecrectMkauthType] = useState(\"\");\n  //const [loadingClientSecrectMkauthType, setLoadingClientSecrectMkauthType] = useState(false);\n\n  const [asaasType, setAsaasType] = useState(\"\");\n  const [loadingAsaasType, setLoadingAsaasType] = useState(false);\n  \n  // recursos a mais da plw design\n\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"disabled\");\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\n  \n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"disabled\");\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\n  \n  const [sendGreetingMessageOneQueues, setSendGreetingMessageOneQueues] = useState(\"disabled\");\n  const [loadingSendGreetingMessageOneQueues, setLoadingSendGreetingMessageOneQueues] = useState(false);\n\n  const { update } = useSettings();\n\n  useEffect(() => {\n    if (Array.isArray(settings) && settings.length) {\n      const userRating = settings.find((s) => s.key === \"userRating\");\n      if (userRating) {\n        setUserRating(userRating.value);\n      }\n      const scheduleType = settings.find((s) => s.key === \"scheduleType\");\n      if (scheduleType) {\n        setScheduleType(scheduleType.value);\n      }\n      const callType = settings.find((s) => s.key === \"call\");\n      if (callType) {\n        setCallType(callType.value);\n      }\n      const CheckMsgIsGroup = settings.find((s) => s.key === \"CheckMsgIsGroup\");\n      if (CheckMsgIsGroup) {\n        setCheckMsgIsGroupType(CheckMsgIsGroup.value);\n      }\n\t  \n\t  {/*PLW DESIGN SAUDAÇÃO*/}\n      const SendGreetingAccepted = settings.find((s) => s.key === \"sendGreetingAccepted\");\n      if (SendGreetingAccepted) {\n        setSendGreetingAccepted(SendGreetingAccepted.value);\n      }\t \n\t  {/*PLW DESIGN SAUDAÇÃO*/}\t \n\t  \n\t  {/*TRANSFERIR TICKET*/}\t\n\t  const SettingsTransfTicket = settings.find((s) => s.key === \"sendMsgTransfTicket\");\n      if (SettingsTransfTicket) {\n        setSettingsTransfTicket(SettingsTransfTicket.value);\n      }\n\t  {/*TRANSFERIR TICKET*/}\n\n      const sendGreetingMessageOneQueues = settings.find((s) => s.key === \"sendGreetingMessageOneQueues\");\n      if (sendGreetingMessageOneQueues) {\n        setSendGreetingMessageOneQueues(sendGreetingMessageOneQueues.value)\n      }\t  \n\t  \n      const chatbotType = settings.find((s) => s.key === \"chatBotType\");\n      if (chatbotType) {\n        setChatbotType(chatbotType.value);\n      }\n\n\t    {/*const ipixcType = settings.find((s) => s.key === \"ipixc\");\n      if (ipixcType) {\n        setIpIxcType(ipixcType.value);\n      }*/}\n\n      {/*const tokenixcType = settings.find((s) => s.key === \"tokenixc\");\n      if (tokenixcType) {\n        setTokenIxcType(tokenixcType.value);\n      }*/}\n\n      {/*const ipmkauthType = settings.find((s) => s.key === \"ipmkauth\");\n      if (ipmkauthType) {\n        setIpMkauthType(ipmkauthType.value);\n      }*/}\n\n     {/* const clientidmkauthType = settings.find((s) => s.key === \"clientidmkauth\");\n      if (clientidmkauthType) {\n        setClientIdMkauthType(clientidmkauthType.value);\n      }*/}\n\n      {/*const clientsecretmkauthType = settings.find((s) => s.key === \"clientsecretmkauth\");\n      if (clientsecretmkauthType) {\n        setClientSecrectMkauthType(clientsecretmkauthType.value);\n      }*/}\n\n      const asaasType = settings.find((s) => s.key === \"asaas\");\n      if (asaasType) {\n        setAsaasType(asaasType.value);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings]);\n\n  async function handleChangeUserRating(value) {\n    setUserRating(value);\n    setLoadingUserRating(true);\n    await update({\n      key: \"userRating\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingUserRating(false);\n  }\n  \n    async function handleSendGreetingMessageOneQueues(value) {\n    setSendGreetingMessageOneQueues(value);\n    setLoadingSendGreetingMessageOneQueues(true);\n    await update({\n      key: \"sendGreetingMessageOneQueues\",\n      value,\n    });\n\ttoast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSendGreetingMessageOneQueues(false);\n  }\n\n  async function handleScheduleType(value) {\n    setScheduleType(value);\n    setLoadingScheduleType(true);\n    await update({\n      key: \"scheduleType\",\n      value,\n    });\n    //toast.success(\"Oraçãpeo atualizada com sucesso.\");\n    toast.success('Operação atualizada com sucesso.', {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: false,\n      draggable: true,\n      theme: \"light\",\n      });\n    setLoadingScheduleType(false);\n    if (typeof scheduleTypeChanged === \"function\") {\n      scheduleTypeChanged(value);\n    }\n  }\n\n  async function handleCallType(value) {\n    setCallType(value);\n    setLoadingCallType(true);\n    await update({\n      key: \"call\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingCallType(false);\n  }\n\n  async function handleChatbotType(value) {\n    setChatbotType(value);\n    setLoadingChatbotType(true);\n    await update({\n      key: \"chatBotType\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingChatbotType(false);\n  }\n\n  async function handleGroupType(value) {\n    setCheckMsgIsGroupType(value);\n    setCheckMsgIsGroup(true);\n    await update({\n      key: \"CheckMsgIsGroup\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setCheckMsgIsGroupType(false);\n    /*     if (typeof scheduleTypeChanged === \"function\") {\n          scheduleTypeChanged(value);\n        } */\n  }\n  \n  {/*NOVO CÓDIGO*/}  \n  async function handleSendGreetingAccepted(value) {\n    setSendGreetingAccepted(value);\n    setLoadingSendGreetingAccepted(true);\n    await update({\n      key: \"sendGreetingAccepted\",\n      value,\n    });\n\ttoast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSendGreetingAccepted(false);\n  }  \n  \n  \n  {/*NOVO CÓDIGO*/}    \n\n  async function handleSettingsTransfTicket(value) {\n    setSettingsTransfTicket(value);\n    setLoadingSettingsTransfTicket(true);\n    await update({\n      key: \"sendMsgTransfTicket\",\n      value,\n    });\n\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSettingsTransfTicket(false);\n  } \n \n {/*async function handleChangeIPIxc(value) {\n    setIpIxcType(value);\n    setLoadingIpIxcType(true);\n    await update({\n      key: \"ipixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpIxcType(false);\n  }\n\n   {/*async function handleChangeTokenIxc(value) {\n    setTokenIxcType(value);\n    setLoadingTokenIxcType(true);\n    await update({\n      key: \"tokenixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingTokenIxcType(false);\n  }\n\n  async function handleChangeIpMkauth(value) {\n    setIpMkauthType(value);\n    setLoadingIpMkauthType(true);\n    await update({\n      key: \"ipmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpMkauthType(false);\n  }\n\n  async function handleChangeClientIdMkauth(value) {\n    setClientIdMkauthType(value);\n    setLoadingClientIdMkauthType(true);\n    await update({\n      key: \"clientidmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientIdMkauthType(false);\n  }\n\n  async function handleChangeClientSecrectMkauth(value) {\n    setClientSecrectMkauthType(value);\n    setLoadingClientSecrectMkauthType(true);\n    await update({\n      key: \"clientsecretmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientSecrectMkauthType(false);\n  }*/}\n\n  async function handleChangeAsaas(value) {\n    setAsaasType(value);\n    setLoadingAsaasType(true);\n    await update({\n      key: \"asaas\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingAsaasType(false);\n  }\n  return (\n    <>\n      <Grid spacing={3} container>\n        {/* <Grid xs={12} item>\n                    <Title>Configurações Gerais</Title>\n                </Grid> */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"ratings-label\">Avaliações</InputLabel>\n            <Select\n              labelId=\"ratings-label\"\n              value={userRating}\n              onChange={async (e) => {\n                handleChangeUserRating(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitadas</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitadas</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRating && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">\n              Gerenciamento de Expediente\n            </InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={scheduleType}\n              onChange={async (e) => {\n                handleScheduleType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"queue\"}>Fila</MenuItem>\n              <MenuItem value={\"company\"}>Empresa</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"group-type-label\">\n              Ignorar Mensagens de Grupos\n            </InputLabel>\n            <Select\n              labelId=\"group-type-label\"\n              value={CheckMsgIsGroup}\n              onChange={async (e) => {\n                handleGroupType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desativado</MenuItem>\n              <MenuItem value={\"enabled\"}>Ativado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"call-type-label\">\n              Aceitar Chamada\n            </InputLabel>\n            <Select\n              labelId=\"call-type-label\"\n              value={callType}\n              onChange={async (e) => {\n                handleCallType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Não Aceitar</MenuItem>\n              <MenuItem value={\"enabled\"}>Aceitar</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingCallType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"chatbot-type-label\">\n              Tipo Chatbot\n            </InputLabel>\n            <Select\n              labelId=\"chatbot-type-label\"\n              value={chatbotType}\n              onChange={async (e) => {\n                handleChatbotType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"text\"}>Texto</MenuItem>\n\t\t\t {/*<MenuItem value={\"button\"}>Botão</MenuItem>*/}\n             {/*<MenuItem value={\"list\"}>Lista</MenuItem>*/}\n            </Select>\n            <FormHelperText>\n              {loadingChatbotType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingAccepted-label\">Enviar saudação ao aceitar o ticket</InputLabel>\n            <Select\n              labelId=\"sendGreetingAccepted-label\"\n              value={SendGreetingAccepted}\n              onChange={async (e) => {\n                handleSendGreetingAccepted(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingAccepted && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n\t\t\n\t\t{/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendMsgTransfTicket-label\">Enviar mensagem de transferencia de Fila/agente</InputLabel>\n            <Select\n              labelId=\"sendMsgTransfTicket-label\"\n              value={SettingsTransfTicket}\n              onChange={async (e) => {\n                handleSettingsTransfTicket(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSettingsTransfTicket && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t\n\t\t{/* ENVIAR SAUDAÇÃO QUANDO HOUVER SOMENTE 1 FILA */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingMessageOneQueues-label\">Enviar saudação quando houver somente 1 fila</InputLabel>\n            <Select\n              labelId=\"sendGreetingMessageOneQueues-label\"\n              value={sendGreetingMessageOneQueues}\n              onChange={async (e) => {\n                handleSendGreetingMessageOneQueues(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingMessageOneQueues && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t\n      </Grid>\n      <Grid spacing={3} container>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n          style={{\n            marginBottom: 20,\n            marginTop: 20\n          }}\n        >\n          <Tab\n\n            label=\"INTEGRAÇÕES\" />\n\n        </Tabs>\n\n      </Grid>\n      {/*-----------------IXC DESATIVADO 4.6.5-----------------*/}\n      {/*<Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab\n\n            label=\"IXC\" />\n\n        </Tabs>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipixc\"\n              name=\"ipixc\"\n              margin=\"dense\"\n              label=\"IP do IXC\"\n              variant=\"outlined\"\n              value={ipixcType}\n              onChange={async (e) => {\n                handleChangeIPIxc(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpIxcType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"tokenixc\"\n              name=\"tokenixc\"\n              margin=\"dense\"\n              label=\"Token do IXC\"\n              variant=\"outlined\"\n              value={tokenixcType}\n              onChange={async (e) => {\n                handleChangeTokenIxc(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingTokenIxcType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>*/}\n      {/*-----------------MK-AUTH DESATIVADO 4.6.5-----------------*/}\n      {/*<Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"MK-AUTH\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipmkauth\"\n              name=\"ipmkauth\"\n              margin=\"dense\"\n              label=\"Ip Mk-Auth\"\n              variant=\"outlined\"\n              value={ipmkauthType}\n              onChange={async (e) => {\n                handleChangeIpMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientidmkauth\"\n              name=\"clientidmkauth\"\n              margin=\"dense\"\n              label=\"Client Id\"\n              variant=\"outlined\"\n              value={clientidmkauthType}\n              onChange={async (e) => {\n                handleChangeClientIdMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientIdMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientsecretmkauth\"\n              name=\"clientsecretmkauth\"\n              margin=\"dense\"\n              label=\"Client Secret\"\n              variant=\"outlined\"\n              value={clientsecretmkauthType}\n              onChange={async (e) => {\n                handleChangeClientSecrectMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientSecrectMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>*/}\n      {/*-----------------ASAAS-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"ASAAS\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"asaas\"\n              name=\"asaas\"\n              margin=\"dense\"\n              label=\"Token Asaas\"\n              variant=\"outlined\"\n              value={asaasType}\n              onChange={async (e) => {\n                handleChangeAsaas(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingAsaasType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\n\nOnlyForSuperUser.defaultProps = {\n    user: {},\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport default OnlyForSuperUser;","import React, { useState, useEffect } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\n\nimport TabPanel from \"../../components/TabPanel\";\n\nimport SchedulesForm from \"../../components/SchedulesForm\";\nimport CompaniesManager from \"../../components/CompaniesManager\";\nimport PlansManager from \"../../components/PlansManager\";\nimport HelpsManager from \"../../components/HelpsManager\";\nimport Options from \"../../components/Settings/Options\";\n\nimport { i18n } from \"../../translate/i18n.js\";\nimport { toast } from \"react-toastify\";\n\nimport useCompanies from \"../../hooks/useCompanies\";\nimport useAuth from \"../../hooks/useAuth.js\";\nimport useSettings from \"../../hooks/useSettings\";\n\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  mainPaper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    flex: 1,\n  },\n  tab: {\n    backgroundColor: theme.palette.options,\n    borderRadius: 4,\n  },\n  paper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  container: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n  },\n  control: {\n    padding: theme.spacing(1),\n  },\n  textfield: {\n    width: \"100%\",\n  },\n}));\n\nconst SettingsCustom = () => {\n  const classes = useStyles();\n  const [tab, setTab] = useState(\"options\");\n  const [schedules, setSchedules] = useState([]);\n  const [company, setCompany] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [settings, setSettings] = useState({});\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n\n  const { getCurrentUserInfo } = useAuth();\n  const { find, updateSchedules } = useCompanies();\n  const { getAll: getAllSettings } = useSettings();\n\n  useEffect(() => {\n    async function findData() {\n      setLoading(true);\n      try {\n        const companyId = localStorage.getItem(\"companyId\");\n        const company = await find(companyId);\n        const settingList = await getAllSettings();\n        setCompany(company);\n        setSchedules(company.schedules);\n        setSettings(settingList);\n\n        if (Array.isArray(settingList)) {\n          const scheduleType = settingList.find(\n            (d) => d.key === \"scheduleType\"\n          );\n          if (scheduleType) {\n            setSchedulesEnabled(scheduleType.value === \"company\");\n          }\n        }\n\n        const user = await getCurrentUserInfo();\n        setCurrentUser(user);\n      } catch (e) {\n        toast.error(e);\n      }\n      setLoading(false);\n    }\n    findData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleTabChange = (event, newValue) => {\n      async function findData() {\n        setLoading(true);\n        try {\n          const companyId = localStorage.getItem(\"companyId\");\n          const company = await find(companyId);\n          const settingList = await getAllSettings();\n          setCompany(company);\n          setSchedules(company.schedules);\n          setSettings(settingList);\n  \n          if (Array.isArray(settingList)) {\n            const scheduleType = settingList.find(\n              (d) => d.key === \"scheduleType\"\n            );\n            if (scheduleType) {\n              setSchedulesEnabled(scheduleType.value === \"company\");\n            }\n          }\n  \n          const user = await getCurrentUserInfo();\n          setCurrentUser(user);\n        } catch (e) {\n          toast.error(e);\n        }\n        setLoading(false);\n      }\n      findData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    setTab(newValue);\n  };\n\n  const handleSubmitSchedules = async (data) => {\n    setLoading(true);\n    try {\n      setSchedules(data);\n      await updateSchedules({ id: company.id, schedules: data });\n      toast.success(\"Horários atualizados com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const isSuper = () => {\n    return currentUser.super;\n  };\n\n  return (\n    <MainContainer className={classes.root}>\n      <MainHeader>\n        <Title>{i18n.t(\"settings.title\")}</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} elevation={1}>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          onChange={handleTabChange}\n          className={classes.tab}\n        >\n          <Tab label=\"Opções\" value={\"options\"} />\n          {schedulesEnabled && <Tab label=\"Horários\" value={\"schedules\"} />}\n          {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\n          {isSuper() ? <Tab label=\"Planos\" value={\"plans\"} /> : null}\n          {isSuper() ? <Tab label=\"Ajuda\" value={\"helps\"} /> : null}\n        </Tabs>\n        <Paper className={classes.paper} elevation={0}>\n          <TabPanel\n            className={classes.container}\n            value={tab}\n            name={\"schedules\"}\n          >\n            <SchedulesForm\n              loading={loading}\n              onSubmit={handleSubmitSchedules}\n              initialValues={schedules}\n            />\n          </TabPanel>\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"companies\"}\n              >\n                <CompaniesManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"plans\"}\n              >\n                <PlansManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"helps\"}\n              >\n                <HelpsManager />\n              </TabPanel>\n            )}\n          />\n          <TabPanel className={classes.container} value={tab} name={\"options\"}>\n            <Options\n              settings={settings}\n              scheduleTypeChanged={(value) =>\n                setSchedulesEnabled(value === \"company\")\n              }\n            />\n          </TabPanel>\n        </Paper>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default SettingsCustom;\n","import React from 'react';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport { TextField } from '@material-ui/core';\n\nexport default function InputField(props) {\n  const { errorText, ...rest } = props;\n  const [field, meta] = useField(props);\n\n  function _renderHelperText() {\n    const [touched, error] = at(meta, 'touched', 'error');\n    if (touched && error) {\n      return error;\n    }\n  }\n\n  return (\n    <TextField\n      type=\"text\"\n      error={meta.touched && meta.error && true}\n      helperText={_renderHelperText()}\n      {...field}\n      {...rest}\n    />\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport {\n  InputLabel,\n  FormControl,\n  Select,\n  MenuItem,\n  FormHelperText\n} from '@material-ui/core';\n\nfunction SelectField(props) {\n  const { label, data, ...rest } = props;\n  const [field, meta] = useField(props);\n  const { value: selectedValue } = field;\n  const [touched, error] = at(meta, 'touched', 'error');\n  const isError = touched && error && true;\n  function _renderHelperText() {\n    if (isError) {\n      return <FormHelperText>{error}</FormHelperText>;\n    }\n  }\n\n  return (\n    <FormControl {...rest} error={isError}>\n      <InputLabel>{label}</InputLabel>\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\n        {data.map((item, index) => (\n          <MenuItem key={index} value={item.value}>\n            {item.label}\n          </MenuItem>\n        ))}\n      </Select>\n      {_renderHelperText()}\n    </FormControl>\n  );\n}\n\nSelectField.defaultProps = {\n  data: []\n};\n\nSelectField.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default SelectField;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { InputField, SelectField } from \"../../FormFields\";\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nconst countries = [\n  {\n    value: \"BR\",\n    label: \"Brasil\",\n  },\n  {\n    value: \"usa\",\n    label: \"United States\",\n  },\n];\n\nexport default function AddressForm(props) {\n\n  const { user } = useContext(AuthContext);\n  const [billingName, setBillingName] = useState(user.company.billingName);\n  const [addressZipCode, setAddressZipCode] = useState(user.company.addressZipCode);\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\n  const [addressState, setAddressState] = useState(user.company.addressState);\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\n  const [addressDistrict, setAddressDistrict] = useState(user.company.addressDistrict);\n\n  const {\n    formField: {\n      firstName,\n      address1,\n      city,\n      state,\n      zipcode,\n      country,\n    },\n    setFieldValue\n  } = props;\n  useEffect(() => {\n    setFieldValue(\"firstName\", billingName)\n    setFieldValue(\"zipcode\", addressZipCode)\n    setFieldValue(\"address2\", addressStreet)\n    setFieldValue(\"state\", addressState)\n    setFieldValue(\"city\", addressCity)\n    setFieldValue(\"country\", addressDistrict)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Vamos precisar de algumas informações\n      </Typography>\n      <Grid container spacing={3}>\n\n        <Grid item xs={6} sm={6}>\n          <InputField name={firstName.name} label={firstName.label} fullWidth\n            value={billingName}\n            onChange={(e) => {\n              setBillingName(e.target.value)\n              setFieldValue(\"firstName\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={6} sm={6}>\n          <SelectField\n            name={country.name}\n            label={country.label}\n            data={countries}\n            fullWidth\n            value={addressDistrict}\n            onChange={(e) => {\n              setAddressDistrict(e.target.value)\n              setFieldValue(\"country\", e.target.value)\n            }\n            }\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={zipcode.name}\n            label={zipcode.label}\n            fullWidth\n            value={addressZipCode}\n            onChange={(e) => {\n              setAddressZipCode(e.target.value)\n              setFieldValue(\"zipcode\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={address1.name}\n            label={address1.label}\n            fullWidth\n            value={addressStreet}\n            onChange={(e) => {\n              setAddressStreet(e.target.value)\n              setFieldValue(\"address2\", e.target.value)\n\n            }}\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={state.name}\n            label={state.label}\n            fullWidth\n            value={addressState}\n            onChange={(e) => {\n              setAddressState(e.target.value)\n              setFieldValue(\"state\", e.target.value)\n\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={city.name}\n            label={city.label}\n            fullWidth\n            value={addressCity}\n            onChange={(e) => {\n              setAddressCity(e.target.value)\n              setFieldValue(\"city\", e.target.value)\n            }}\n          />\n        </Grid>\n\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, { useState, useEffect, useReducer } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Grid from '@material-ui/core/Grid';\nimport StarIcon from '@material-ui/icons/StarBorder';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport MinimizeIcon from '@material-ui/icons/Minimize';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport usePlans from \"../../../hooks/usePlans\";\nimport useCompanies from \"../../../hooks/useCompanies\";\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    ul: {\n      margin: 0,\n      padding: 0,\n      listStyle: 'none',\n    },\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n\n\n  cardHeader: {\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\n  },\n  cardPricing: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'baseline',\n    marginBottom: theme.spacing(2),\n  },\n  footer: {\n    borderTop: `1px solid ${theme.palette.divider}`,\n    marginTop: theme.spacing(8),\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  },\n\n  customCard: {\n    display: \"flex\",\n    marginTop: \"16px\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  }\n}));\n\n\nexport default function Pricing(props) {\n  const {\n    setFieldValue,\n    setActiveStep,\n    activeStep,\n  } = props;\n\n  const handleChangeAdd = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11.00;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeMin = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const handleChangeConnectionsAdd = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20.00;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeConnectionsMin = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const { list, finder } = usePlans();\n  const { find } = useCompanies();\n\n  const classes = useStyles();\n  const [usersPlans, setUsersPlans] = React.useState(3);\n  const [companiesPlans, setCompaniesPlans] = useState(0);\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\n  const [loading, setLoading] = React.useState(false);\n  const companyId = localStorage.getItem(\"companyId\");\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadCompanies();\n    }\n    fetchData();\n  }, [])\n\n  const loadCompanies = async () => {\n    setLoading(true);\n    try {\n      const companiesList = await find(companyId);\n      setCompaniesPlans(companiesList.planId);\n      await loadPlans(companiesList.planId);\n    } catch (e) {\n      console.log(e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n  const loadPlans = async (companiesPlans) => {\n    setLoading(true);\n    try {\n      const plansCompanies = await finder(companiesPlans);\n      const plans = []\n\n      //plansCompanies.forEach((plan) => {\n      plans.push({\n        title: plansCompanies.name,\n        planId: plansCompanies.id,\n        price: plansCompanies.value,\n        description: [\n          `${plansCompanies.users} Usuários`,\n          `${plansCompanies.connections} Conexão`,\n          `${plansCompanies.queues} Filas`\n        ],\n        users: plansCompanies.users,\n        connections: plansCompanies.connections,\n        queues: plansCompanies.queues,\n        buttonText: 'SELECIONAR',\n        buttonVariant: 'outlined',\n      })\n\n      // setStoragePlans(data);\n      //});\n      setStoragePlans(plans);\n    } catch (e) {\n      console.log(e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n\n  const tiers = storagePlans\n  return (\n    <React.Fragment>\n      <Grid container spacing={3}>\n        {tiers.map((tier) => (\n          // Enterprise card is full width at sm breakpoint\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 12} md={12}>\n            <Card>\n              <CardHeader\n                title={tier.title}\n                subheader={tier.subheader}\n                titleTypographyProps={{ align: 'center' }}\n                subheaderTypographyProps={{ align: 'center' }}\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\n                className={classes.cardHeader}\n              />\n              <CardContent>\n                <div className={classes.cardPricing}>\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\n                    {\n\n                      <React.Fragment>\n                        R${tier.price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\n                      </React.Fragment>\n                    }\n                  </Typography>\n                  <Typography variant=\"h6\" color=\"textSecondary\">\n                    /mês\n                  </Typography>\n                </div>\n                <ul>\n                  {tier.description.map((line) => (\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\n                      {line}\n                    </Typography>\n                  ))}\n                </ul>\n              </CardContent>\n              <CardActions>\n                <Button\n                  fullWidth\n                  variant={tier.buttonVariant}\n                  color=\"primary\"\n                  onClick={() => {\n                    if (tier.custom) {\n                      setFieldValue(\"plan\", JSON.stringify({\n                        users: usersPlans,\n                        connections: connectionsPlans,\n                        price: customValuePlans,\n                      }));\n                    } else {\n                      setFieldValue(\"plan\", JSON.stringify(tier));\n                    }\n                    setActiveStep(activeStep + 1);\n                  }\n                  }\n                >\n                  {tier.buttonText}\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </React.Fragment>\n  );\n}","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  listItem: {\n    padding: theme.spacing(1, 0)\n  },\n  total: {\n    fontWeight: '700'\n  },\n  title: {\n    marginTop: theme.spacing(2)\n  }\n}));\n","import React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\nimport useStyles from './styles';\n\nfunction PaymentDetails(props) {\n  const { formValues } = props;\n  const classes = useStyles();\n  const { plan } = formValues;\n\n  const newPlan = JSON.parse(plan);\n  const { users, connections, price } = newPlan;\n  return (\n    <Grid item xs={12} sm={12}>\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\n        Detalhes do plano\n      </Typography>\n      <Typography gutterBottom>Usuários: {users}</Typography>\n      <Typography gutterBottom>Whatsapps: {connections}</Typography>\n      <Typography gutterBottom>Cobrança: Mensal</Typography>\n      <Typography gutterBottom>Total: R${price.toLocaleString('pt-br', {minimumFractionDigits: 2})}</Typography>\n    </Grid>\n  );\n}\n\nexport default PaymentDetails;\n","import ReviewOrder from './ReviewOrder';\nexport default ReviewOrder;\n","import React from 'react';\nimport { useFormikContext } from 'formik';\nimport { Typography, Grid } from '@material-ui/core';\nimport ShippingDetails from './ShippingDetails';\nimport PaymentDetails from './PaymentDetails';\n\nexport default function ReviewOrder() {\n  const { values: formValues } = useFormikContext();\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Resumo da assinatura\n      </Typography>\n      <Grid container spacing={2}>\n        <ShippingDetails formValues={formValues} />\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n`;\nexport const Total = styled.div`\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n`;\n\nexport const SuccessContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n`;\n\nexport const CheckoutWrapper = styled.div`\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n`;","import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport QRCode from 'react-qr-code';\nimport { SuccessContent, Total } from './style';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\nimport { SocketContext } from \"../../../context/Socket/SocketContext\";\nimport { useDate } from \"../../../hooks/useDate\";\nimport { toast } from \"react-toastify\";\n\nfunction CheckoutSuccess(props) {\n\n  const { pix } = props;\n  const [pixString,] = useState(pix.qrcode.qrcode);\n  const [copied, setCopied] = useState(false);\n  const history = useHistory();\n\n  const { dateToClient } = useDate();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n    \n    socket.on(`company-${companyId}-payment`, (data) => {\n\n      if (data.action === \"CONCLUIDA\") {\n        toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 4000);\n      }\n    });\n  }, [history, socketManager]);\n\n  const handleCopyQR = () => {\n    setTimeout(() => {\n      setCopied(false);\n    }, 1 * 1000);\n    setCopied(true);\n  };\n\n  return (\n    <React.Fragment>\n      <Total>\n        <span>TOTAL</span>\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\n      </Total>\n      <SuccessContent>\n        <QRCode value={pixString} />\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\n          <button className=\"copy-button\" type=\"button\">\n            {copied ? (\n              <>\n                <span>Copiado</span>\n                <FaCheckCircle size={18} />\n              </>\n            ) : (\n              <>\n                <span>Copiar código QR</span>\n                <FaCopy size={18} />\n              </>\n            )}\n          </button>\n        </CopyToClipboard>\n        <span>\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\n          código Pix acima :)\n        </span>\n      </SuccessContent>\n    </React.Fragment>\n  );\n}\n\nexport default CheckoutSuccess;\n","import CheckoutSuccess from './CheckoutSuccess';\nexport default CheckoutSuccess;\n","export default {\n  formId: 'checkoutForm',\n  formField: {\n    firstName: {\n      name: 'firstName',\n      label: 'Nome completo*',\n      requiredErrorMsg: 'O nome completo é obrigatório'\n    },\n    lastName: {\n      name: 'lastName',\n      label: 'Last name*',\n      requiredErrorMsg: 'Last name is required'\n    },\n    address1: {\n      name: 'address2',\n      label: 'Endereço*',\n      requiredErrorMsg: 'O Endereço é obrigatório'\n    },\n\n    city: {\n      name: 'city',\n      label: 'Cidade*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    state: {\n      name: 'state',\n      label: 'Estado*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    zipcode: {\n      name: 'zipcode',\n      label: 'CEP*',\n      requiredErrorMsg: 'CEP é obrigatório',\n      invalidErrorMsg: 'Formato de CEP inválido'\n    },\n    country: {\n      name: 'country',\n      label: 'País*',\n      requiredErrorMsg: 'País é obrigatório'\n    },\n    useAddressForPaymentDetails: {\n      name: 'useAddressForPaymentDetails',\n      label: 'Use this address for payment details'\n    },\n    invoiceId: {\n      name: 'invoiceId',\n      label: 'Use this invoiceId'\n    },\n    nameOnCard: {\n      name: 'nameOnCard',\n      label: 'Name on card*',\n      requiredErrorMsg: 'Name on card is required'\n    },\n    cardNumber: {\n      name: 'cardNumber',\n      label: 'Card number*',\n      requiredErrorMsg: 'Card number is required',\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\n    },\n    expiryDate: {\n      name: 'expiryDate',\n      label: 'Expiry date*',\n      requiredErrorMsg: 'Expiry date is required',\n      invalidErrorMsg: 'Expiry date is not valid'\n    },\n    cvv: {\n      name: 'cvv',\n      label: 'CVV*',\n      requiredErrorMsg: 'CVV is required',\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\n    }\n  }\n};\n","import * as Yup from 'yup';\nimport checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    address1,\n    city,\n    zipcode,\n    country,\n  }\n} = checkoutFormModel;\n\n\nexport default [\n  Yup.object().shape({\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\n    [address1.name]: Yup.string().required(`${address1.requiredErrorMsg}`),\n    [city.name]: Yup.string()\n      .nullable()\n      .required(`${city.requiredErrorMsg}`),\n    [zipcode.name]: Yup.string()\n      .required(`${zipcode.requiredErrorMsg}`),\n\n    [country.name]: Yup.string()\n      .nullable()\n      .required(`${country.requiredErrorMsg}`)\n  }),\n\n];\n","import checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    lastName,\n    address1,\n    city,\n    state,\n    zipcode,\n    country,\n    useAddressForPaymentDetails,\n    nameOnCard,\n    cardNumber,\n    invoiceId,\n    cvv\n  }\n} = checkoutFormModel;\n\nexport default {\n  [firstName.name]: '',\n  [lastName.name]: '',\n  [address1.name]: '',\n  [city.name]: '',\n  [state.name]: '',\n  [zipcode.name]: '',\n  [country.name]: '',\n  [useAddressForPaymentDetails.name]: false,\n  [nameOnCard.name]: '',\n  [cardNumber.name]: '',\n  [invoiceId.name]: '',\n  [cvv.name]: ''\n};\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  stepper: {\n    padding: theme.spacing(3, 0, 5)\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1)\n  },\n  wrapper: {\n    margin: theme.spacing(1),\n    position: 'relative'\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%'\n  }\n}));\n","import CheckoutPage from './CheckoutPage';\nexport default CheckoutPage;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Stepper,\n  Step,\n  StepLabel,\n  Button,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Formik, Form } from \"formik\";\n\nimport AddressForm from \"./Forms/AddressForm\";\nimport PaymentForm from \"./Forms/PaymentForm\";\nimport ReviewOrder from \"./ReviewOrder\";\nimport CheckoutSuccess from \"./CheckoutSuccess\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nimport validationSchema from \"./FormModel/validationSchema\";\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\nimport formInitialValues from \"./FormModel/formInitialValues\";\n\nimport useStyles from \"./styles\";\nimport Invoices from \"../../pages/Financeiro\";\n\n\nexport default function CheckoutPage(props) {\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\n  const { formId, formField } = checkoutFormModel;\n  \n  \n  \n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(1);\n  const [datePayment, setDatePayment] = useState(null);\n  const [invoiceId, setinvoiceId] = useState(props.Invoice.id);\n  const currentValidationSchema = validationSchema[activeStep];\n  const isLastStep = activeStep === steps.length - 1;\n  const { user } = useContext(AuthContext);\n\nfunction _renderStepContent(step, setFieldValue, setActiveStep, values ) {\n\n  switch (step) {\n    case 0:\n      return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue}  />;\n    case 1:\n      return <PaymentForm \n      formField={formField} \n      setFieldValue={setFieldValue} \n      setActiveStep={setActiveStep} \n      activeStep={step} \n      invoiceId={invoiceId}\n      values={values}\n      />;\n    case 2:\n      return <ReviewOrder />;\n    default:\n      return <div>Not Found</div>;\n  }\n}\n\n\n  async function _submitForm(values, actions) {\n    try {\n      const plan = JSON.parse(values.plan);\n      const newValues = {\n        firstName: values.firstName,\n        lastName: values.lastName,\n        address2: values.address2,\n        city: values.city,\n        state: values.state,\n        zipcode: values.zipcode,\n        country: values.country,\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\n        nameOnCard: values.nameOnCard,\n        cardNumber: values.cardNumber,\n        cvv: values.cvv,\n        plan: values.plan,\n        price: plan.price,\n        users: plan.users,\n        connections: plan.connections,\n        invoiceId: invoiceId\n      }\n\n      const { data } = await api.post(\"/subscription\", newValues);\n      setDatePayment(data)\n      actions.setSubmitting(false);\n      setActiveStep(activeStep + 1);\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realização do pagamento\");\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  function _handleSubmit(values, actions) {\n    if (isLastStep) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  function _handleBack() {\n    setActiveStep(activeStep - 1);\n  }\n\n  return (\n    <React.Fragment>\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n        Falta pouco!\n      </Typography>\n      <Stepper activeStep={activeStep} className={classes.stepper}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <React.Fragment>\n        {activeStep === steps.length ? (\n          <CheckoutSuccess pix={datePayment} />\n        ) : (\n          <Formik\n            initialValues={{\n              ...user, \n              ...formInitialValues\n            }}\n            validationSchema={currentValidationSchema}\n            onSubmit={_handleSubmit}\n          >\n            {({ isSubmitting, setFieldValue, values }) => (\n              <Form id={formId}>\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\n\n                <div className={classes.buttons}>\n                  {activeStep !== 1 && (\n                    <Button onClick={_handleBack} className={classes.button}>\n                      VOLTAR\n                    </Button>\n                  )}\n                  <div className={classes.wrapper}>\n                    {activeStep !== 1 && (\n                      <Button\n                        disabled={isSubmitting}\n                        type=\"submit\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                      >\n                        {isLastStep ? \"PAGAR\" : \"PRÓXIMO\"}\n                      </Button>\n                    )}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </div>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        )}\n      </React.Fragment>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\n\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CheckoutPage from \"../CheckoutPage/\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\n\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\n        <DialogContent dividers>\n          <CheckoutPage\n            Invoice={Invoice}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nimport moment from \"moment\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INVOICES\") {\n    const invoices = action.payload;\n    const newUsers = [];\n\n    invoices.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Invoices = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [invoices, dispatch] = useReducer(reducer, []);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n\n\n  const handleOpenContactModal = (invoices) => {\n    setStoragePlans(invoices);\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchInvoices = async () => {\n        try {\n          const { data } = await api.get(\"/invoices/all\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INVOICES\", payload: data });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchInvoices();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n  const rowStyle = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();    \n    if (dias < 0 && record.status !== \"paid\") {\n      return { backgroundColor: \"#ffbcbc9c\" };\n    }\n  };\n\n  const rowStatus = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();    \n    const status = record.status;\n    if (status === \"paid\") {\n      return \"Pago\";\n    }\n    if (dias < 0) {\n      return \"Vencido\";\n    } else {\n      return \"Em Aberto\"\n    }\n\n  }\n\n  return (\n    <MainContainer>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        Invoice={storagePlans}\n        contactId={selectedContactId}\n\n      ></SubscriptionModal>\n      <MainHeader>\n        <Title>Faturas</Title>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Id</TableCell>\n              <TableCell align=\"center\">Detalhes</TableCell>\n              <TableCell align=\"center\">Valor</TableCell>\n              <TableCell align=\"center\">Data Venc.</TableCell>\n              <TableCell align=\"center\">Status</TableCell>\n              <TableCell align=\"center\">Ação</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {invoices.map((invoices) => (\n                <TableRow style={rowStyle(invoices)} key={invoices.id}>\n                  <TableCell align=\"center\">{invoices.id}</TableCell>\n                  <TableCell align=\"center\">{invoices.detail}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{invoices.value.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</TableCell>\n                  <TableCell align=\"center\">{moment(invoices.dueDate).format(\"DD/MM/YYYY\")}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{rowStatus(invoices)}</TableCell>\n                  <TableCell align=\"center\">\n                    {rowStatus(invoices) !== \"Pago\" ?\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        onClick={() => handleOpenContactModal(invoices)}\n                      >\n                        PAGAR\n                      </Button> :\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\" \n                        /* color=\"secondary\"\n                        disabled */\n                      >\n                        PAGO \n                      </Button>}\n\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Invoices;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-user`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n\t\t\t<TableCell align=\"center\">\n                {i18n.t(\"users.table.id\")}\n              </TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n\t\t\t\t  <TableCell align=\"center\">{user.id}</TableCell>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport {CSVLink} from \"react-csv\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [contactTicket, setContactTicket] = useState({});\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ socketManager]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  // const handleSaveTicket = async contactId => {\n  // \tif (!contactId) return;\n  // \tsetLoading(true);\n  // \ttry {\n  // \t\tconst { data: ticket } = await api.post(\"/tickets\", {\n  // \t\t\tcontactId: contactId,\n  // \t\t\tuserId: user?.id,\n  // \t\t\tstatus: \"open\",\n  // \t\t});\n  // \t\thistory.push(`/tickets/${ticket.id}`);\n  // \t} catch (err) {\n  // \t\ttoastError(err);\n  // \t}\n  // \tsetLoading(false);\n  // };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        initialContact={contactTicket}\n        onClose={(ticket) => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n\n         <CSVLink style={{ textDecoration:'none'}} separator=\";\" filename={'contatos.csv'} data={contacts.map((contact) => ({ name: contact.name, number: contact.number, email: contact.email }))}>\n          <Button\tvariant=\"contained\" color=\"primary\"> \n          EXPORTAR CONTATOS \n          </Button>\n          </CSVLink>\t\t  \n\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setContactTicket(contact);\n                        setNewTicketModalOpen(true);\n                      }}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { BlockPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n\tconst [selectedColor, setSelectedColor] = useState(currentColor);\n\n\tconst handleChange = color => {\n\t\tsetSelectedColor(color.hex);\n\t\thandleClose();\n\t};\n\n\tconst colors = [\n\t\t\"#B80000\",\n\t\t\"#DB3E00\",\n\t\t\"#FCCB00\",\n\t\t\"#008B02\",\n\t\t\"#006B76\",\n\t\t\"#1273DE\",\n\t\t\"#004DCF\",\n\t\t\"#5300EB\",\n\t\t\"#EB9694\",\n\t\t\"#FAD0C3\",\n\t\t\"#FEF3BD\",\n\t\t\"#C1E1C5\",\n\t\t\"#BEDADC\",\n\t\t\"#C4DEF6\",\n\t\t\"#BED3F3\",\n\t\t\"#D4C4FB\",\n\t\t\"#4D4D4D\",\n\t\t\"#999999\",\n\t\t\"#F44E3B\",\n\t\t\"#FE9200\",\n\t\t\"#FCDC00\",\n\t\t\"#DBDF00\",\n\t\t\"#A4DD00\",\n\t\t\"#68CCCA\",\n\t\t\"#73D8FF\",\n\t\t\"#AEA1FF\",\n\t\t\"#FDA1FF\",\n\t\t\"#333333\",\n\t\t\"#808080\",\n\t\t\"#cccccc\",\n\t\t\"#D33115\",\n\t\t\"#E27300\",\n\t\t\"#FCC400\",\n\t\t\"#B0BC00\",\n\t\t\"#68BC00\",\n\t\t\"#16A5A5\",\n\t\t\"#009CE0\",\n\t\t\"#7B64FF\",\n\t\t\"#FA28FF\",\n\t\t\"#666666\",\n\t\t\"#B3B3B3\",\n\t\t\"#9F0500\",\n\t\t\"#C45100\",\n\t\t\"#FB9E00\",\n\t\t\"#808900\",\n\t\t\"#194D33\",\n\t\t\"#0C797D\",\n\t\t\"#0062B1\",\n\t\t\"#653294\",\n\t\t\"#AB149E\",\n\t];\n\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<BlockPicker\n\t\t\t\twidth={\"100%\"}\n\t\t\t\ttriangle=\"hide\"\n\t\t\t\tcolor={selectedColor}\n\t\t\t\tcolors={colors}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonChangeComplete={color => onChange(color.hex)}\n\t\t\t/>\n\t\t</Dialog>\n\t);\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, IconButton, StepContent, TextField } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    //height: 400,\n    [theme.breakpoints.down(\"sm\")]: {\n      maxHeight: \"20vh\",\n    },\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  input: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  addButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nexport function QueueOptionStepper({ queueId, options, updateOptions }) {\n  const classes = useStyles();\n  const [activeOption, setActiveOption] = useState(-1);\n\n  const handleOption = (index) => async () => {\n    setActiveOption(index);\n    const option = options[index];\n\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        const { data } = await api.request({\n          url: \"/queue-options\",\n          method: \"GET\",\n          params: { queueId, parentId: option.id },\n        });\n        const optionList = data.map((option) => {\n          return {\n            ...option,\n            children: [],\n            edition: false,\n          };\n        });\n        option.children = optionList;\n        updateOptions();\n      } catch (e) {\n        toastError(e);\n      }\n    }\n  };\n\n  const handleSave = async (option) => {\n    try {\n      if (option.id) {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"PUT\",\n          data: option,\n        });\n      } else {\n        const { data } = await api.request({\n          url: `/queue-options`,\n          method: \"POST\",\n          data: option,\n        });\n        option.id = data.id;\n      }\n      option.edition = false;\n      updateOptions();\n    } catch (e) {\n      toastError(e);\n    }\n  };\n\n  const handleEdition = (index) => {\n    options[index].edition = !options[index].edition;\n    updateOptions();\n  };\n\n  const handleDeleteOption = async (index) => {\n    const option = options[index];\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"DELETE\",\n        });\n      } catch (e) {\n        toastError(e);\n      }\n    }\n    options.splice(index, 1);\n    options.forEach(async (option, order) => {\n      option.option = order + 1;\n      await handleSave(option);\n    });\n    updateOptions();\n  };\n\n  const handleOptionChangeTitle = (event, index) => {\n    options[index].title = event.target.value;\n    updateOptions();\n  };\n\n  const handleOptionChangeMessage = (event, index) => {\n    options[index].message = event.target.value;\n    updateOptions();\n  };\n\n  const renderTitle = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            value={option.title}\n            onChange={(event) => handleOptionChangeTitle(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Título da opção\"\n          />\n          {option.edition && (\n            <>\n              <IconButton\n                color=\"primary\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleSave(option)}\n              >\n                <SaveIcon />\n              </IconButton>\n              <IconButton\n                variant=\"outlined\"\n                color=\"secondary\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleDeleteOption(index)}\n              >\n                <DeleteOutlineIcon />\n              </IconButton>\n            </>\n          )}\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography>\n          {option.title !== \"\" ? option.title : \"Título não definido\"}\n          <IconButton\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={() => handleEdition(index)}\n          >\n            <EditIcon />\n          </IconButton>\n        </Typography>\n      </>\n    );\n  };\n\n  const renderMessage = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            style={{ width: \"100%\" }}\n            multiline\n            value={option.message}\n            onChange={(event) => handleOptionChangeMessage(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Digite o texto da opção\"\n          />\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography onClick={() => handleEdition(index)}>\n          {option.message}\n        </Typography>\n      </>\n    );\n  };\n\n  const handleAddOption = (index) => {\n    const optionNumber = options[index].children.length + 1;\n    options[index].children.push({\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: optionNumber,\n      queueId,\n      parentId: options[index].id,\n      children: [],\n    });\n    updateOptions();\n  };\n\n  const renderStep = (option, index) => {\n    return (\n      <Step key={index}>\n        <StepLabel style={{ cursor: \"pointer\" }} onClick={handleOption(index)}>\n          {renderTitle(index)}\n        </StepLabel>\n        <StepContent>\n          {renderMessage(index)}\n\n          {option.id !== undefined && (\n            <>\n              <Button\n                color=\"primary\"\n                size=\"small\"\n                onClick={() => handleAddOption(index)}\n                startIcon={<AddIcon />}\n                variant=\"outlined\"\n                className={classes.addButton}\n              >\n                Adicionar\n              </Button>\n            </>\n          )}\n          <QueueOptionStepper\n            queueId={queueId}\n            options={option.children}\n            updateOptions={updateOptions}\n          />\n        </StepContent>\n      </Step>\n    );\n  };\n\n  const renderStepper = () => {\n    return (\n      <Stepper\n        style={{ marginBottom: 0, paddingBottom: 0 }}\n        nonLinear\n        activeStep={activeOption}\n        orientation=\"vertical\"\n      >\n        {options.map((option, index) => renderStep(option, index))}\n      </Stepper>\n    );\n  };\n\n  return renderStepper();\n}\n\nexport function QueueOptions({ queueId }) {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  useEffect(() => {\n    if (queueId) {\n      const fetchOptions = async () => {\n        try {\n          const { data } = await api.request({\n            url: \"/queue-options\",\n            method: \"GET\",\n            params: { queueId, parentId: -1 },\n          });\n          const optionList = data.map((option) => {\n            return {\n              ...option,\n              children: [],\n              edition: false,\n            };\n          });\n          setOptions(optionList);\n        } catch (e) {\n          toastError(e);\n        }\n      };\n      fetchOptions();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderStepper = () => {\n    if (options.length > 0) {\n      return (\n        <QueueOptionStepper\n          queueId={queueId}\n          updateOptions={updateOptions}\n          options={options}\n        />\n      );\n    }\n  };\n\n  const updateOptions = () => {\n    setOptions([...options]);\n  };\n\n  const addOption = () => {\n    const newOption = {\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: options.length + 1,\n      queueId,\n      parentId: null,\n      children: [],\n    };\n    setOptions([...options, newOption]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <br />\n      <Typography>\n        Opções\n        <Button\n          color=\"primary\"\n          size=\"small\"\n          onClick={addOption}\n          startIcon={<AddIcon />}\n          style={{ marginLeft: 10 }}\n          variant=\"outlined\"\n        >\n          Adicionar\n        </Button>\n      </Typography>\n      {renderStepper()}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport {\n  FormControl,\n  Grid,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Paper,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { QueueOptions } from \"../QueueOptions\";\nimport SchedulesForm from \"../SchedulesForm\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst QueueSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n  greetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    color: \"\",\n    greetingMessage: \"\",\n    outOfHoursMessage: \"\",\n    orderQueue: \"\",\n    integrationId: \"\",\n    promptId: \"\"\n  };\n\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n  const [queue, setQueue] = useState(initialState);\n  const [tab, setTab] = useState(0);\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n  const greetingRef = useRef();\n  const [integrations, setIntegrations] = useState([]);\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"08:00\", endTime: \"12:00\", },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"00:00\", endTime: \"00:00\", },\n  ]);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    api.get(`/settings`).then(({ data }) => {\n      if (Array.isArray(data)) {\n        const scheduleType = data.find((d) => d.key === \"scheduleType\");\n        if (scheduleType) {\n          setSchedulesEnabled(scheduleType.value === \"queue\");\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queueIntegration\");\n\n        setIntegrations(data.queueIntegrations);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      if (!queueId) return;\n      try {\n        const { data } = await api.get(`/queue/${queueId}`);\n        setQueue((prevState) => {\n          return { ...prevState, ...data };\n        });\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\n\n        setSchedules(data.schedules);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setQueue({\n        name: \"\",\n        color: \"\",\n        greetingMessage: \"\",\n        outOfHoursMessage: \"\",\n        orderQueue: \"\",\n        integrationId: \"\"\n      });\n    };\n  }, [queueId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setQueue(initialState);\n  };\n\n  const handleSaveQueue = async (values) => {\n    try {\n      if (queueId) {\n        await api.put(`/queue/${queueId}`, {\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\n        });\n      } else {\n        await api.post(\"/queue\", {\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\n        });\n      }\n      toast.success(\"Queue saved successfully\");\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveSchedules = async (values) => {\n    toast.success(\"Clique em salvar para registar as alterações\");\n    setSchedules(values);\n    setTab(0);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth={true}\n        open={open}\n        onClose={handleClose}\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {queueId\n            ? `${i18n.t(\"queueModal.title.edit\")}`\n            : `${i18n.t(\"queueModal.title.add\")}`}\n        </DialogTitle>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          onChange={(_, v) => setTab(v)}\n          aria-label=\"disabled tabs example\"\n        >\n          <Tab label=\"Dados da Fila\" />\n          {schedulesEnabled && <Tab label=\"Horários de Atendimento\" />}\n        </Tabs>\n        {tab === 0 && (\n          <Paper>\n            <Formik\n              initialValues={queue}\n              enableReinitialize={true}\n              validationSchema={QueueSchema}\n              onSubmit={(values, actions) => {\n                setTimeout(() => {\n                  handleSaveQueue(values);\n                  actions.setSubmitting(false);\n                }, 400);\n              }}\n            >\n              {({ touched, errors, isSubmitting, values }) => (\n                <Form>\n                  <DialogContent dividers>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.name\")}\n                      autoFocus\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.color\")}\n                      name=\"color\"\n                      id=\"color\"\n                      onFocus={() => {\n                        setColorPickerModalOpen(true);\n                        greetingRef.current.focus();\n                      }}\n                      error={touched.color && Boolean(errors.color)}\n                      helperText={touched.color && errors.color}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <div\n                              style={{ backgroundColor: values.color }}\n                              className={classes.colorAdorment}\n                            ></div>\n                          </InputAdornment>\n                        ),\n                        endAdornment: (\n                          <IconButton\n                            size=\"small\"\n                            color=\"default\"\n                            onClick={() => setColorPickerModalOpen(true)}\n                          >\n                            <Colorize />\n                          </IconButton>\n                        ),\n                      }}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <ColorPicker\n                      open={colorPickerModalOpen}\n                      handleClose={() => setColorPickerModalOpen(false)}\n                      onChange={(color) => {\n                        values.color = color;\n                        setQueue(() => {\n                          return { ...values, color };\n                        });\n                      }}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.orderQueue\")}\n                      name=\"orderQueue\"\n                      type=\"orderQueue\"\n                      error={touched.orderQueue && Boolean(errors.orderQueue)}\n                      helperText={touched.orderQueue && errors.orderQueue}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField1}\n                    />\n                    <div>\n                      <FormControl\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.FormControl}\n                        fullWidth\n                      >\n                        <InputLabel id=\"integrationId-selection-label\">\n                          {i18n.t(\"queueModal.form.integrationId\")}\n                        </InputLabel>\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueModal.form.integrationId\")}\n                          name=\"integrationId\"\n                          id=\"integrationId\"\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\n                          labelId=\"integrationId-selection-label\"\n                          value={values.integrationId || \"\"}\n                        >\n                          <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                          {integrations.map((integration) => (\n                            <MenuItem key={integration.id} value={integration.id}>\n                              {integration.name}\n                            </MenuItem>\n                          ))}\n                        </Field>\n\n                      </FormControl>\n                      <FormControl\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                      >\n                        <InputLabel>\n                          {i18n.t(\"whatsappModal.form.prompt\")}\n                        </InputLabel>\n                        <Select\n                          labelId=\"dialog-select-prompt-label\"\n                          id=\"dialog-select-prompt\"\n                          name=\"promptId\"\n                          value={selectedPrompt || \"\"}\n                          onChange={handleChangePrompt}\n                          label={i18n.t(\"whatsappModal.form.prompt\")}\n                          fullWidth\n                          MenuProps={{\n                            anchorOrigin: {\n                              vertical: \"bottom\",\n                              horizontal: \"left\",\n                            },\n                            transformOrigin: {\n                              vertical: \"top\",\n                              horizontal: \"left\",\n                            },\n                            getContentAnchorEl: null,\n                          }}\n                        >\n                          {prompts.map((prompt) => (\n                            <MenuItem\n                              key={prompt.id}\n                              value={prompt.id}\n                            >\n                              {prompt.name}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    </div>\n                    <div style={{ marginTop: 5 }}>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"queueModal.form.greetingMessage\")}\n                        type=\"greetingMessage\"\n                        multiline\n                        inputRef={greetingRef}\n                        rows={5}\n                        fullWidth\n                        name=\"greetingMessage\"\n                        error={\n                          touched.greetingMessage &&\n                          Boolean(errors.greetingMessage)\n                        }\n                        helperText={\n                          touched.greetingMessage && errors.greetingMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                      {schedulesEnabled && (\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                          type=\"outOfHoursMessage\"\n                          multiline\n                          inputRef={greetingRef}\n                          rows={5}\n                          fullWidth\n                          name=\"outOfHoursMessage\"\n                          error={\n                            touched.outOfHoursMessage &&\n                            Boolean(errors.outOfHoursMessage)\n                          }\n                          helperText={\n                            touched.outOfHoursMessage && errors.outOfHoursMessage\n                          }\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                        />\n                      )}\n                    </div>\n                    <QueueOptions queueId={queueId} />\n                  </DialogContent>\n                  <DialogActions>\n                    <Button\n                      onClick={handleClose}\n                      color=\"secondary\"\n                      disabled={isSubmitting}\n                      variant=\"outlined\"\n                    >\n                      {i18n.t(\"queueModal.buttons.cancel\")}\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      color=\"primary\"\n                      disabled={isSubmitting}\n                      variant=\"contained\"\n                      className={classes.btnWrapper}\n                    >\n                      {queueId\n                        ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n                        : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n                      {isSubmitting && (\n                        <CircularProgress\n                          size={24}\n                          className={classes.buttonProgress}\n                        />\n                      )}\n                    </Button>\n                  </DialogActions>\n                </Form>\n              )}\n            </Formik>\n          </Paper>\n        )}\n        {tab === 1 && (\n          <Paper style={{ padding: 20 }}>\n            <SchedulesForm\n              loading={false}\n              onSubmit={handleSaveSchedules}\n              initialValues={schedules}\n              labelSaveButton=\"Adicionar\"\n            />\n          </Paper>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState, useContext } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-queue`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n\t\t\t   <TableCell align=\"center\">\n                {i18n.t(\"queues.table.id\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.orderQueue\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n\t\t\t\t<TableCell align=\"center\">{queue.id}</TableCell>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.orderQueue}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { FormControlLabel, Switch } from '@material-ui/core';\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\")\n});\n\nconst TagModal = ({ open, onClose, tagId, reload }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tkanban: 0\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\tconst [ kanban, setKanban] = useState(0);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetKanban(data.kanban);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleKanbanChange = (e) => {\n\t\tsetKanban( e.target.checked ? 1 : 0);\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user.id, kanban };\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"tagModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{(tagId ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.add\")}`)}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{(user.profile === \"admin\" || user.profile === \"supervisor\") && (\n                                <>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n        \t\t\t\t\t\t\t<FormControlLabel\n          \t\t\t\t\t\t\t\tcontrol={\n            \t\t\t\t\t\t\t\t<Checkbox\n             \t\t\t\t\t\t\t\t\tchecked={kanban === 1}\n             \t\t\t\t\t\t\t\t\tonChange={handleKanbanChange}\n              \t\t\t\t\t\t\t\t\tvalue={kanban}\n              \t\t\t\t\t\t\t\t\tcolor=\"primary\"\n            \t\t\t\t\t\t\t\t/>\n          \t\t\t\t\t\t\t\t}\n          \t\t\t\t\t\t\t\tlabel=\"Kanban\"\n          \t\t\t\t\t\t\t\tlabelPlacement=\"start\"\n        \t\t\t\t\t\t\t/>\n      \t\t\t\t\t\t\t</div>\n      \t\t\t\t\t\t\t<br />\n                                </>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = socketManager.getSocket(user.companyId);\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager, user]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\nreturn (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"tags.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"tags.buttons.add\")}\n          </Button>\t\t  \n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.tickets\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\n// import api from \"../../services/api\";\nimport axios from \"axios\";\nimport usePlans from \"../../hooks/usePlans\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    paddingBottom: 100\n  },\n  mainHeader: {\n    marginTop: theme.spacing(1),\n  },\n  elementMargin: {\n    padding: theme.spacing(2),\n  },\n  formContainer: {\n    maxWidth: 500,\n  },\n  textRight: {\n    textAlign: \"right\"\n  }\n}));\n\nconst MessagesAPI = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [formMessageTextData,] = useState({ token: '', number: '', body: '' })\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '' })\n  const [file, setFile] = useState({})\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useExternalApi) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const getEndpoint = () => {\n    return process.env.REACT_APP_BACKEND_URL + '/api/messages/send'\n  }\n\n  const handleSendTextMessage = async (values) => {\n    const { number, body } = values;\n    const data = { number, body };\n    try {\n      await axios.request({\n        url: getEndpoint(),\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${values.token}`\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const handleSendMediaMessage = async (values) => {\n    try {\n      const firstFile = file[0];\n      const data = new FormData();\n      data.append('number', values.number);\n      data.append('body', firstFile.name);\n      data.append('medias', firstFile);\n      await axios.request({\n        url: getEndpoint(),\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'multipart/form-data',\n          'Authorization': `Bearer ${values.token}`\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const renderFormMessageText = () => {\n    return (\n      <Formik\n        initialValues={formMessageTextData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendTextMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\n                  name=\"body\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {isSubmitting ? (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  ) : 'Enviar'}\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  const renderFormMessageMedia = () => {\n    return (\n      <Formik\n        initialValues={formMessageMediaData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendMediaMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n            document.getElementById('medias').files = null\n            document.getElementById('medias').value = null\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {isSubmitting ? (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  ) : 'Enviar'}\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  return (\n    <Paper\n      className={classes.mainPaper}\n      style={{marginLeft: \"5px\"}}\n      // className={classes.elementMargin}\n      variant=\"outlined\"\n    >\n      <Typography variant=\"h5\">\n        Documentação para envio de mensagens\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Métodos de Envio\n      </Typography>\n      <Typography component=\"div\">\n        <ol>\n          <li>Mensagens de Texto</li>\n          <li>Mensagens de Media</li>\n        </ol>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Instruções\n      </Typography>\n      <Typography className={classes.elementMargin} component=\"div\">\n        <b>Observações importantes</b><br />\n        <ul>\n          <li>Antes de enviar mensagens, é necessário o cadastro do token vinculado à conexão que enviará as mensagens. <br />Para realizar o cadastro acesse o menu \"Conexões\", clique no botão editar da conexão e insira o token no devido campo.</li>\n          <li>\n            O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:\n            <ul>\n              <li>Código do país</li>\n              <li>DDD</li>\n              <li>Número</li>\n            </ul>\n          </li>\n        </ul>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        1. Mensagens de Texto\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> Authorization (Bearer token) e Content-Type (application/json) <br />\n            <b>Body: </b> {\"{ \\\"number\\\": \\\"5599999999999\\\", \\\"body\\\": \\\"Sua mensagem\\\" }\"}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageText()}\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        2. Mensagens de Media\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> Authorization (Bearer token) e Content-Type (multipart/form-data) <br />\n            <b>FormData: </b> <br />\n            <ul>\n              <li>\n                <b>number: </b> 5599999999999\n              </li>\n              <li>\n                <b>medias: </b> arquivo\n              </li>\n            </ul>\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageMedia()}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MessagesAPI;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport useHelps from \"../../hooks/useHelps\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaperContainer: {\n    overflowY: 'auto',\n    maxHeight: 'calc(100vh - 200px)',\n  },\n  mainPaper: {\n    width: '100%',\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\n    gap: theme.spacing(3),\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3),\n  },\n  helpPaper: {\n    position: 'relative',\n    width: '100%',\n    minHeight: '340px',\n    padding: theme.spacing(2),\n    boxShadow: theme.shadows[3],\n    borderRadius: theme.spacing(1),\n    cursor: 'pointer',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    maxWidth: '340px',\n  },\n  paperHover: {\n    transition: 'transform 0.3s, box-shadow 0.3s',\n    '&:hover': {\n      transform: 'scale(1.03)',\n      boxShadow: `0 0 8px`,\n      color: theme.palette.primary.main,\n    },\n  },\n  videoThumbnail: {\n    width: '100%',\n    height: 'calc(100% - 56px)',\n    objectFit: 'cover',\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\n  },\n  videoTitle: {\n    marginTop: theme.spacing(1),\n    flex: 1,\n  },\n  videoDescription: {\n    maxHeight: '100px',\n    overflow: 'hidden',\n  },\n  videoModal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  videoModalContent: {\n    outline: 'none',\n    width: '90%',\n    maxWidth: 1024,\n    aspectRatio: '16/9',\n    position: 'relative',\n    backgroundColor: 'white',\n    borderRadius: theme.spacing(1),\n    overflow: 'hidden',\n  },\n}));\n\nconst Helps = () => {\n  const classes = useStyles();\n  const [records, setRecords] = useState([]);\n  const { list } = useHelps();\n  const [selectedVideo, setSelectedVideo] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      const helps = await list();\n      setRecords(helps);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const openVideoModal = (video) => {\n    setSelectedVideo(video);\n  };\n\n  const closeVideoModal = () => {\n    setSelectedVideo(null);\n  };\n\n  const handleModalClose = useCallback((event) => {\n    if (event.key === \"Escape\") {\n      closeVideoModal();\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleModalClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleModalClose);\n    };\n  }, [handleModalClose]);\n\n  const renderVideoModal = () => {\n    return (\n      <Modal\n        open={Boolean(selectedVideo)}\n        onClose={closeVideoModal}\n        className={classes.videoModal}\n      >\n        <div className={classes.videoModalContent}>\n          {selectedVideo && (\n            <iframe\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\n              title=\"YouTube video player\"\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n            />\n          )}\n        </div>\n      </Modal>\n    );\n  };\n\n  const renderHelps = () => {\n    return (\n      <>\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\n          {records.length ? records.map((record, key) => (\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\n              <img\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\n                alt=\"Thumbnail\"\n                className={classes.videoThumbnail}\n              />\n              <Typography variant=\"button\" className={classes.videoTitle}>\n                {record.title}\n              </Typography>\n              <Typography variant=\"caption\" className={classes.videoDescription}>\n                {record.description}\n              </Typography>\n            </Paper>\n          )) : null}\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\n      </MainHeader>\n      <div className={classes.mainPaper}>\n        {renderHelps()}\n      </div>\n      {renderVideoModal()}\n    </MainContainer>\n  );\n};\n\nexport default Helps;","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst ContactListSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst ContactListModal = ({ open, onClose, contactListId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n  };\n\n  const [contactList, setContactList] = useState(initialState);\n\n  useEffect(() => {\n    const fetchContactList = async () => {\n      if (!contactListId) return;\n      try {\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\n        setContactList((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContactList();\n  }, [contactListId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setContactList(initialState);\n  };\n\n  const handleSaveContactList = async (values) => {\n    const contactListData = { ...values };\n    try {\n      if (contactListId) {\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\n      } else {\n        await api.post(\"/contact-lists\", contactListData);\n      }\n      toast.success(i18n.t(\"contactList.dialog\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {contactListId\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contactList}\n          enableReinitialize={true}\n          validationSchema={ContactListSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContactList(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactLists.dialog.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactLists.dialog.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactListId\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListDialog from \"../../components/ContactListDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTLISTS\") {\n    const contactLists = action.payload;\n    const newContactLists = [];\n\n    contactLists.forEach((contactList) => {\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n      if (contactListIndex !== -1) {\n        state[contactListIndex] = contactList;\n      } else {\n        newContactLists.push(contactList);\n      }\n    });\n\n    return [...state, ...newContactLists];\n  }\n\n  if (action.type === \"UPDATE_CONTACTLIST\") {\n    const contactList = action.payload;\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n\n    if (contactListIndex !== -1) {\n      state[contactListIndex] = contactList;\n      return [...state];\n    } else {\n      return [contactList, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACTLIST\") {\n    const contactListId = action.payload;\n\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\n    if (contactListIndex !== -1) {\n      state.splice(contactListIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactLists = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedContactList, setSelectedContactList] = useState(null);\n  const [deletingContactList, setDeletingContactList] = useState(null);\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contactLists, dispatch] = useReducer(reducer, []);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContactLists = async () => {\n        try {\n          const { data } = await api.get(\"/contact-lists/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContactLists();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-ContactList`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const handleOpenContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(true);\n  };\n\n  const handleCloseContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditContactList = (contactList) => {\n    setSelectedContactList(contactList);\n    setContactListModalOpen(true);\n  };\n\n  const handleDeleteContactList = async (contactListId) => {\n    try {\n      await api.delete(`/contact-lists/${contactListId}`);\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContactList(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContacts = (id) => {\n    history.push(`/contact-lists/${id}/contacts`);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingContactList &&\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${\n            deletingContactList.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\n      >\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ContactListDialog\n        open={contactListModalOpen}\n        onClose={handleCloseContactListModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactListId={selectedContactList && selectedContactList.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={7} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={5} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListModal}\n                >\n                  {i18n.t(\"contactLists.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.contacts\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contactLists.map((contactList) => (\n                <TableRow key={contactList.id}>\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {contactList.contactsCount || 0}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\n                        <DownloadIcon />\n                      </IconButton>\n                    </a>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => goToContacts(contactList.id)}\n                    >\n                      <PeopleIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditContactList(contactList)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingContactList(contactList);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactLists;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactListItemModal = ({\n  open,\n  onClose,\n  contactId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const {\n    user: { companyId },\n  } = useContext(AuthContext);\n  const { contactListId } = useParams();\n\n  const initialState = {\n    name: \"\",\n    number: \"\",\n    email: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchContact = async () => {\n      if (initialValues) {\n        setContact((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!contactId) return;\n\n      try {\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\n        if (isMounted.current) {\n          setContact(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContact();\n  }, [contactId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setContact(initialState);\n  };\n\n  const handleSaveContact = async (values) => {\n    try {\n      if (contactId) {\n        await api.put(`/contact-list-items/${contactId}`, {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/contact-list-items\", {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"contactModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n        <DialogTitle id=\"form-dialog-title\">\n          {contactId\n            ? `${i18n.t(\"contactModal.title.edit\")}`\n            : `${i18n.t(\"contactModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contact}\n          enableReinitialize={true}\n          validationSchema={ContactSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContact(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  {i18n.t(\"contactModal.form.mainInfo\")}\n                </Typography>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.name\")}\n                  name=\"name\"\n                  autoFocus\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.number\")}\n                  name=\"number\"\n                  error={touched.number && Boolean(errors.number)}\n                  helperText={touched.number && errors.number}\n                  placeholder=\"5513912344321\"\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    placeholder=\"Email address\"\n                    fullWidth\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactId\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListItemModal;\n","import api from \"../../services/api\";\n\nconst useContactLists = () => {\n  const save = async (data) => {\n    const { data: responseData } = await api.request({\n      url: \"/contact-lists\",\n      method: \"POST\",\n      data,\n    });\n    return responseData;\n  };\n\n  const update = async (data) => {\n    const { data: responseData } = await api.request({\n      url: `/contact-lists/${data.id}`,\n      method: \"PUT\",\n      data,\n    });\n    return responseData;\n  };\n\n  const deleteRecord = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"DELETE\",\n    });\n    return data;\n  };\n\n  const findById = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"GET\",\n    });\n    return data;\n  };\n\n  const list = async (params) => {\n    const { data } = await api.request({\n      url: \"/contact-lists/list\",\n      method: \"GET\",\n      params,\n    });\n    return data;\n  };\n\n  return {\n    findById,\n    save,\n    update,\n    deleteRecord,\n    list,\n  };\n};\n\nexport default useContactLists;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport useContactLists from \"../../hooks/useContactLists\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactListItems = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n  const { contactListId } = useParams();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\n    useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [contactList, setContactList] = useState({});\n  const fileUploadRef = useRef(null);\n\n  const { findById: findContactList } = useContactLists();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    findContactList(contactListId).then((data) => {\n      setContactList(data);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contactListId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(`contact-list-items`, {\n            params: { searchParam, pageNumber, contactListId },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactListId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-ContactListItem`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\n      }\n\n      if (data.action === \"reload\") {\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n      }\n    });\n\n    socket.on(\n      `company-${companyId}-ContactListItem-${contactListId}`,\n      (data) => {\n        if (data.action === \"reload\") {\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n        }\n      }\n    );\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [contactListId, socketManager]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleCloseContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contact-list-items/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleImportContacts = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", fileUploadRef.current.files[0]);\n      await api.request({\n        url: `contact-lists/${contactListId}/upload`,\n        method: \"POST\",\n        data: formData,\n      });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContactLists = () => {\n    history.push(\"/contact-lists\");\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactListItemModal\n        open={contactListItemModalOpen}\n        onClose={handleCloseContactListItemModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactListItemModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={() =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleImportContacts()\n        }\n      >\n        {deletingContact ? (\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\n        ) : (\n          <>\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\n              Clique aqui para baixar planilha exemplo.\n            </a>\n          </>\n        )}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={5} item>\n            <Title>{contactList.name}</Title>\n          </Grid>\n          <Grid xs={12} sm={7} item>\n            <Grid spacing={2} container>\n              <Grid xs={12} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={goToContactLists}\n                >\n                  {i18n.t(\"contactListItems.buttons.lists\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => {\n                    fileUploadRef.current.value = null;\n                    fileUploadRef.current.click();\n                  }}\n                >\n                  {i18n.t(\"contactListItems.buttons.import\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListItemModal}\n                >\n                  {i18n.t(\"contactListItems.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <>\n          <input\n            style={{ display: \"none\" }}\n            id=\"upload\"\n            name=\"file\"\n            type=\"file\"\n            accept=\".xls,.xlsx\"\n            onChange={() => {\n              setConfirmOpen(true);\n            }}\n            ref={fileUploadRef}\n          />\n        </>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                #\n              </TableCell>\n              <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.number\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                    <IconButton>\n                      {contact.isWhatsappValid ? (\n                        <CheckCircleIcon\n                          titleAccess=\"Whatsapp Válido\"\n                          htmlColor=\"green\"\n                        />\n                      ) : (\n                        <BlockIcon\n                          titleAccess=\"Whatsapp Inválido\"\n                          htmlColor=\"grey\"\n                        />\n                      )}\n                    </IconButton>\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactListItems;\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nimport {\n    FormControl,\n    Grid,\n    InputLabel,\n    MenuItem,\n    Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst path = require('path');\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst QuickeMessageSchema = Yup.object().shape({\n    shortcode: Yup.string().required(\"Obrigatório\"),\n    //   message: Yup.string().required(\"Obrigatório\"),\n});\n\nconst QuickMessageDialog = ({ open, onClose, quickemessageId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n    const { profile } = user;\n    const messageInputRef = useRef();\n\n    const initialState = {\n        shortcode: \"\",\n        message: \"\",\n        geral: false,\n        status: true,\n    };\n\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\n    const [quickemessage, setQuickemessage] = useState(initialState);\n    const [attachment, setAttachment] = useState(null);\n    const attachmentFile = useRef(null);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!quickemessageId) return;\n\n                const { data } = await api.get(`/quick-messages/${quickemessageId}`);\n\n                setQuickemessage((prevState) => {\n                    return { ...prevState, ...data };\n                });\n            })();\n        } catch (err) {\n            toastError(err);\n        }\n    }, [quickemessageId, open]);\n\n    const handleClose = () => {\n        setQuickemessage(initialState);\n        setAttachment(null);\n        onClose();\n    };\n\n    const handleAttachmentFile = (e) => {\n      \n        const file = head(e.target.files);\n        if (file) {\n            setAttachment(file);\n        }\n    };\n\n    const handleSaveQuickeMessage = async (values) => {\n\n        const quickemessageData = { ...values, isMedia: true, mediaPath: attachment ? String(attachment.name).replace(/ /g, \"_\") : values.mediaPath ? path.basename(values.mediaPath).replace(/ /g, \"_\") : null };\n\n        try {\n            if (quickemessageId) {\n                await api.put(`/quick-messages/${quickemessageId}`, quickemessageData);\n                if (attachment != null) {\n                    const formData = new FormData();\n                    formData.append(\"typeArch\", \"quickMessage\");\n                    formData.append(\"file\", attachment);\n                    await api.post(\n                        `/quick-messages/${quickemessageId}/media-upload`,\n                        formData\n                    );\n                }\n            } else {\n                const { data } = await api.post(\"/quick-messages\", quickemessageData);\n                if (attachment != null) {\n                    const formData = new FormData();\n                    formData.append(\"typeArch\", \"quickMessage\");\n                    formData.append(\"file\", attachment);\n                    await api.post(`/quick-messages/${data.id}/media-upload`, formData);\n                }\n            }\n            toast.success(i18n.t(\"quickMessages.toasts.success\"));\n            if (typeof reload == \"function\") {\n\n                reload();\n            }\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    const deleteMedia = async () => {\n        if (attachment) {\n            setAttachment(null);\n            attachmentFile.current.value = null;\n        }\n\n        if (quickemessage.mediaPath) {\n            await api.delete(`/quick-messages/${quickemessage.id}/media-upload`);\n            setQuickemessage((prev) => ({\n                ...prev,\n                mediaPath: null,\n            }));\n            toast.success(i18n.t(\"quickMessages.toasts.deleted\"));\n            if (typeof reload == \"function\") {\n\n                reload();\n            }\n        }\n    };\n\n    const handleClickMsgVar = async (msgVar, setValueFunc) => {\n        const el = messageInputRef.current;\n        const firstHalfText = el.value.substring(0, el.selectionStart);\n        const secondHalfText = el.value.substring(el.selectionEnd);\n        const newCursorPos = el.selectionStart + msgVar.length;\n\n        setValueFunc(\"message\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n        await new Promise(r => setTimeout(r, 100));\n        messageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n    };\n\n    return (\n        <div className={classes.root}>\n            <ConfirmationModal\n                title={i18n.t(\"quickMessages.confirmationModal.deleteTitle\")}\n                open={confirmationOpen}\n                onClose={() => setConfirmationOpen(false)}\n                onConfirm={deleteMedia}\n            >\n                {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"xs\"\n                fullWidth\n                scroll=\"paper\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {quickemessageId\n                        ? `${i18n.t(\"quickMessages.dialog.edit\")}`\n                        : `${i18n.t(\"quickMessages.dialog.add\")}`}\n                </DialogTitle>\n                <div style={{ display: \"none\" }}>\n                    <input\n                        type=\"file\"\n                        ref={attachmentFile}\n                        onChange={(e) => handleAttachmentFile(e)}\n                    />\n                </div>\n                <Formik\n                    initialValues={quickemessage}\n                    enableReinitialize={true}\n                    validationSchema={QuickeMessageSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveQuickeMessage(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, setFieldValue, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <Grid spacing={2} container>\n                                    <Grid xs={12} item>\n                                        <Field\n                                            as={TextField}\n                                            autoFocus\n                                            label={i18n.t(\"quickMessages.dialog.shortcode\")}\n                                            name=\"shortcode\"\n                                            error={touched.shortcode && Boolean(errors.shortcode)}\n                                            helperText={touched.shortcode && errors.shortcode}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            fullWidth\n                                        />\n                                    </Grid>\n                                    <Grid xs={12} item>\n                                        <Field\n                                            as={TextField}\n                                            label={i18n.t(\"quickMessages.dialog.message\")}\n                                            name=\"message\"\n                                            inputRef={messageInputRef}\n                                            error={touched.message && Boolean(errors.message)}\n                                            helperText={touched.message && errors.message}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            multiline={true}\n                                            rows={7}\n                                            fullWidth\n                                        // disabled={quickemessage.mediaPath || attachment ? true : false}\n                                        />\n                                    </Grid>\n                                    <Grid item>\n                                        <MessageVariablesPicker\n                                            disabled={isSubmitting}\n                                            onClick={value => handleClickMsgVar(value, setFieldValue)}\n                                        />\n                                    </Grid>\n                                    {(quickemessage.mediaPath || attachment) && (\n                                        <Grid xs={12} item>\n                                            <Button startIcon={<AttachFileIcon />}>\n                                                {attachment ? attachment.name : quickemessage.mediaName}\n                                            </Button>\n                                            <IconButton\n                                                onClick={() => setConfirmationOpen(true)}\n                                                color=\"secondary\"\n                                            >\n                                                <DeleteOutlineIcon color=\"secondary\" />\n                                            </IconButton>\n                                        </Grid>\n                                    )}\n                                </Grid>\n                            </DialogContent>\n                            <DialogActions>\n                                {!attachment && !quickemessage.mediaPath && (\n                                    <Button\n                                        color=\"primary\"\n                                        onClick={() => attachmentFile.current.click()}\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                    >\n                                        {i18n.t(\"quickMessages.buttons.attach\")}\n                                    </Button>\n                                )}\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"quickMessages.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {quickemessageId\n                                        ? `${i18n.t(\"quickMessages.buttons.edit\")}`\n                                        : `${i18n.t(\"quickMessages.buttons.add\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default QuickMessageDialog;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\n    //console.log(\"aqui\");\n    //console.log(action);\n    //console.log(action.payload);\n    const quickmessages = action.payload;\n    const newQuickmessages = [];\n    //console.log(newQuickmessages);\n\n    if (isArray(quickmessages)) {\n      quickmessages.forEach((quickemessage) => {\n        const quickemessageIndex = state.findIndex(\n          (u) => u.id === quickemessage.id\n        );\n        if (quickemessageIndex !== -1) {\n          state[quickemessageIndex] = quickemessage;\n        } else {\n          newQuickmessages.push(quickemessage);\n        }\n      });\n    }\n\n    return [...state, ...newQuickmessages];\n  }\n\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\n    const quickemessage = action.payload;\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessage.id);\n\n    if (quickemessageIndex !== -1) {\n      state[quickemessageIndex] = quickemessage;\n      return [...state];\n    } else {\n      return [quickemessage, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\n    const quickemessageId = action.payload;\n\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\n    if (quickemessageIndex !== -1) {\n      state.splice(quickemessageIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Quickemessages = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickemessages, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchQuickemessages();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company${companyId}-quickemessage`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager, user.companyId]);\n\n  const fetchQuickemessages = async () => {\n    try {\n      const companyId = user.companyId;\n      //const searchParam = ({ companyId, userId: user.id });\n      const { data } = await api.get(\"/quick-messages\", {\n        params: { searchParam, pageNumber, userId: user.id },\n      });\n\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleCloseQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(false);\n    //window.location.reload();\n    fetchQuickemessages();\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditQuickemessage = (quickemessage) => {\n    //console.log(quickemessage);\n    setSelectedQuickemessage(quickemessage);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleDeleteQuickemessage = async (quickemessageId) => {\n    try {\n      await api.delete(`/quick-messages/${quickemessageId}`);\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickemessage(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n    fetchQuickemessages();\n    dispatch({ type: \"RESET\" });\n\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingQuickemessage && `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${deletingQuickemessage.shortcode}?`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\n      >\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickMessageDialog\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchQuickemessages();\n        }}\n        open={quickemessageModalOpen}\n        onClose={handleCloseQuickMessageDialog}\n        aria-labelledby=\"form-dialog-title\"\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenQuickMessageDialog}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"quickMessages.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.shortcode\")}\n              </TableCell>\n\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.mediaName\")}\n              </TableCell>        \n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickemessages.map((quickemessage) => (\n                <TableRow key={quickemessage.id}>\n                  <TableCell align=\"center\">{quickemessage.shortcode}</TableCell>\n\n                  <TableCell align=\"center\">\n                    {quickemessage.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickemessage(quickemessage)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickemessage(quickemessage);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Quickemessages;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Board from 'react-trello';\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  button: {\n    background: \"#10a110\",\n    border: \"none\",\n    padding: \"10px\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    borderRadius: \"5px\",\n  },\n  \n}));\n\nconst Kanban = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [tags, setTags] = useState([]);\n  const [reloadData, setReloadData] = useState(false);\n  const [isInitialLoadComplete, setIsInitialLoadComplete] = useState(false);\n\n\n  const fetchTags = async () => {\n    try {\n      const response = await api.get(\"/tags/kanban\");\n      const fetchedTags = response.data.lista || []; \n\n      setTags(fetchedTags);\n\n      // Fetch tickets after fetching tags\n      await fetchTickets(jsonString);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTags();\n  }, []);\n\n  const [file, setFile] = useState({\n    lanes: []\n  });\n\n\n  const [tickets, setTickets] = useState([]);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\n\n  const fetchTickets = async (jsonString) => {\n    try {\n      \n      const { data } = await api.get(\"/ticket/kanban\", {\n        params: {\n          queueIds: JSON.stringify(jsonString),\n          teste: true\n        }\n      });\n      setTickets(data.tickets);\n    } catch (err) {\n      console.log(err);\n      setTickets([]);\n    }\n  };\n\n\n  const popularCards = (jsonString) => {\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\n\n    const lanes = [\n      {\n        id: \"lane0\",\n        title: i18n.t(\"Em aberto\"),\n        label: \"0\",\n        cards: filteredTickets.map(ticket => ({\n          id: ticket.id.toString(),\n          label: \"Ticket nº \" + ticket.id.toString(),\n          description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n          title: ticket.contact.name,\n          draggable: true,\n          href: \"/tickets/\" + ticket.uuid,\n        })),\n      },\n      ...tags.map(tag => {\n        const filteredTickets = tickets.filter(ticket => {\n          const tagIds = ticket.tags.map(tag => tag.id);\n          return tagIds.includes(tag.id);\n        });\n\n        return {\n          id: tag.id.toString(),\n          title: tag.name,\n          label: tag.id.toString(),\n          cards: filteredTickets.map(ticket => ({\n            id: ticket.id.toString(),\n            label: \"Ticket nº \" + ticket.id.toString(),\n            description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    \n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n            title: ticket.contact.name,\n            draggable: true,\n            href: \"/tickets/\" + ticket.uuid,          \n          })),\n          style: { backgroundColor: tag.color, color: \"white\" }\n        };\n      }),\n    ];\n\n    setFile({ lanes });\n  };\n\n  const handleCardClick = (uuid) => {  \n    //console.log(\"Clicked on card with UUID:\", uuid);\n    history.push('/tickets/' + uuid);\n  };\n\n  useEffect(() => {\n    popularCards(jsonString);\n}, [tags, tickets, reloadData]);\n\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\n    try {\n        \n          await api.delete(`/ticket-tags/${targetLaneId}`);\n        toast.success('Ticket Tag Removido!');\n          await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\n        toast.success('Ticket Tag Adicionado com Sucesso!');\n\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Board \n\t\tdata={file} \n\t\tonCardMoveAcrossLanes={handleCardMove}\n\t\tstyle={{backgroundColor: 'rgba(252, 252, 252, 0.03)'}}\n    />\n    </div>\n  );\n};\n\n\nexport default Kanban;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n\tconst { isAuth, loading } = useContext(AuthContext);\n\n\tif (!isAuth && isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n\t\t\t</>\n\t\t);\n\t}\n\n\tif (isAuth && !isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <BackdropLoading />}\n\t\t\t<RouterRoute {...rest} component={Component} />\n\t\t</>\n\t);\n};\n\nexport default Route;\n","import React, { useState, useEffect, useReducer, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport \"moment/locale/pt-br\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport \"./Schedules.css\"; // Importe o arquivo CSS\n\n// Defina a função getUrlParam antes de usá-la\nfunction getUrlParam(paramName) {\n  const searchParams = new URLSearchParams(window.location.search);\n  return searchParams.get(paramName);\n}\n\nconst eventTitleStyle = {\n  fontSize: \"14px\", // Defina um tamanho de fonte menor\n  overflow: \"hidden\", // Oculte qualquer conteúdo excedente\n  whiteSpace: \"nowrap\", // Evite a quebra de linha do texto\n  textOverflow: \"ellipsis\", // Exiba \"...\" se o texto for muito longo\n};\n\nconst localizer = momentLocalizer(moment);\nvar defaultMessages = {\n  date: \"Data\",\n  time: \"Hora\",\n  event: \"Evento\",\n  allDay: \"Dia Todo\",\n  week: \"Semana\",\n  work_week: \"Agendamentos\",\n  day: \"Dia\",\n  month: \"Mês\",\n  previous: \"Anterior\",\n  next: \"Próximo\",\n  yesterday: \"Ontem\",\n  tomorrow: \"Amanhã\",\n  today: \"Hoje\",\n  agenda: \"Agenda\",\n  noEventsInRange: \"Não há agendamentos no período.\",\n  showMore: function showMore(total) {\n    return \"+\" + total + \" mais\";\n  }\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    return [...state, ...action.payload];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n    return state.filter((s) => s.id !== scheduleId);\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  return state;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n\n\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/schedules/\", {\n        params: { searchParam, pageNumber },\n      });\n\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    pageNumber,\n    contactId,\n    fetchSchedules,\n    handleOpenScheduleModalFromContactId,\n  ]);\n\n  useEffect(() => {\n    handleOpenScheduleModalFromContactId();\n    const socket = socketManager.getSocket(user.companyId);\n\n    socket.on(`company${user.companyId}-schedule`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedule });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_SCHEDULE\", payload: +data.scheduleId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [handleOpenScheduleModalFromContactId, socketManager, user]);\n\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={() => setConfirmModalOpen(false)}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ScheduleModal\n        open={scheduleModalOpen}\n        onClose={handleCloseScheduleModal}\n        reload={fetchSchedules}\n        aria-labelledby=\"form-dialog-title\"\n        scheduleId={selectedSchedule && selectedSchedule.id}\n        contactId={contactId}\n        cleanContact={cleanContact}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")} ({schedules.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\" onScroll={handleScroll}>\n        <Calendar\n          messages={defaultMessages}\n          formats={{\n          agendaDateFormat: \"DD/MM ddd\",\n          weekdayFormat: \"dddd\"\n      }}\n          localizer={localizer}\n          events={schedules.map((schedule) => ({\n            title: (\n              <div className=\"event-container\">\n                <div style={eventTitleStyle}>{schedule.contact.name}</div>\n                <DeleteOutlineIcon\n                  onClick={() => handleDeleteSchedule(schedule.id)}\n                  className=\"delete-icon\"\n                />\n                <EditIcon\n                  onClick={() => {\n                    handleEditSchedule(schedule);\n                    setScheduleModalOpen(true);\n                  }}\n                  className=\"edit-icon\"\n                />\n              </div>\n            ),\n            start: new Date(schedule.sendAt),\n            end: new Date(schedule.sendAt),\n          }))}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          style={{ height: 500 }}\n        />\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    backgroundColor: \"#fff\"\n  },\n\n  tabmsg: {\n    backgroundColor: theme.palette.campaigntab,\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst CampaignSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst CampaignModal = ({\n  open,\n  onClose,\n  campaignId,\n  initialValues,\n  onSave,\n  resetPagination,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n  const { companyId } = user;\n  const [file, setFile] = useState(null);\n\n  const initialState = {\n    name: \"\",\n    message1: \"\",\n    message2: \"\",\n    message3: \"\",\n    message4: \"\",\n    message5: \"\",\n    confirmationMessage1: \"\",\n    confirmationMessage2: \"\",\n    confirmationMessage3: \"\",\n    confirmationMessage4: \"\",\n    confirmationMessage5: \"\",\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\n    confirmation: false,\n    scheduledAt: \"\",\n    whatsappId: \"\",\n    contactListId: \"\",\n    tagListId: \"Nenhuma\",\n    companyId,\n  };\n\n  const [campaign, setCampaign] = useState(initialState);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactLists, setContactLists] = useState([]);\n  const [messageTab, setMessageTab] = useState(0);\n  const [attachment, setAttachment] = useState(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [campaignEditable, setCampaignEditable] = useState(true);\n  const attachmentFile = useRef(null);\n  const [tagLists, setTagLists] = useState([]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/files/\", {\n          params: { companyId }\n        });\n\n        setFile(data.files);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      if (initialValues) {\n        setCampaign((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      api\n        .get(`/contact-lists/list`, { params: { companyId } })\n        .then(({ data }) => setContactLists(data));\n\n      api\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\n        .then(({ data }) => setWhatsapps(data));\n\n      api.get(`/tags`, { params: { companyId } })\n        .then(({ data }) => {\n          const fetchedTags = data.tags;\n          // Perform any necessary data transformation here\n          const formattedTagLists = fetchedTags.map((tag) => ({\n            id: tag.id,\n            name: tag.name,\n          }));\n          setTagLists(formattedTagLists);\n        })\n        .catch((error) => {\n          console.error(\"Error retrieving tags:\", error);\n        });\n        \n      if (!campaignId) return;\n\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\n        setCampaign((prev) => {\n          let prevCampaignData = Object.assign({}, prev);\n\n          Object.entries(data).forEach(([key, value]) => {\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\n            } else {\n              prevCampaignData[key] = value === null ? \"\" : value;\n            }\n          });\n\n          return prevCampaignData;\n        });\n      });\n    }\n  }, [campaignId, open, initialValues, companyId]);\n\n  useEffect(() => {\n    const now = moment();\n    const scheduledAt = moment(campaign.scheduledAt);\n    const moreThenAnHour =\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\n    const isEditable =\n      campaign.status === \"INATIVA\" ||\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\n\n    setCampaignEditable(isEditable);\n  }, [campaign.status, campaign.scheduledAt]);\n\n  const handleClose = () => {\n    onClose();\n    setCampaign(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveCampaign = async (values) => {\n    try {\n      const dataValues = {};\n      Object.entries(values).forEach(([key, value]) => {\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\n        } else {\n          dataValues[key] = value === \"\" ? null : value;\n        }\n      });\n\n      if (campaignId) {\n        await api.put(`/campaigns/${campaignId}`, dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\n        }\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/campaigns\", dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\n        }\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\n    } catch (err) {\n      console.log(err);\n      toastError(err);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (campaign.mediaPath) {\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    }\n  };\n\n  const renderMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        helperText=\"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalziadas.\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const renderConfirmationMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const cancelCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {campaignEditable ? (\n            <>\n              {campaignId\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\n            </>\n          ) : (\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\n          )}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={campaign}\n          enableReinitialize={true}\n          validationSchema={CampaignSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveCampaign(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} md={9} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"confirmation-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.confirmation\"\n                        )}\n                        labelId=\"confirmation-selection-label\"\n                        id=\"confirmation\"\n                        name=\"confirmation\"\n                        error={\n                          touched.confirmation && Boolean(errors.confirmation)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value={false}>Desabilitada</MenuItem>\n                        <MenuItem value={true}>Habilitada</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"contactList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.contactList\"\n                        )}\n                        labelId=\"contactList-selection-label\"\n                        id=\"contactListId\"\n                        name=\"contactListId\"\n                        error={\n                          touched.contactListId && Boolean(errors.contactListId)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {contactLists &&\n                          contactLists.map((contactList) => (\n                            <MenuItem\n                              key={contactList.id}\n                              value={contactList.id}\n                            >\n                              {contactList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"tagList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.tagList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        labelId=\"tagList-selection-label\"\n                        id=\"tagListId\"\n                        name=\"tagListId\"\n                        error={touched.tagListId && Boolean(errors.tagListId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {Array.isArray(tagLists) &&\n                          tagLists.map((tagList) => (\n                            <MenuItem key={tagList.id} value={tagList.id}>\n                              {tagList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"whatsapp-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        labelId=\"whatsapp-selection-label\"\n                        id=\"whatsappId\"\n                        name=\"whatsappId\"\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {whatsapps &&\n                          whatsapps.map((whatsapp) => (\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\n                              {whatsapp.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\n                      name=\"scheduledAt\"\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\n                      helperText={touched.scheduledAt && errors.scheduledAt}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      type=\"datetime-local\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                  <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.FormControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"fileListId-selection-label\">{i18n.t(\"campaigns.dialog.form.fileList\")}</InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.fileList\")}\n                        name=\"fileListId\"\n                        id=\"fileListId\"\n                        placeholder={i18n.t(\"campaigns.dialog.form.fileList\")}\n                        labelId=\"fileListId-selection-label\"\n                        value={values.fileListId || \"\"}\n                      >\n                        <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                        {file.map(f => (\n                          <MenuItem key={f.id} value={f.id}>\n                            {f.name}\n                          </MenuItem>\n                        ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Tabs\n                      value={messageTab}\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      className={classes.tabmsg}\n                      onChange={(e, v) => setMessageTab(v)}\n                      variant=\"fullWidth\"\n                      centered\n                      style={{\n                        borderRadius: 2,\n                      }}\n                    >\n                      <Tab label=\"Msg. 1\" index={0} />\n                      <Tab label=\"Msg. 2\" index={1} />\n                      <Tab label=\"Msg. 3\" index={2} />\n                      <Tab label=\"Msg. 4\" index={3} />\n                      <Tab label=\"Msg. 5\" index={4} />\n                    </Tabs>\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\n                      {messageTab === 0 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message1\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage1\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message1\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 1 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message2\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage2\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message2\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 2 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message3\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage3\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message3\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 3 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message4\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage4\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message4\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 4 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message5\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage5\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message5\")}</>\n                          )}\n                        </>\n                      )}\n                    </Box>\n                  </Grid>\n                  {(campaign.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment != null\n                          ? attachment.name\n                          : campaign.mediaName}\n                      </Button>\n                      {campaignEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {campaign.status === \"CANCELADA\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => restartCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\n                  </Button>\n                )}\n                {campaign.status === \"EM_ANDAMENTO\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => cancelCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\n                  </Button>\n                )}\n                {!attachment && !campaign.mediaPath && campaignEditable && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\n                </Button>\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\n                  <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                  >\n                    {campaignId\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </Button>\n                )}\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CampaignModal;\n","/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach((campaign) => {\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Campaigns = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n\n  const { datetimeToClient } = useDate();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const fetchCampaigns = async () => {\n    try {\n      const { data } = await api.get(\"/campaigns/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCampaign = (campaign) => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId) => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  const cancelCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\n            deletingCampaign.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <CampaignModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchCampaigns();\n        }}\n        open={campaignModalOpen}\n        onClose={handleCloseCampaignModal}\n        aria-labelledby=\"form-dialog-title\"\n        campaignId={selectedCampaign && selectedCampaign.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"campaigns.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenCampaignModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"campaigns.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.contactList\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.scheduledAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.completedAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.confirmation\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {campaigns.map((campaign) => (\n                <TableRow key={campaign.id}>\n                  <TableCell align=\"center\">{campaign.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {formatStatus(campaign.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.contactListId\n                      ? campaign.contactList.name\n                      : \"Não definida\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.whatsappId\n                      ? campaign.whatsapp.name\n                      : \"Não definido\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.scheduledAt\n                      ? datetimeToClient(campaign.scheduledAt)\n                      : \"Sem agendamento\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.completedAt\n                      ? datetimeToClient(campaign.completedAt)\n                      : \"Não concluída\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.status === \"EM_ANDAMENTO\" && (\n                      <IconButton\n                        onClick={() => cancelCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PauseCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    {campaign.status === \"CANCELADA\" && (\n                      <IconButton\n                        onClick={() => restartCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PlayCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    <IconButton\n                      onClick={() =>\n                        history.push(`/campaign/${campaign.id}/report`)\n                      }\n                      size=\"small\"\n                    >\n                      <DescriptionIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditCampaign(campaign)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingCampaign(campaign);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={8} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Campaigns;\n","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport api from \"../../services/api\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport {\n  Box,\n  Button,\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst initialSettings = {\n  messageInterval: 20,\n  longerIntervalAfter: 20,\n  greaterInterval: 60,\n  variables: [],\n};\n\nconst CampaignsConfig = () => {\n  const classes = useStyles();\n\n  const [settings, setSettings] = useState(initialSettings);\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [selectedKey, setSelectedKey] = useState(null);\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\n\n  useEffect(() => {\n    api.get(\"/campaign-settings\").then(({ data }) => {\n      const settingsList = [];\n      if (Array.isArray(data) && data.length > 0) {\n        data.forEach((item) => {\n          settingsList.push([item.key, JSON.parse(item.value)]);\n        });\n        setSettings(Object.fromEntries(settingsList));\n      }\n    });\n  }, []);\n\n  const handleOnChangeVariable = (e) => {\n    if (e.target.value !== null) {\n      const changedProp = {};\n      changedProp[e.target.name] = e.target.value;\n      setVariable((prev) => ({ ...prev, ...changedProp }));\n    }\n  };\n\n  const handleOnChangeSettings = (e) => {\n    const changedProp = {};\n    changedProp[e.target.name] = e.target.value;\n    setSettings((prev) => ({ ...prev, ...changedProp }));\n  };\n\n  const addVariable = () => {\n    setSettings((prev) => {\n      const variablesExists = settings.variables.filter(\n        (v) => v.key === variable.key\n      );\n      const variables = prev.variables;\n      if (variablesExists.length === 0) {\n        variables.push(Object.assign({}, variable));\n        setVariable({ key: \"\", value: \"\" });\n      }\n      return { ...prev, variables };\n    });\n  };\n\n  const removeVariable = () => {\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\n    setSettings((prev) => ({ ...prev, variables: newList }));\n    setSelectedKey(null);\n  };\n\n  const saveSettings = async () => {\n    await api.post(\"/campaign-settings\", { settings });\n    toast.success(\"Configurações salvas\");\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={removeVariable}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Box className={classes.tabPanelsContainer}>\n          <Grid spacing={2} container>\n            <Grid xs={12} item>\n              <Typography component={\"h3\"}>Intervalos</Typography>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"messageInterval-label\">\n                  Intervalo Randômico de Disparo\n                </InputLabel>\n                <Select\n                  name=\"messageInterval\"\n                  id=\"messageInterval\"\n                  labelId=\"messageInterval-label\"\n                  label=\"Intervalo Randômico de Disparo\"\n                  value={settings.messageInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"longerIntervalAfter-label\">\n                  Intervalo Maior Após\n                </InputLabel>\n                <Select\n                  name=\"longerIntervalAfter\"\n                  id=\"longerIntervalAfter\"\n                  labelId=\"longerIntervalAfter-label\"\n                  label=\"Intervalo Maior Após\"\n                  value={settings.longerIntervalAfter}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Não definido</MenuItem>\n                  <MenuItem value={1}>1 segundo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                  <MenuItem value={80}>80 segundos</MenuItem>\n                  <MenuItem value={100}>100 segundos</MenuItem>\n                  <MenuItem value={120}>120 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"greaterInterval-label\">\n                  Intervalo de Disparo Maior\n                </InputLabel>\n                <Select\n                  name=\"greaterInterval\"\n                  id=\"greaterInterval\"\n                  labelId=\"greaterInterval-label\"\n                  label=\"Intervalo de Disparo Maior\"\n                  value={settings.greaterInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={1}>1 segundo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                  <MenuItem value={80}>80 segundos</MenuItem>\n                  <MenuItem value={100}>100 segundos</MenuItem>\n                  <MenuItem value={120}>120 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} className={classes.textRight} item>\n              <Button\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\n                color=\"primary\"\n                style={{ marginRight: 10 }}\n              >\n                Adicionar Variável\n              </Button>\n              <Button\n                onClick={saveSettings}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Salvar Configurações\n              </Button>\n            </Grid>\n            {showVariablesForm && (\n              <>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Atalho\"\n                    variant=\"outlined\"\n                    value={variable.key}\n                    name=\"key\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Conteúdo\"\n                    variant=\"outlined\"\n                    value={variable.value}\n                    name=\"value\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} className={classes.textRight} item>\n                  <Button\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\n                    color=\"primary\"\n                    style={{ marginRight: 10 }}\n                  >\n                    Fechar\n                  </Button>\n                  <Button\n                    onClick={addVariable}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    Adicionar\n                  </Button>\n                </Grid>\n              </>\n            )}\n            {settings.variables.length > 0 && (\n              <Grid xs={12} className={classes.textRight} item>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\n                      <TableCell>Atalho</TableCell>\n                      <TableCell>Conteúdo</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {Array.isArray(settings.variables) &&\n                      settings.variables.map((v, k) => (\n                        <TableRow key={k}>\n                          <TableCell>\n                            <IconButton\n                              size=\"small\"\n                              onClick={() => {\n                                setSelectedKey(v.key);\n                                setConfirmationOpen(true);\n                              }}\n                            >\n                              <DeleteOutlineIcon />\n                            </IconButton>\n                          </TableCell>\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\n                          <TableCell>{v.value}</TableCell>\n                        </TableRow>\n                      ))}\n                  </TableBody>\n                </Table>\n              </Grid>\n            )}\n          </Grid>\n        </Box>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignsConfig;\n","import React, { useEffect, useRef, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst CampaignReport = () => {\n  const classes = useStyles();\n\n  const { campaignId } = useParams();\n\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n\n  const { datetimeToClient } = useDate();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(\n          (c) => !isNull(c.confirmationRequestedAt)\n        );\n        const confirmed = contacts.filter(\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\n        );\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n\n  useEffect(() => {\n    setPercent((delivered / validContacts) * 100);\n  }, [delivered, validContacts]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n     \n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId, socketManager]);\n\n  const findCampaign = async () => {\n    setLoading(true);\n    const { data } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>Relatório da {campaign.name || \"Campanha\"}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Typography variant=\"h6\" component=\"h2\">\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\n        </Typography>\n        <Grid spacing={2} container>\n          <Grid xs={12} item>\n            <LinearProgress\n              variant=\"determinate\"\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\n              value={percent}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Contatos Válidos\"\n              value={validContacts}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.confirmation && (\n            <>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações Solicitadas\"\n                  value={confirmationRequested}\n                  loading={loading}\n                />\n              </Grid>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações\"\n                  value={confirmed}\n                  loading={loading}\n                />\n              </Grid>\n            </>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\n              title=\"Entregues\"\n              value={delivered}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.whatsappId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\n                title=\"Conexão\"\n                value={campaign.whatsapp.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          {campaign.contactListId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<ListAltIcon fontSize=\"inherit\" />}\n                title=\"Lista de Contatos\"\n                value={campaign.contactList.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\n              title=\"Agendamento\"\n              value={datetimeToClient(campaign.scheduledAt)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\n              title=\"Conclusão\"\n              value={datetimeToClient(campaign.completedAt)}\n              loading={loading}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignReport;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst AnnouncementSchema = Yup.object().shape({\n  title: Yup.string().required(\"Obrigatório\"),\n  text: Yup.string().required(\"Obrigatório\"),\n});\n\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    title: \"\",\n    text: \"\",\n    priority: 3,\n    status: true,\n  };\n\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [announcement, setAnnouncement] = useState(initialState);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!announcementId) return;\n\n        const { data } = await api.get(`/announcements/${announcementId}`);\n        setAnnouncement((prevState) => {\n          return { ...prevState, ...data };\n        });\n      })();\n    } catch (err) {\n      toastError(err);\n    }\n  }, [announcementId, open]);\n\n  const handleClose = () => {\n    setAnnouncement(initialState);\n    setAttachment(null);\n    onClose();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveAnnouncement = async (values) => {\n    const announcementData = { ...values };\n    try {\n      if (announcementId) {\n        await api.put(`/announcements/${announcementId}`, announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(\n            `/announcements/${announcementId}/media-upload`,\n            formData\n          );\n        }\n      } else {\n        const { data } = await api.post(\"/announcements\", announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"announcements.toasts.success\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (announcement.mediaPath) {\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n      setAnnouncement((prev) => ({\n        ...prev,\n        mediaPath: null,\n      }));\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {announcementId\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\n            : `${i18n.t(\"announcements.dialog.add\")}`}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            accept=\".png,.jpg,.jpeg\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={announcement}\n          enableReinitialize={true}\n          validationSchema={AnnouncementSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveAnnouncement(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.title\")}\n                      name=\"title\"\n                      error={touched.title && Boolean(errors.title)}\n                      helperText={touched.title && errors.title}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.text\")}\n                      name=\"text\"\n                      error={touched.text && Boolean(errors.text)}\n                      helperText={touched.text && errors.text}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      multiline={true}\n                      rows={7}\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"status-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.status\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.status\")}\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\n                        labelId=\"status-selection-label\"\n                        id=\"status\"\n                        name=\"status\"\n                        error={touched.status && Boolean(errors.status)}\n                      >\n                        <MenuItem value={true}>Ativo</MenuItem>\n                        <MenuItem value={false}>Inativo</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"priority-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.priority\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\n                        placeholder={i18n.t(\n                          \"announcements.dialog.form.priority\"\n                        )}\n                        labelId=\"priority-selection-label\"\n                        id=\"priority\"\n                        name=\"priority\"\n                        error={touched.priority && Boolean(errors.priority)}\n                      >\n                        <MenuItem value={1}>Alta</MenuItem>\n                        <MenuItem value={2}>Média</MenuItem>\n                        <MenuItem value={3}>Baixa</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  {(announcement.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment ? attachment.name : announcement.mediaName}\n                      </Button>\n                      <IconButton\n                        onClick={() => setConfirmationOpen(true)}\n                        color=\"secondary\"\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {!attachment && !announcement.mediaPath && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {announcementId\n                    ? `${i18n.t(\"announcements.dialog.buttons.add\")}`\n                    : `${i18n.t(\"announcements.dialog.buttons.edit\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AnnouncementModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Announcements = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  const socketManager = useContext(SocketContext);\n\n  // trava para nao acessar pagina que não pode  \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager, user.companyId]);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleDeleteAnnouncement = async (announcement) => {\n    try {\n      if (announcement.mediaName)\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n\n      await api.delete(`/announcements/${announcement.id}`);\n      \n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const translatePriority = (val) => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Média\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n\n  return (\n    <MainContainer >\n      <ConfirmationModal\n        title={\n          deletingAnnouncement &&\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <AnnouncementModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchAnnouncements();\n        }}\n        open={announcementModalOpen}\n        onClose={handleCloseAnnouncementModal}\n        aria-labelledby=\"form-dialog-title\"\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenAnnouncementModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"announcements.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.title\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.priority\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {announcements.map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\n                  <TableCell align=\"center\">\n                    {translatePriority(announcement.priority)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditAnnouncement(announcement)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingAnnouncement(announcement);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer >\n  )\n};\n\nexport default Announcements;","import React, { useContext, useState } from \"react\";\nimport {\n  Chip,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    height: \"calc(100% - 58px)\",\n    overflow: \"hidden\",\n    borderRadius: 0,\n    backgroundColor: theme.palette.boxlist, //DARK MODE PLW DESIGN//\n  },\n  chatList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  listItem: {\n    cursor: \"pointer\",\n  },\n}));\n\nexport default function ChatList({\n  chats,\n  handleSelectChat,\n  handleDeleteChat,\n  handleEditChat,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\n  const [selectedChat, setSelectedChat] = useState({});\n\n  const { id } = useParams();\n\n  const goToMessages = async (chat) => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n\n    if (id !== chat.uuid) {\n      history.push(`/chats/${chat.uuid}`);\n      handleSelectChat(chat);\n    }\n  };\n\n  const handleDelete = () => {\n    handleDeleteChat(selectedChat);\n  };\n\n  const unreadMessages = (chat) => {\n    const currentUser = chat.users.find((u) => u.userId === user.id);\n    return currentUser.unreads;\n  };\n\n  const getPrimaryText = (chat) => {\n    const mainText = chat.title;\n    const unreads = unreadMessages(chat);\n    return (\n      <>\n        {mainText}\n        {unreads > 0 && (\n          <Chip\n            size=\"small\"\n            style={{ marginLeft: 5 }}\n            label={unreads}\n            color=\"secondary\"\n          />\n        )}\n      </>\n    );\n  };\n\n  const getSecondaryText = (chat) => {\n    return chat.lastMessage !== \"\"\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\n      : \"\";\n  };\n\n  const getItemStyle = (chat) => {\n    return {\n      borderLeft: chat.uuid === id ? \"6px solid #002d6e\" : null,\n      backgroundColor: chat.uuid === id ? \"theme.palette.chatlist\" : null,\n    };\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={\"Excluir Conversa\"}\n        open={confirmationModal}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleDelete}\n      >\n        Esta ação não pode ser revertida, confirmar?\n      </ConfirmationModal>\n      <div className={classes.mainContainer}>\n        <div className={classes.chatList}>\n          <List>\n            {Array.isArray(chats) &&\n              chats.length > 0 &&\n              chats.map((chat, key) => (\n                <ListItem\n                  onClick={() => goToMessages(chat)}\n                  key={key}\n                  className={classes.listItem}\n                  style={getItemStyle(chat)}\n                  button\n                >\n                  <ListItemText\n                    primary={getPrimaryText(chat)}\n                    secondary={getSecondaryText(chat)}\n                  />\n                  {chat.ownerId === user.id && (\n                    <ListItemSecondaryAction>\n                      <IconButton\n                        onClick={() => {\n                          goToMessages(chat).then(() => {\n                            handleEditChat(chat);\n                          });\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                        style={{ marginRight: 5 }}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => {\n                          setSelectedChat(chat);\n                          setConfirmModalOpen(true);\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                  )}\n                </ListItem>\n              ))}\n          </List>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  IconButton,\n  Input,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport api from \"../../services/api\";\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflow: \"hidden\",\n    borderRadius: 0,\n    height: \"100%\",\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  messageList: {\n    position: \"relative\",\n    overflowY: \"auto\",\n    height: \"100%\",\n    ...theme.scrollbarStyles,\n    backgroundColor: theme.palette.chatlist, //DARK MODE PLW DESIGN//\n  },\n  inputArea: {\n    position: \"relative\",\n    height: \"auto\",\n  },\n  input: {\n    padding: \"20px\",\n  },\n  buttonSend: {\n    margin: theme.spacing(1),\n  },\n  boxLeft: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px\",\n    position: \"relative\",\n    backgroundColor: \"blue\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomLeftRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  boxRight: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px 10px 10px auto\",\n    position: \"relative\",\n    backgroundColor: \"green\", //DARK MODE PLW DESIGN//\n    textAlign: \"right\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomRightRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n}));\n\nexport default function ChatMessages({\n  chat,\n  messages,\n  handleSendMessage,\n  handleLoadMore,\n  scrollToBottomRef,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n  const baseRef = useRef();\n\n  const [contentMessage, setContentMessage] = useState(\"\");\n\n  const scrollToBottom = () => {\n    if (baseRef.current) {\n      baseRef.current.scrollIntoView({});\n    }\n  };\n\n  const unreadMessages = (chat) => {\n    if (chat !== undefined) {\n      const currentUser = chat.users.find((u) => u.userId === user.id);\n      return currentUser.unreads > 0;\n    }\n    return 0;\n  };\n\n  useEffect(() => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n    scrollToBottomRef.current = scrollToBottom;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleScroll = (e) => {\n    const { scrollTop } = e.currentTarget;\n    if (!pageInfo.hasMore || loading) return;\n    if (scrollTop < 600) {\n      handleLoadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.mainContainer}>\n      <div onScroll={handleScroll} className={classes.messageList}>\n        {Array.isArray(messages) &&\n          messages.map((item, key) => {\n            if (item.senderId === user.id) {\n              return (\n                <Box key={key} className={classes.boxRight}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            } else {\n              return (\n                <Box key={key} className={classes.boxLeft}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            }\n          })}\n        <div ref={baseRef}></div>\n      </div>\n      <div className={classes.inputArea}>\n        <FormControl variant=\"outlined\" fullWidth>\n          <Input\n            multiline\n            value={contentMessage}\n            onKeyUp={(e) => {\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\n                handleSendMessage(contentMessage);\n                setContentMessage(\"\");\n              }\n            }}\n            onChange={(e) => setContentMessage(e.target.value)}\n            className={classes.input}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={() => {\n                    if (contentMessage.trim() !== \"\") {\n                      handleSendMessage(contentMessage);\n                      setContentMessage(\"\");\n                    }\n                  }}\n                  className={classes.buttonSend}\n                >\n                  <SendIcon />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </div>\n    </Paper>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  TextField,\n} from \"@material-ui/core\";\nimport ChatList from \"./ChatList\";\nimport ChatMessages from \"./ChatMessages\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport api from \"../../services/api\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport { has, isObject } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    padding: theme.spacing(2),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  gridContainer: {\n    flex: 1,\n    height: \"100%\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n    backgroundColor: theme.palette.dark,\n  },\n  gridItem: {\n    height: \"100%\",\n  },\n  gridItemTab: {\n    height: \"92%\",\n    width: \"100%\",\n  },\n  btnContainer: {\n    textAlign: \"right\",\n    padding: 10,\n  },\n}));\n\nexport function ChatModal({\n  open,\n  chat,\n  type,\n  handleClose,\n  handleLoadNewChat,\n}) {\n  const [users, setUsers] = useState([]);\n  const [title, setTitle] = useState(\"\");\n\n  useEffect(() => {\n    setTitle(\"\");\n    setUsers([]);\n    if (type === \"edit\") {\n      const userList = chat.users.map((u) => ({\n        id: u.user.id,\n        name: u.user.name,\n      }));\n      setUsers(userList);\n      setTitle(chat.title);\n    }\n  }, [chat, open, type]);\n\n  const handleSave = async () => {\n    try {\n      if (!title) {\n        alert(\"Por favor, preencha o título da conversa.\");\n        return;\n      }\n\n      if (!users || users.length === 0) {\n        alert(\"Por favor, selecione pelo menos um usuário.\");\n        return;\n      }\n\n      if (type === \"edit\") {\n        await api.put(`/chats/${chat.id}`, {\n          users,\n          title,\n        });\n      } else {\n        const { data } = await api.post(\"/chats\", {\n          users,\n          title,\n        });\n        handleLoadNewChat(data);\n      }\n      handleClose();\n    } catch (err) {}\n  };  \n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">Conversa</DialogTitle>\n      <DialogContent>\n        <Grid spacing={2} container>\n          <Grid xs={12} style={{ padding: 18 }} item>\n            <TextField\n              label=\"Título\"\n              placeholder=\"Título\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n          </Grid>\n          <Grid xs={12} item>\n            <UsersFilter\n              onFiltered={(users) => setUsers(users)}\n              initialUsers={users}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n        <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\n          Salvar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction Chat(props) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n\n  const [showDialog, setShowDialog] = useState(false);\n  const [dialogType, setDialogType] = useState(\"new\");\n  const [currentChat, setCurrentChat] = useState({});\n  const [chats, setChats] = useState([]);\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\n  const [messages, setMessages] = useState([]);\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\n  const [messagesPage, setMessagesPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [tab, setTab] = useState(0);\n  const isMounted = useRef(true);\n  const scrollToBottomRef = useRef();\n  const { id } = useParams();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      findChats().then((data) => {\n        const { records } = data;\n        if (records.length > 0) {\n          setChats(records);\n          setChatsPageInfo(data);\n\n          if (id && records.length) {\n            const chat = records.find((r) => r.uuid === id);\n            selectChat(chat);\n          }\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      findMessages(currentChat.id).then(() => {\n        if (typeof scrollToBottomRef.current === \"function\") {\n          setTimeout(() => {\n            scrollToBottomRef.current();\n          }, 300);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-chat-user-${user.id}`, (data) => {\n      if (data.action === \"create\") {\n        setChats((prev) => [data.record, ...prev]);\n      }\n      if (data.action === \"update\") {\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.record.id) {\n            setCurrentChat(data.record);\n            return {\n              ...data.record,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n      }\n    });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"delete\") {\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\n        setChats(filteredChats);\n        setMessages([]);\n        setMessagesPage(1);\n        setMessagesPageInfo({ hasMore: false });\n        setCurrentChat({});\n        history.push(\"/chats\");\n      }\n    });\n\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, (data) => {\n        if (data.action === \"new-message\") {\n          setMessages((prev) => [...prev, data.newMessage]);\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.newMessage.chatId) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n\n        if (data.action === \"update\") {\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.chat.id) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n      });\n    }\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat, socketManager]);\n\n  const selectChat = (chat) => {\n    try {\n      setMessages([]);\n      setMessagesPage(1);\n      setCurrentChat(chat);\n      setTab(1);\n    } catch (err) {}\n  };\n\n  const sendMessage = async (contentMessage) => {\n    setLoading(true);\n    try {\n      await api.post(`/chats/${currentChat.id}/messages`, {\n        message: contentMessage,\n      });\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const deleteChat = async (chat) => {\n    try {\n      await api.delete(`/chats/${chat.id}`);\n    } catch (err) {}\n  };\n\n  const findMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const { data } = await api.get(\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\n      );\n      setMessagesPage((prev) => prev + 1);\n      setMessagesPageInfo(data);\n      setMessages((prev) => [...data.records, ...prev]);\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const loadMoreMessages = async () => {\n    if (!loading) {\n      findMessages(currentChat.id);\n    }\n  };\n\n  const findChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats\");\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderGrid = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid className={classes.gridItem} md={3} item>\n          \n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => {\n                  setDialogType(\"new\");\n                  setShowDialog(true);\n                }}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Nova\n              </Button>\n            </div>\n          \n          <ChatList\n            chats={chats}\n            pageInfo={chatsPageInfo}\n            loading={loading}\n            handleSelectChat={(chat) => selectChat(chat)}\n            handleDeleteChat={(chat) => deleteChat(chat)}\n            handleEditChat={() => {\n              setDialogType(\"edit\");\n              setShowDialog(true);\n            }}\n          />\n        </Grid>\n        <Grid className={classes.gridItem} md={9} item>\n          {isObject(currentChat) && has(currentChat, \"id\") && (\n            <ChatMessages\n              chat={currentChat}\n              scrollToBottomRef={scrollToBottomRef}\n              pageInfo={messagesPageInfo}\n              messages={messages}\n              loading={loading}\n              handleSendMessage={sendMessage}\n              handleLoadMore={loadMoreMessages}\n            />\n          )}\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTab = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid md={12} item>\n          <Tabs\n            value={tab}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={(e, v) => setTab(v)}\n            aria-label=\"disabled tabs example\"\n          >\n            <Tab label=\"Chats\" />\n            <Tab label=\"Mensagens\" />\n          </Tabs>\n        </Grid>\n        {tab === 0 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => setShowDialog(true)}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Novo\n              </Button>\n            </div>\n            <ChatList\n              chats={chats}\n              pageInfo={chatsPageInfo}\n              loading={loading}\n              handleSelectChat={(chat) => selectChat(chat)}\n              handleDeleteChat={(chat) => deleteChat(chat)}\n            />\n          </Grid>\n        )}\n        {tab === 1 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            {isObject(currentChat) && has(currentChat, \"id\") && (\n              <ChatMessages\n                scrollToBottomRef={scrollToBottomRef}\n                pageInfo={messagesPageInfo}\n                messages={messages}\n                loading={loading}\n                handleSendMessage={sendMessage}\n                handleLoadMore={loadMoreMessages}\n              />\n            )}\n          </Grid>\n        )}\n      </Grid>\n    );\n  };\n\n  return (\n    <>\n      <ChatModal\n        type={dialogType}\n        open={showDialog}\n        chat={currentChat}\n        handleLoadNewChat={(data) => {\n          setMessages([]);\n          setMessagesPage(1);\n          setCurrentChat(data);\n          setTab(1);\n          history.push(`/chats/${data.uuid}`);\n        }}\n        handleClose={() => setShowDialog(false)}\n      />\n      <Paper className={classes.mainContainer}>\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\n      </Paper>\n    </>\n  );\n}\n\nexport default withWidth()(Chat);\n","import React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst _formatDate = (date) => {\n  const now = new Date();\n  const past = new Date(date);\n  const diff = Math.abs(now.getTime() - past.getTime());\n  const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n\n  return days;\n}\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n\n  const [loading,] = useState(false);\n  const [, setPageNumber] = useState(1);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [hasMore,] = useState(false);\n\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></SubscriptionModal>\n\n      <MainHeader>\n        <Title>Assinatura</Title>\n      </MainHeader>\n      <Grid item xs={12} sm={4}>\n        <Paper\n          className={classes.mainPaper}\n          variant=\"outlined\"\n          onScroll={handleScroll}\n        >\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Período de teste\"\n              defaultValue={`Seu período de teste termina em ${_formatDate(user?.company?.trialExpiration)} dias!`}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Email de cobrança\"\n              defaultValue={user?.company?.email}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleOpenContactModal}\n              fullWidth\n            >\n              Assine Agora!\n            </Button>\n          </div>\n\n        </Paper>\n      </Grid>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport {\n    Formik,\n    Form,\n    Field,\n    FieldArray\n} from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n    Box,\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    Grid,\n    makeStyles,\n    TextField\n} from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        gap: 4\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n    textField: {\n        marginRight: theme.spacing(1),\n        flex: 1,\n    },\n\n    extraAttr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 2000,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst FileListSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(3, \"nome muito curto\")\n        .required(\"Obrigatório\"),\n    message: Yup.string()\n        .required(\"Obrigatório\")\n});\n\nconst FilesModal = ({ open, onClose, fileListId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n    const [ files, setFiles ] = useState([]);\n    const [selectedFileNames, setSelectedFileNames] = useState([]);\n\n\n    const initialState = {\n        name: \"\",\n        message: \"\",\n        options: [{ name: \"\", path:\"\", mediaType:\"\" }],\n    };\n\n    const [fileList, setFileList] = useState(initialState);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!fileListId) return;\n\n                const { data } = await api.get(`/files/${fileListId}`);\n                setFileList(data);\n            })()\n        } catch (err) {\n            toastError(err);\n        }\n    }, [fileListId, open]);\n\n    const handleClose = () => {\n        setFileList(initialState);\n        setFiles([]);\n        onClose();\n    };\n\n    const handleSaveFileList = async (values) => {\n\n        const uploadFiles = async (options, filesOptions, id) => {\n                const formData = new FormData();\n                formData.append(\"fileId\", id);\n                formData.append(\"typeArch\", \"fileList\")\n                filesOptions.forEach((fileOption, index) => {\n                    if (fileOption.file) {\n                        formData.append(\"files\", fileOption.file);\n                        formData.append(\"mediaType\", fileOption.file.type)\n                        formData.append(\"name\", options[index].name);\n                        formData.append(\"id\", options[index].id);\n                    }\n                });\n      \n              try {\n                const { data } = await api.post(`/files/uploadList/${id}`, formData);\n                setFiles([]);\n                return data;\n              } catch (err) {\n                toastError(err);\n              }\n            return null;\n        }\n\n        const fileData = { ...values, userId: user.id };\n        \n        try {\n            if (fileListId) {\n                const { data } = await api.put(`/files/${fileListId}`, fileData)\n                if (data.options.length > 0)\n\n                    uploadFiles(data.options, values.options, fileListId)\n            } else {\n                const { data } = await api.post(\"/files\", fileData);\n                if (data.options.length > 0)\n                    uploadFiles(data.options, values.options, data.id)\n            }\n            toast.success(i18n.t(\"fileModal.success\"));\n            if (typeof reload == 'function') {\n                reload();\n            }            \n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                fullWidth\n                scroll=\"paper\">\n                <DialogTitle id=\"form-dialog-title\">\n                    {(fileListId ? `${i18n.t(\"fileModal.title.edit\")}` : `${i18n.t(\"fileModal.title.add\")}`)}\n                </DialogTitle>\n                <Formik\n                    initialValues={fileList}\n                    enableReinitialize={true}\n                    validationSchema={FileListSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveFileList(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.name\")}\n                                        name=\"name\"\n                                        error={touched.name && Boolean(errors.name)}\n                                        helperText={touched.name && errors.name}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                <br />\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.message\")}\n                                        type=\"message\"\n                                        multiline\n                                        minRows={5}\n                                        fullWidth\n                                        name=\"message\"\n                                        error={\n                                            touched.message && Boolean(errors.message)\n                                        }\n                                        helperText={\n                                            touched.message && errors.message\n                                        }\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                    />\n                                </div>\n                                <Typography\n                                    style={{ marginBottom: 8, marginTop: 12 }}\n                                    variant=\"subtitle1\"\n                                >\n                                    {i18n.t(\"fileModal.form.fileOptions\")}\n                                </Typography>\n\n                                <FieldArray name=\"options\">\n                                    {({ push, remove }) => (\n                                        <>\n                                            {values.options &&\n                                                values.options.length > 0 &&\n                                                values.options.map((info, index) => (    \n                                                    <div\n                                                        className={classes.extraAttr}\n                                                        key={`${index}-info`}\n                                                    >\n                                                        <Grid container  spacing={0}>\n                                                            <Grid xs={6} md={10} item> \n                                                                <Field\n                                                                    as={TextField}\n                                                                    label={i18n.t(\"fileModal.form.extraName\")}\n                                                                    name={`options[${index}].name`}\n                                                                    variant=\"outlined\"\n                                                                    margin=\"dense\"\n                                                                    multiline\n                                                                    fullWidth\n                                                                    minRows={2}\n                                                                    className={classes.textField}\n                                                                />\n                                                            </Grid>     \n                                                            <Grid xs={2} md={2} item style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\n                                                                <input\n                                                                    type=\"file\"\n                                                                    onChange={(e) => {\n                                                                        const selectedFile = e.target.files[0];\n                                                                        const updatedOptions = [...values.options];                                                                \n                                                                        updatedOptions[index].file = selectedFile;\n                                                                       \n                                                                        setFiles('options', updatedOptions);\n\n                                                                        // Atualize a lista selectedFileNames para o campo específico\n                                                                        const updatedFileNames = [...selectedFileNames];\n                                                                        updatedFileNames[index] = selectedFile ? selectedFile.name : '';\n                                                                        setSelectedFileNames(updatedFileNames);\n                                                                    }}\n                                                                    style={{ display: 'none' }}\n                                                                    name={`options[${index}].file`}\n                                                                    id={`file-upload-${index}`}\n                                                                />\n                                                                <label htmlFor={`file-upload-${index}`}>\n                                                                    <IconButton component=\"span\">\n                                                                        <AttachFileIcon />\n                                                                    </IconButton>\n                                                                </label>\n                                                                <IconButton\n                                                                    size=\"small\"\n                                                                    onClick={() => remove(index)}\n                                                                >\n                                                                    <DeleteOutlineIcon />\n                                                                </IconButton>    \n                                                            </Grid>\n                                                            <Grid xs={12} md={12} item>\n                                                                {info.path? info.path : selectedFileNames[index]}                               \n                                                            </Grid> \n                                                        </Grid>                                                    \n                                                </div>                     \n                                                                                           \n                                                ))}\n                                            <div className={classes.extraAttr}>\n                                                <Button\n                                                    style={{ flex: 1, marginTop: 8 }}\n                                                    variant=\"outlined\"\n                                                    color=\"primary\"\n                                                    onClick={() => {push({ name: \"\", path: \"\"});\n                                                    setSelectedFileNames([...selectedFileNames, \"\"]);\n                                                }}\n                                                >\n                                                    {`+ ${i18n.t(\"fileModal.buttons.fileOptions\")}`}\n                                                </Button>\n                                            </div>\n                                        </>\n                                    )}\n                                </FieldArray>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"fileModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {fileListId\n                                        ? `${i18n.t(\"fileModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"fileModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default FilesModal;","import React, {\n    useState,\n    useEffect,\n    useReducer,\n    useCallback,\n    useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport FileModal from \"../../components/FileModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_FILES\") {\n        const files = action.payload;\n        const newFiles = [];\n\n        files.forEach((fileList) => {\n            const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n            if (fileListIndex !== -1) {\n                state[fileListIndex] = fileList;\n            } else {\n                newFiles.push(fileList);\n            }\n        });\n\n        return [...state, ...newFiles];\n    }\n\n    if (action.type === \"UPDATE_FILES\") {\n        const fileList = action.payload;\n        const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n\n        if (fileListIndex !== -1) {\n            state[fileListIndex] = fileList;\n            return [...state];\n        } else {\n            return [fileList, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_TAG\") {\n        const fileListId = action.payload;\n\n        const fileListIndex = state.findIndex((s) => s.id === fileListId);\n        if (fileListIndex !== -1) {\n            state.splice(fileListIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst FileLists = () => {\n    const classes = useStyles();\n\n    const { user } = useContext(AuthContext);\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [hasMore, setHasMore] = useState(false);\n    const [selectedFileList, setSelectedFileList] = useState(null);\n    const [deletingFileList, setDeletingFileList] = useState(null);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [files, dispatch] = useReducer(reducer, []);\n    const [fileListModalOpen, setFileListModalOpen] = useState(false);\n\n    const fetchFileLists = useCallback(async () => {\n        try {\n            const { data } = await api.get(\"/files/\", {\n                params: { searchParam, pageNumber },\n            });\n            dispatch({ type: \"LOAD_FILES\", payload: data.files });\n            setHasMore(data.hasMore);\n            setLoading(false);\n        } catch (err) {\n            toastError(err);\n        }\n    }, [searchParam, pageNumber]);\n\n    const socketManager = useContext(SocketContext);\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            fetchFileLists();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, fetchFileLists]);\n\n    useEffect(() => {\n        const socket = socketManager.getSocket(user.companyId);\n\n        socket.on(`company-${user.companyId}-file`, (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_FILES\", payload: data.files });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({ type: \"DELETE_USER\", payload: +data.fileId });\n            }\n        });\n\n        return () => {\n            socket.disconnect();\n        };\n    }, [socketManager, user]);\n\n    const handleOpenFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(true);\n    };\n\n    const handleCloseFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(false);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleEditFileList = (fileList) => {\n        setSelectedFileList(fileList);\n        setFileListModalOpen(true);\n    };\n\n    const handleDeleteFileList = async (fileListId) => {\n        try {\n            await api.delete(`/files/${fileListId}`);\n            toast.success(i18n.t(\"files.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingFileList(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n        await fetchFileLists();\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={deletingFileList && `${i18n.t(\"files.confirmationModal.deleteTitle\")}`}\n                open={confirmModalOpen}\n                onClose={setConfirmModalOpen}\n                onConfirm={() => handleDeleteFileList(deletingFileList.id)}\n            >\n                {i18n.t(\"files.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <FileModal\n                open={fileListModalOpen}\n                onClose={handleCloseFileListModal}\n                reload={fetchFileLists}\n                aria-labelledby=\"form-dialog-title\"\n                fileListId={selectedFileList && selectedFileList.id}\n            />\n            <MainHeader>\n                <Title>{i18n.t(\"files.title\")} ({files.length})</Title>\n                <MainHeaderButtonsWrapper>\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon style={{ color: \"gray\" }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenFileListModal}\n                    >\n                        {i18n.t(\"files.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"center\">{i18n.t(\"files.table.name\")}</TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"files.table.actions\")}\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {files.map((fileList) => (\n                                <TableRow key={fileList.id}>\n                                    <TableCell align=\"center\">\n                                        {fileList.name}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton size=\"small\" onClick={() => handleEditFileList(fileList)}>\n                                            <EditIcon />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={(e) => {\n                                                setConfirmModalOpen(true);\n                                                setDeletingFileList(fileList);\n                                            }}\n                                        >\n                                            <DeleteOutlineIcon />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton columns={4} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer>\n    );\n};\n\nexport default FileLists;\n","import React, { useEffect, useState } from \"react\";\nimport { Field } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n}));\n\nconst QueueSelectSingle = () => {\n    const classes = useStyles();\n    const [queues, setQueues] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await api.get(\"/queue\");\n                setQueues(data);\n            } catch (err) {\n                toastError(`QUEUESELETSINGLE >>> ${err}`);\n            }\n        })();\n    }, []);\n\n    return (\n        <div style={{ marginTop: 6 }}>\n            <FormControl\n                variant=\"outlined\"\n                className={classes.FormControl}\n                margin=\"dense\"\n                fullWidth\n            >\n                <div>\n                    <Typography>\n                        {i18n.t(\"queueSelect.inputLabel\")}\n                    </Typography>\n                    <Field\n                        as={Select}\n                        label={i18n.t(\"queueSelect.inputLabel\")}\n                        name=\"queueId\"\n                        labelId=\"queue-selection-label\"\n                        id=\"queue-selection\"\n                        fullWidth\n                    >\n                        {queues.map(queue => (\n                            <MenuItem key={queue.id} value={queue.id}>\n                                {queue.name}\n                            </MenuItem>\n                        ))}\n                    </Field>\n                </div>\n            </FormControl>\n        </div>\n    );\n};\n\nexport default QueueSelectSingle;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\nimport QueueSelectSingle from \"../../components/QueueSelectSingle\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst PromptSchema = Yup.object().shape({\n    name: Yup.string().min(5, \"Muito curto!\").max(100, \"Muito longo!\").required(\"Obrigatório\"),\n    prompt: Yup.string().min(50, \"Muito curto!\").required(\"Descreva o treinamento para Inteligência Artificial\"),\n    voice: Yup.string().required(\"Informe o modo para Voz\"),\n    max_tokens: Yup.number().required(\"Informe o número máximo de tokens\"),\n    temperature: Yup.number().required(\"Informe a temperatura\"),\n    apikey: Yup.string().required(\"Informe a API Key\"),\n    queueId: Yup.number().required(\"Informe a fila\"),\n    max_messages: Yup.number().required(\"Informe o número máximo de mensagens\")\n});\n\nconst PromptModal = ({ open, onClose, promptId }) => {\n    const classes = useStyles();\n    const [selectedVoice, setSelectedVoice] = useState(\"texto\");\n    const [showApiKey, setShowApiKey] = useState(false);\n\n    const handleToggleApiKey = () => {\n        setShowApiKey(!showApiKey);\n    };\n\n    const initialState = {\n        name: \"\",\n        prompt: \"\",\n        voice: \"texto\",\n        voiceKey: \"\",\n        voiceRegion: \"\",\n        maxTokens: 100,\n        temperature: 1,\n        apiKey: \"\",\n        queueId: null,\n        maxMessages: 10\n    };\n\n    const [prompt, setPrompt] = useState(initialState);\n\n    useEffect(() => {\n        const fetchPrompt = async () => {\n            if (!promptId) {\n                setPrompt(initialState);\n                return;\n            }\n            try {\n                const { data } = await api.get(`/prompt/${promptId}`);\n                setPrompt(prevState => {\n                    return { ...prevState, ...data };\n                });\n                setSelectedVoice(data.voice);\n            } catch (err) {\n                toastError(err);\n            }\n        };\n\n        fetchPrompt();\n    }, [promptId, open]);\n\n    const handleClose = () => {\n        setPrompt(initialState);\n        setSelectedVoice(\"texto\");\n        onClose();\n    };\n\n    const handleChangeVoice = (e) => {\n        setSelectedVoice(e.target.value);\n    };\n\n    const handleSavePrompt = async values => {\n        const promptData = { ...values, voice: selectedVoice };\n        if (!values.queueId) {\n            toastError(\"Informe o setor\");\n            return;\n        }\n        try {\n            if (promptId) {\n                await api.put(`/prompt/${promptId}`, promptData);\n            } else {\n                await api.post(\"/prompt\", promptData);\n            }\n            toast.success(i18n.t(\"promptModal.success\"));\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                scroll=\"paper\"\n                fullWidth\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {promptId\n                        ? `${i18n.t(\"promptModal.title.edit\")}`\n                        : `${i18n.t(\"promptModal.title.add\")}`}\n                </DialogTitle>\n                <Formik\n                    initialValues={prompt}\n                    enableReinitialize={true}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSavePrompt(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form style={{ width: \"100%\" }}>\n                            <DialogContent dividers>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.name\")}\n                                    name=\"name\"\n                                    error={touched.name && Boolean(errors.name)}\n                                    helperText={touched.name && errors.name}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                />\n                                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.apikey\")}\n                                        name=\"apiKey\"\n                                        type={showApiKey ? 'text' : 'password'}\n                                        error={touched.apiKey && Boolean(errors.apiKey)}\n                                        helperText={touched.apiKey && errors.apiKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                        InputProps={{\n                                            endAdornment: (\n                                                <InputAdornment position=\"end\">\n                                                    <IconButton onClick={handleToggleApiKey}>\n                                                        {showApiKey ? <VisibilityOff /> : <Visibility />}\n                                                    </IconButton>\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                    />\n                                </FormControl>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.prompt\")}\n                                    name=\"prompt\"\n                                    error={touched.prompt && Boolean(errors.prompt)}\n                                    helperText={touched.prompt && errors.prompt}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                    rows={10}\n                                    multiline={true}\n                                />\n                                <QueueSelectSingle />\n                                <div className={classes.multFieldLine}>\n                                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\n                                        <Select\n                                            id=\"type-select\"\n                                            labelWidth={60}\n                                            name=\"voice\"\n                                            value={selectedVoice}\n                                            onChange={handleChangeVoice}\n                                            multiple={false}\n                                        >\n                                            <MenuItem key={\"texto\"} value={\"texto\"}>\n                                                Texto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FranciscaNeural\"} value={\"pt-BR-FranciscaNeural\"}>\n                                                Francisa\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-AntonioNeural\"} value={\"pt-BR-AntonioNeural\"}>\n                                                Antônio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-BrendaNeural\"} value={\"pt-BR-BrendaNeural\"}>\n                                                Brenda\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-DonatoNeural\"} value={\"pt-BR-DonatoNeural\"}>\n                                                Donato\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ElzaNeural\"} value={\"pt-BR-ElzaNeural\"}>\n                                                Elza\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FabioNeural\"} value={\"pt-BR-FabioNeural\"}>\n                                                Fábio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-GiovannaNeural\"} value={\"pt-BR-GiovannaNeural\"}>\n                                                Giovanna\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-HumbertoNeural\"} value={\"pt-BR-HumbertoNeural\"}>\n                                                Humberto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-JulioNeural\"} value={\"pt-BR-JulioNeural\"}>\n                                                Julio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeilaNeural\"} value={\"pt-BR-LeilaNeural\"}>\n                                                Leila\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeticiaNeural\"} value={\"pt-BR-LeticiaNeural\"}>\n                                                Letícia\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ManuelaNeural\"} value={\"pt-BR-ManuelaNeural\"}>\n                                                Manuela\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-NicolauNeural\"} value={\"pt-BR-NicolauNeural\"}>\n                                                Nicolau\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ValerioNeural\"} value={\"pt-BR-ValerioNeural\"}>\n                                                Valério\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-YaraNeural\"} value={\"pt-BR-YaraNeural\"}>\n                                                Yara\n                                            </MenuItem>\n                                        </Select>\n                                    </FormControl>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceKey\")}\n                                        name=\"voiceKey\"\n                                        error={touched.voiceKey && Boolean(errors.voiceKey)}\n                                        helperText={touched.voiceKey && errors.voiceKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceRegion\")}\n                                        name=\"voiceRegion\"\n                                        error={touched.voiceRegion && Boolean(errors.voiceRegion)}\n                                        helperText={touched.voiceRegion && errors.voiceRegion}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                \n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.temperature\")}\n                                        name=\"temperature\"\n                                        error={touched.temperature && Boolean(errors.temperature)}\n                                        helperText={touched.temperature && errors.temperature}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_tokens\")}\n                                        name=\"maxTokens\"\n                                        error={touched.maxTokens && Boolean(errors.maxTokens)}\n                                        helperText={touched.maxTokens && errors.maxTokens}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_messages\")}\n                                        name=\"maxMessages\"\n                                        error={touched.maxMessages && Boolean(errors.maxMessages)}\n                                        helperText={touched.maxMessages && errors.maxMessages}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"promptModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {promptId\n                                        ? `${i18n.t(\"promptModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"promptModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default PromptModal;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography // Importar Typography do Material-UI\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport PromptModal from \"../../components/PromptModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  // Adicione um estilo para a box vermelha\n  redBox: {\n    backgroundColor: \"#ffcccc\", // Definindo a cor de fundo vermelha\n    padding: theme.spacing(2), // Adicionando um espaçamento interno\n    marginBottom: theme.spacing(2), // Adicionando margem inferior para separar do conteúdo abaixo\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_PROMPTS\") {\n    const prompts = action.payload;\n    const newPrompts = [];\n\n    prompts.forEach((prompt) => {\n      const promptIndex = state.findIndex((p) => p.id === prompt.id);\n      if (promptIndex !== -1) {\n        state[promptIndex] = prompt;\n      } else {\n        newPrompts.push(prompt);\n      }\n    });\n\n    return [...state, ...newPrompts];\n  }\n\n  if (action.type === \"UPDATE_PROMPTS\") {\n    const prompt = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === prompt.id);\n\n    if (promptIndex !== -1) {\n      state[promptIndex] = prompt;\n      return [...state];\n    } else {\n      return [prompt, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_PROMPT\") {\n    const promptId = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === promptId);\n    if (promptIndex !== -1) {\n      state.splice(promptIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Prompts = () => {\n  const classes = useStyles();\n\n  const [prompts, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [promptModalOpen, setPromptModalOpen] = useState(false);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n  const { getPlanCompany } = usePlans();\n  const history = useHistory();\n  const companyId = user.companyId;\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useOpenAi) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/prompt\");\n        dispatch({ type: \"LOAD_PROMPTS\", payload: data.prompts });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-prompt`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_PROMPTS\", payload: data.prompt });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_PROMPT\", payload: data.promptId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [companyId, socketManager]);\n\n  const handleOpenPromptModal = () => {\n    setPromptModalOpen(true);\n    setSelectedPrompt(null);\n  };\n\n  const handleClosePromptModal = () => {\n    setPromptModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleEditPrompt = (prompt) => {\n    setSelectedPrompt(prompt);\n    setPromptModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleDeletePrompt = async (promptId) => {\n    try {\n      const { data } = await api.delete(`/prompt/${promptId}`);\n      toast.info(i18n.t(data.message));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedPrompt(null);\n  };\n\n  return (\n    <MainContainer>\n   \n\n      <ConfirmationModal\n        title={\n          selectedPrompt &&\n          `${i18n.t(\"prompts.confirmationModal.deleteTitle\")} ${selectedPrompt.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeletePrompt(selectedPrompt.id)}\n      >\n        {i18n.t(\"prompts.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <PromptModal\n        open={promptModalOpen}\n        onClose={handleClosePromptModal}\n        promptId={selectedPrompt?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"prompts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenPromptModal}\n          >\n            {i18n.t(\"prompts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.name\")}\n              </TableCell>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.queue\")}\n              </TableCell>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.max_tokens\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"prompts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {prompts.map((prompt) => (\n                <TableRow key={prompt.id}>\n                  <TableCell align=\"left\">{prompt.name}</TableCell>\n                  <TableCell align=\"left\">{prompt.queue.name}</TableCell>\n                  <TableCell align=\"left\">{prompt.maxTokens}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditPrompt(prompt)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedPrompt(prompt);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Prompts;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n  Select,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  TextField,\n  Grid,\n  Paper,\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 4\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  btnLeft: {\n    display: \"flex\",\n    marginRight: \"auto\",\n    marginLeft: 12,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst DialogflowSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  // projectName: Yup.string()\n  //   .min(3, \"Too Short!\")\n  //   .max(100, \"Too Long!\")\n  //   .required(),\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\n});\n\n\n\nconst QueueIntegration = ({ open, onClose, integrationId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    type: \"typebot\",\n    name: \"\",\n    projectName: \"\",\n    jsonContent: \"\",\n    language: \"\",\n    urlN8N: \"\",\n    typebotDelayMessage: 1000,\n    typebotExpires: 1,\n    typebotKeywordFinish: \"\",\n    typebotKeywordRestart: \"\",\n    typebotRestartMessage: \"\",\n    typebotSlug: \"\",\n    typebotUnknownMessage: \"\",\n\n  };\n\n  const [integration, setIntegration] = useState(initialState);\n\n  useEffect(() => {\n    (async () => {\n      if (!integrationId) return;\n      try {\n        const { data } = await api.get(`/queueIntegration/${integrationId}`);\n        setIntegration((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setIntegration({\n        type: \"dialogflow\",\n        name: \"\",\n        projectName: \"\",\n        jsonContent: \"\",\n        language: \"\",\n        urlN8N: \"\",\n        typebotDelayMessage: 1000\n      });\n    };\n\n  }, [integrationId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setIntegration(initialState);\n  };\n\n  const handleTestSession = async (event, values) => {\n    try {\n      const { projectName, jsonContent, language } = values;\n\n      await api.post(`/queueIntegration/testSession`, {\n        projectName,\n        jsonContent,\n        language,\n      });\n\n      toast.success(i18n.t(\"queueIntegrationModal.messages.testSuccess\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveDialogflow = async (values) => {\n    try {\n      if (values.type === 'n8n' || values.type === 'webhook' || values.type === 'typebot') values.projectName = values.name\n      if (integrationId) {\n        await api.put(`/queueIntegration/${integrationId}`, values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.editSuccess\"));\n      } else {\n        await api.post(\"/queueIntegration\", values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.addSuccess\"));\n      }\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" scroll=\"paper\">\n        <DialogTitle>\n          {integrationId\n            ? `${i18n.t(\"queueIntegrationModal.title.edit\")}`\n            : `${i18n.t(\"queueIntegrationModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={integration}\n          enableReinitialize={true}\n          validationSchema={DialogflowSchema}\n          onSubmit={(values, actions, event) => {\n            setTimeout(() => {\n              handleSaveDialogflow(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <Paper square className={classes.mainPaper} elevation={1}>\n                <DialogContent dividers>\n                  <Grid container spacing={1}>\n                    <Grid item xs={12} md={6} xl={6}>\n                      <FormControl\n                        variant=\"outlined\"\n                        className={classes.formControl}\n                        margin=\"dense\"\n                        fullWidth\n                      >\n                        <InputLabel id=\"type-selection-input-label\">\n                          {i18n.t(\"queueIntegrationModal.form.type\")}\n                        </InputLabel>\n\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueIntegrationModal.form.type\")}\n                          name=\"type\"\n                          labelId=\"profile-selection-label\"\n                          error={touched.type && Boolean(errors.type)}\n                          helpertext={touched.type && errors.type}\n                          id=\"type\"\n                          required\n                        >\n                          <MenuItem value=\"dialogflow\">DialogFlow</MenuItem>\n                          <MenuItem value=\"n8n\">N8N</MenuItem>\n                          <MenuItem value=\"webhook\">WebHooks</MenuItem>\n                          <MenuItem value=\"typebot\">Typebot</MenuItem>\n                        </Field>\n                      </FormControl>\n                    </Grid>\n                    {values.type === \"dialogflow\" && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            fullWidth\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <FormControl\n                            variant=\"outlined\"\n                            className={classes.formControl}\n                            margin=\"dense\"\n                            fullWidth\n                          >\n                            <InputLabel id=\"language-selection-input-label\">\n                              {i18n.t(\"queueIntegrationModal.form.language\")}\n                            </InputLabel>\n\n                            <Field\n                              as={Select}\n                              label={i18n.t(\"queueIntegrationModal.form.language\")}\n                              name=\"language\"\n                              labelId=\"profile-selection-label\"\n                              fullWidth\n                              error={touched.language && Boolean(errors.language)}\n                              helpertext={touched.language && errors.language}\n                              id=\"language-selection\"\n                              required\n                            >\n                              <MenuItem value=\"pt-BR\">Portugues</MenuItem>\n                              <MenuItem value=\"en\">Inglês</MenuItem>\n                              <MenuItem value=\"es\">Español</MenuItem>\n                            </Field>\n                          </FormControl>\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.projectName\")}\n                            name=\"projectName\"\n                            error={touched.projectName && Boolean(errors.projectName)}\n                            helpertext={touched.projectName && errors.projectName}\n                            fullWidth\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.jsonContent\")}\n                            type=\"jsonContent\"\n                            multiline\n                            //inputRef={greetingRef}\n                            maxRows={5}\n                            minRows={5}\n                            fullWidth\n                            name=\"jsonContent\"\n                            error={touched.jsonContent && Boolean(errors.jsonContent)}\n                            helpertext={touched.jsonContent && errors.jsonContent}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                      </>\n                    )}\n\n                    {(values.type === \"n8n\" || values.type === \"webhook\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            required\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                      </>\n                    )}\n                    {(values.type === \"typebot\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotSlug\")}\n                            name=\"typebotSlug\"\n                            error={touched.typebotSlug && Boolean(errors.typebotSlug)}\n                            helpertext={touched.typebotSlug && errors.typebotSlug}\n                            required\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotExpires\")}\n                            name=\"typebotExpires\"\n                            error={touched.typebotExpires && Boolean(errors.typebotExpires)}\n                            helpertext={touched.typebotExpires && errors.typebotExpires}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotDelayMessage\")}\n                            name=\"typebotDelayMessage\"\n                            error={touched.typebotDelayMessage && Boolean(errors.typebotDelayMessage)}\n                            helpertext={touched.typebotDelayMessage && errors.typebotDelayMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordFinish\")}\n                            name=\"typebotKeywordFinish\"\n                            error={touched.typebotKeywordFinish && Boolean(errors.typebotKeywordFinish)}\n                            helpertext={touched.typebotKeywordFinish && errors.typebotKeywordFinish}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordRestart\")}\n                            name=\"typebotKeywordRestart\"\n                            error={touched.typebotKeywordRestart && Boolean(errors.typebotKeywordRestart)}\n                            helpertext={touched.typebotKeywordRestart && errors.typebotKeywordRestart}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotUnknownMessage\")}\n                            name=\"typebotUnknownMessage\"\n                            error={touched.typebotUnknownMessage && Boolean(errors.typebotUnknownMessage)}\n                            helpertext={touched.typebotUnknownMessage && errors.typebotUnknownMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotRestartMessage\")}\n                            name=\"typebotRestartMessage\"\n                            error={touched.typebotRestartMessage && Boolean(errors.typebotRestartMessage)}\n                            helpertext={touched.typebotRestartMessage && errors.typebotRestartMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        \n                      </>\n                    )}\n                  </Grid>\n                </DialogContent>\n              </Paper>\n\n              <DialogActions>\n                {values.type === \"dialogflow\" && (\n                  <Button\n                    //type=\"submit\"\n                    onClick={(e) => handleTestSession(e, values)}\n                    color=\"inherit\"\n                    disabled={isSubmitting}\n                    name=\"testSession\"\n                    variant=\"outlined\"\n                    className={classes.btnLeft}\n                  >\n                    {i18n.t(\"queueIntegrationModal.buttons.test\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"queueIntegrationModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {integrationId\n                    ? `${i18n.t(\"queueIntegrationModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"queueIntegrationModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div >\n  );\n};\n\nexport default QueueIntegration;","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport n8n from \"../../assets/n8n.png\";\nimport dialogflow from \"../../assets/dialogflow.png\";\nimport webhooks from \"../../assets/webhook.png\";\nimport typebot from \"../../assets/typebot.jpg\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Avatar,\n  Button,\n  IconButton,\n  InputAdornment,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip\n} from \"@material-ui/core\";\n\nimport {\n  DeleteOutline,\n  Edit\n} from \"@material-ui/icons\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const newIntegrations = [];\n\n    queueIntegration.forEach((integration) => {\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\n      if (integrationIndex !== -1) {\n        state[integrationIndex] = integration;\n      } else {\n        newIntegrations.push(integration);\n      }\n    });\n\n    return [...state, ...newIntegrations];\n  }\n\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const integrationIndex = state.findIndex((u) => u.id === queueIntegration.id);\n\n    if (integrationIndex !== -1) {\n      state[integrationIndex] = queueIntegration;\n      return [...state];\n    } else {\n      return [queueIntegration, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_INTEGRATION\") {\n    const integrationId = action.payload;\n\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\n    if (integrationIndex !== -1) {\n      state.splice(integrationIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    margin: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  avatar: {\n    width: \"140px\",\n    height: \"40px\",\n    borderRadius: 4\n  },\n}));\n\nconst QueueIntegration = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { getPlanCompany } = usePlans();\n  const companyId = user.companyId;\n  const history = useHistory();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useIntegrations) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchIntegrations = async () => {\n        try {\n          const { data } = await api.get(\"/queueIntegration/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INTEGRATIONS\", payload: data.queueIntegrations });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchIntegrations();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-queueIntegration`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_INTEGRATIONS\", payload: data.queueIntegration });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const handleOpenUserModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseIntegrationModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditIntegration = (queueIntegration) => {\n    setSelectedIntegration(queueIntegration);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteIntegration = async (integrationId) => {\n    try {\n      await api.delete(`/queueIntegration/${integrationId}`);\n      toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\n      >\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <IntegrationModal\n        open={userModalOpen}\n        onClose={handleCloseIntegrationModal}\n        aria-labelledby=\"form-dialog-title\"\n        integrationId={selectedIntegration && selectedIntegration.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon color=\"secondary\" />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"queueIntegration.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\"></TableCell>\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.id\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.name\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queueIntegration.map((integration) => (\n                <TableRow key={integration.id}>\n                  <TableCell >\n                    {integration.type === \"dialogflow\" && (<Avatar \n                      src={dialogflow} className={classes.avatar} />)}\n                    {integration.type === \"n8n\" && (<Avatar\n                      src={n8n} className={classes.avatar} />)}\n                    {integration.type === \"webhook\" && (<Avatar\n                      src={webhooks} className={classes.avatar} />)}\n                    {integration.type === \"typebot\" && (<Avatar\n                      src={typebot} className={classes.avatar} />)}\n                  </TableCell>\n\n                  <TableCell align=\"center\">{integration.id}</TableCell>\n                  <TableCell align=\"center\">{integration.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditIntegration(integration)}\n                    >\n                      <Edit color=\"secondary\" />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(integration);\n                      }}\n                    >\n                      <DeleteOutline color=\"secondary\" />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={7} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QueueIntegration;","import React, { useState } from \"react\";\nimport qs from \"query-string\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Formik, Form, Field } from \"formik\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\nimport logo from \"../../assets/logo.png\";\nimport { toast } from 'react-toastify'; \nimport toastError from '../../errors/toastError';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100vw\",\n    height: \"100vh\",\n    background: \"black\", //Cor de fundo\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"100% 100%\",\n    backgroundPosition: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n  },\n  paper: {\n    backgroundColor: \"white\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: \"55px 30px\",\n    borderRadius: \"12.5px\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  powered: {\n    color: \"white\",\n  },\n}));\n\nconst passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n\nconst ForgetPassword = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  let companyId = null;\n  const [showAdditionalFields, setShowAdditionalFields] = useState(false);\n  const [showResetPasswordButton, setShowResetPasswordButton] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [error, setError] = useState(\"\"); // Estado para mensagens de erro\n\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const toggleConfirmPasswordVisibility = () => {\n    setShowConfirmPassword(!showConfirmPassword);\n  };\n\n  const toggleAdditionalFields = () => {\n    setShowAdditionalFields(!showAdditionalFields);\n    if (showAdditionalFields) {\n      setShowResetPasswordButton(false);\n    } else {\n      setShowResetPasswordButton(true);\n    }\n  };\n\n  const params = qs.parse(window.location.search);\n  if (params.companyId !== undefined) {\n    companyId = params.companyId;\n  }\n\n  const initialState = { email: \"\" };\n\n  const [user] = useState(initialState);\n  const dueDate = moment().add(3, \"day\").format();\n\nconst handleSendEmail = async (values) => {\n  const email = values.email;\n  try {\n    const response = await api.post(\n      `${process.env.REACT_APP_BACKEND_URL}/forgetpassword/${email}`\n    );\n    console.log(\"API Response:\", response.data);\n\n    if (response.data.status === 404) {\n      toast.error(\"Email não encontrado\");\n    } else {\n      toast.success(i18n.t(\"Email enviado com sucesso!\"));\n    }\n  } catch (err) {\n    console.log(\"API Error:\", err);\n    toastError(err);\n  }\n};\n\n  const handleResetPassword = async (values) => {\n    const email = values.email;\n    const token = values.token;\n    const newPassword = values.newPassword;\n    const confirmPassword = values.confirmPassword;\n\n    if (newPassword === confirmPassword) {\n      try {\n        await api.post(\n          `${process.env.REACT_APP_BACKEND_URL}/resetpasswords/${email}/${token}/${newPassword}`\n        );\n        setError(\"\"); // Limpe o erro se não houver erro\n        toast.success(i18n.t(\"Senha redefinida com sucesso.\"));\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const isResetPasswordButtonClicked = showResetPasswordButton;\n  const UserSchema = Yup.object().shape({\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n    newPassword: isResetPasswordButtonClicked\n      ? Yup.string()\n          .required(\"Campo obrigatório\")\n          .matches(\n            passwordRegex,\n            \"Sua senha precisa ter no mínimo 8 caracteres, sendo uma letra maiúscula, uma minúscula e um número.\"\n          )\n      : Yup.string(), // Sem validação se não for redefinição de senha\n    confirmPassword: Yup.string().when(\"newPassword\", {\n      is: (newPassword) => isResetPasswordButtonClicked && newPassword,\n      then: Yup.string()\n        .oneOf([Yup.ref(\"newPassword\"), null], \"As senhas não correspondem\")\n        .required(\"Campo obrigatório\"),\n      otherwise: Yup.string(), // Sem validação se não for redefinição de senha\n    }),\n  });\n\n  return (\n    <div className={classes.root}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <div>\n            <img\n              style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }}\n              src={logo}\n              alt=\"Whats\"\n            />\n          </div>\n          <Typography component=\"h1\" variant=\"h5\">\n            {i18n.t(\"Redefinir senha\")}\n          </Typography>\n          <Formik\n            initialValues={{\n              email: \"\",\n              token: \"\",\n              newPassword: \"\",\n              confirmPassword: \"\",\n            }}\n            enableReinitialize={true}\n            validationSchema={UserSchema}\n            onSubmit={(values, actions) => {\n              setTimeout(() => {\n                if (showResetPasswordButton) {\n                  handleResetPassword(values);\n                } else {\n                  handleSendEmail(values);\n                }\n                actions.setSubmitting(false);\n                toggleAdditionalFields();\n              }, 400);\n            }}\n          >\n            {({ touched, errors, isSubmitting }) => (\n              <Form className={classes.form}>\n                <Grid container spacing={2}>\n                  <Grid item xs={12}>\n                    <Field\n                      as={TextField}\n                      variant=\"outlined\"\n                      fullWidth\n                      id=\"email\"\n                      label={i18n.t(\"signup.form.email\")}\n                      name=\"email\"\n                      error={touched.email && Boolean(errors.email)}\n                      helperText={touched.email && errors.email}\n                      autoComplete=\"email\"\n                      required\n                    />\n                  </Grid>\n                  {showAdditionalFields && (\n                    <>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          id=\"token\"\n                          label=\"Código de Verificação\"\n                          name=\"token\"\n                          error={touched.token && Boolean(errors.token)}\n                          helperText={touched.token && errors.token}\n                          autoComplete=\"off\"\n                          required\n                        />\n                      </Grid>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          type={showPassword ? \"text\" : \"password\"}\n                          id=\"newPassword\"\n                          label=\"Nova senha\"\n                          name=\"newPassword\"\n                          error={\n                            touched.newPassword &&\n                            Boolean(errors.newPassword)\n                          }\n                          helperText={\n                            touched.newPassword && errors.newPassword\n                          }\n                          autoComplete=\"off\"\n                          required\n                          InputProps={{\n                            endAdornment: (\n                              <InputAdornment position=\"end\">\n                                <IconButton\n                                  onClick={togglePasswordVisibility}\n                                >\n                                  {showPassword ? (\n                                    <VisibilityIcon />\n                                  ) : (\n                                    <VisibilityOffIcon />\n                                  )}\n                                </IconButton>\n                              </InputAdornment>\n                            ),\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          type={showConfirmPassword ? \"text\" : \"password\"}\n                          id=\"confirmPassword\"\n                          label=\"Confirme a senha\"\n                          name=\"confirmPassword\"\n                          error={\n                            touched.confirmPassword &&\n                            Boolean(errors.confirmPassword)\n                          }\n                          helperText={\n                            touched.confirmPassword &&\n                            errors.confirmPassword\n                          }\n                          autoComplete=\"off\"\n                          required\n                          InputProps={{\n                            endAdornment: (\n                              <InputAdornment position=\"end\">\n                                <IconButton\n                                  onClick={toggleConfirmPasswordVisibility}\n                                >\n                                  {showConfirmPassword ? (\n                                    <VisibilityIcon />\n                                  ) : (\n                                    <VisibilityOffIcon />\n                                  )}\n                                </IconButton>\n                              </InputAdornment>\n                            ),\n                          }}\n                        />\n                      </Grid>\n                    </>\n                  )}\n                </Grid>\n                {showResetPasswordButton ? (\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    Redefinir Senha\n                  </Button>\n                ) : (\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    Enviar Email\n                  </Button>\n                )}\n                <Grid container justifyContent=\"flex-end\">\n                  <Grid item>\n                    <Link\n                      href=\"#\"\n                      variant=\"body2\"\n                      component={RouterLink}\n                      to=\"/signup\"\n                    >\n                      {i18n.t(\"Não tem uma conta? Cadastre-se!\")}\n                    </Link>\n                  </Grid>\n                </Grid>\n                {error && (\n                  <Typography variant=\"body2\" color=\"error\">\n                    {error}\n                  </Typography>\n                )}\n              </Form>\n            )}\n          </Formik>\n        </div>\n        <Box mt={5} />\n      </Container>\n    </div>\n  );\n};\n\nexport default ForgetPassword;\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\nimport Signup from \"../pages/Signup/\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport SettingsCustom from \"../pages/SettingsCustom/\";\nimport Financeiro from \"../pages/Financeiro/\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts/\";\nimport Queues from \"../pages/Queues/\";\nimport Tags from \"../pages/Tags/\";\nimport MessagesAPI from \"../pages/MessagesAPI/\";\nimport Helps from \"../pages/Helps/\";\nimport ContactLists from \"../pages/ContactLists/\";\nimport ContactListItems from \"../pages/ContactListItems/\";\n// import Companies from \"../pages/Companies/\";\nimport QuickMessages from \"../pages/QuickMessages/\";\nimport Kanban from \"../pages/Kanban\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\nimport Schedules from \"../pages/Schedules\";\nimport Campaigns from \"../pages/Campaigns\";\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\nimport CampaignReport from \"../pages/CampaignReport\";\nimport Annoucements from \"../pages/Annoucements\";\nimport Chat from \"../pages/Chat\";\nimport ToDoList from \"../pages/ToDoList/\";\nimport Subscription from \"../pages/Subscription/\";\nimport Files from \"../pages/Files/\";\nimport Prompts from \"../pages/Prompts\";\nimport QueueIntegration from \"../pages/QueueIntegration\";\nimport ForgetPassword from \"../pages/ForgetPassWord/\"; // Reset PassWd\n\nconst Routes = () => {\n  const [showCampaigns, setShowCampaigns] = useState(false);\n\n  useEffect(() => {\n    const cshow = localStorage.getItem(\"cshow\");\n    if (cshow !== undefined) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <TicketsContextProvider>\n          <Switch>\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n\t\t\t<Route exact path=\"/forgetpsw\" component={ForgetPassword} /> \n            {/* <Route exact path=\"/create-company\" component={Companies} /> */}\n            <WhatsAppsProvider>\n              <LoggedInLayout>\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\n                <Route\n                  exact\n                  path=\"/tickets/:ticketId?\"\n                  component={TicketResponsiveContainer}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/connections\"\n                  component={Connections}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/quick-messages\"\n                  component={QuickMessages}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/todolist\"\n                  component={ToDoList}\n                  isPrivate\n                  />\n                <Route\n                  exact\n                  path=\"/schedules\"\n                  component={Schedules}\n                  isPrivate\n                />\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\n                <Route exact path=\"/users\" component={Users} isPrivate />\n                <Route exact path=\"/files\" component={Files} isPrivate />\n                <Route exact path=\"/prompts\" component={Prompts} isPrivate />\n                <Route exact path=\"/queue-integration\" component={QueueIntegration} isPrivate />\n\n                <Route\n                  exact\n                  path=\"/messages-api\"\n                  component={MessagesAPI}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/settings\"\n                  component={SettingsCustom}\n                  isPrivate\n                />\n\t\t\t\t        <Route \n                  exact\n                  path=\"/kanban\"\n                  component={Kanban}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/financeiro\"\n                  component={Financeiro}\n                  isPrivate\n                />\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\n                <Route\n                  exact\n                  path=\"/announcements\"\n                  component={Annoucements}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/subscription\"\n                  component={Subscription}\n                  isPrivate\n                />\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\n                {showCampaigns && (\n                  <>\n                    <Route\n                      exact\n                      path=\"/contact-lists\"\n                      component={ContactLists}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/contact-lists/:contactListId/contacts\"\n                      component={ContactListItems}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns\"\n                      component={Campaigns}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaign/:campaignId/report\"\n                      component={CampaignReport}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns-config\"\n                      component={CampaignsConfig}\n                      isPrivate\n                    />\n                  </>\n                )}\n              </LoggedInLayout>\n            </WhatsAppsProvider>\n          </Switch>\n          <ToastContainer autoClose={3000} />\n        </TicketsContextProvider>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nimport { ptBR } from \"@material-ui/core/locale\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport ColorModeContext from \"./layout/themeContext\";\nimport { SocketContext, SocketManager } from './context/Socket/SocketContext';\n\nimport Routes from \"./routes\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => {\n    const [locale, setLocale] = useState();\n\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n    const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\n    const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\n\n    const colorMode = React.useMemo(\n        () => ({\n            toggleColorMode: () => {\n                setMode((prevMode) => (prevMode === \"light\" ? \"dark\" : \"light\"));\n            },\n        }),\n        []\n    );\n\n    const theme = createTheme(\n        {\n            scrollbarStyles: {\n                \"&::-webkit-scrollbar\": {\n                    width: '8px',\n                    height: '8px',\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n                    backgroundColor: \"#682EE3\",\n                },\n            },\n            scrollbarStylesSoft: {\n                \"&::-webkit-scrollbar\": {\n                    width: \"8px\",\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\n                },\n            },\n            palette: {\n                type: mode,\n                primary: { main: mode === \"light\" ? \"#1855B0\" : \"#FFFFFF\" },\n                textPrimary: mode === \"light\" ? \"#1855B0\" : \"#FFFFFF\",\n                borderPrimary: mode === \"light\" ? \"#1855B0\" : \"#FFFFFF\",\n                dark: { main: mode === \"light\" ? \"#333333\" : \"#F3F3F3\" },\n                light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\n                tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#666\",\n                optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n\t\t\t\toptions: mode === \"light\" ? \"#fafafa\" : \"#666\",\n\t\t\t\tfontecor: mode === \"light\" ? \"#128c7e\" : \"#fff\",\n                fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n\t\t\t\tbordabox: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tnewmessagebox: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tinputdigita: mode === \"light\" ? \"#fff\" : \"#666\",\n\t\t\t\tcontactdrawer: mode === \"light\" ? \"#fff\" : \"#666\",\n\t\t\t\tannouncements: mode === \"light\" ? \"#ededed\" : \"#333\",\n\t\t\t\tlogin: mode === \"light\" ? \"#fff\" : \"#1C1C1C\",\n\t\t\t\tannouncementspopover: mode === \"light\" ? \"#fff\" : \"#666\",\n\t\t\t\tchatlist: mode === \"light\" ? \"#eee\" : \"#666\",\n\t\t\t\tboxlist: mode === \"light\" ? \"#ededed\" : \"#666\",\n\t\t\t\tboxchatlist: mode === \"light\" ? \"#ededed\" : \"#333\",\n                total: mode === \"light\" ? \"#fff\" : \"#222\",\n                messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\n                inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\n                barraSuperior: mode === \"light\" ? \"linear-gradient(to right, #1855B0, #1855B0 , #1855B0)\" : \"#666\",\n\t\t\t\tboxticket: mode === \"light\" ? \"#EEE\" : \"#666\",\n\t\t\t\tcampaigntab: mode === \"light\" ? \"#ededed\" : \"#666\",\n\t\t\t\tmediainput: mode === \"light\" ? \"#ededed\" : \"#1c1c1c\",\n            },\n            mode,\n        },\n        locale\n    );\n\n    useEffect(() => {\n        const i18nlocale = localStorage.getItem(\"i18nextLng\");\n        const browserLocale =\n            i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n        if (browserLocale === \"ptBR\") {\n            setLocale(ptBR);\n        }\n    }, []);\n\n    useEffect(() => {\n        window.localStorage.setItem(\"preferredTheme\", mode);\n    }, [mode]);\n\n\n\n    return (\n        <ColorModeContext.Provider value={{ colorMode }}>\n            <ThemeProvider theme={theme}>\n                <QueryClientProvider client={queryClient}>\n                  <SocketContext.Provider value={SocketManager}>\n                      <Routes />\n                  </SocketContext.Provider>\n                </QueryClientProvider>\n            </ThemeProvider>\n        </ColorModeContext.Provider>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n","module.exports = __webpack_public_path__ + \"static/media/logo.37517e60.png\";","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.2675a051.png\";","module.exports = __webpack_public_path__ + \"static/media/wa-background-dark.8244f042.png\";","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";"],"sourceRoot":""}